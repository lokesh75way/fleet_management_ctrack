"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[8822],{88822:(e,a,n)=>{n.r(a),n.d(a,{default:()=>P});var s=n(78109),l=n(67236),r=n(78292),t=n(86554),i=n(34571),c=n(4900),d=n(67889),o=n(52454),h=n(6986),m=n(32343),x=n(27515),j=n(25255),p=n(32449),u=n(81310),b=n(47337);const g=e=>{let{onConfirmDelete:a,currentPage:n,itemsPerPage:s,tableData:l}=e;const{can:t}=(0,u.A)(),i=t("branch","modify"),c=t("branch","delete"),d=(n-1)*s+1;return(0,b.jsx)(b.Fragment,{children:null===l||void 0===l?void 0:l.map(((e,n)=>{var s,l,t,o;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:d+n})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-primary",children:e.branchName})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:null!==(s=e.companyId)&&void 0!==s&&s.companyName?null===(l=e.companyId)||void 0===l?void 0:l.companyName:(0,b.jsx)("span",{className:"ps-4",children:"-"})})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:null!==(t=e.businessGroupId)&&void 0!==t&&t.groupName?null===(o=e.businessGroupId)||void 0===o?void 0:o.groupName:(0,b.jsx)("span",{className:"ps-4",children:"-"})})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:e.city})}),(i||c)&&(0,b.jsx)("td",{children:(0,b.jsxs)("span",{className:"d-flex justify-content-center",children:[i&&(0,b.jsx)(r.N_,{to:`/branch/edit/${null===e||void 0===e?void 0:e._id}`,children:(0,b.jsx)("span",{className:"cursor-pointer",children:(0,b.jsx)(j.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),c&&(0,b.jsx)(p.A,{className:"cursor-pointer ",onConfirmDelete:a,id:e._id,children:(0,b.jsx)(x.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},n)}))})};var v=n(70529),N=n(97804),f=n(63226),y=n(71980),C=n(72555),w=n(71459),_=n(96152);const I={control:e=>({...e,marginRight:"1rem",marginLeft:"1rem",width:"15rem",height:"0.6rem",menuPortal:e=>({...e,zIndex:9999}),menu:e=>({...e,zIndex:9999})})},P=()=>{var e,a;const{can:n}=(0,u.A)(),{t:x}=(0,i.Bd)(),j=(0,l.Zp)(),{cId:p}=(0,l.g)(),{page:P,goToPage:T,setCount:k,totalCount:A}=(0,N.A)(),S=(0,c.jE)(),{control:D}=(0,t.mN)(),{data:F,isLoading:E,isFetching:B}=(0,d.I)({queryKey:["branches",P,p],queryFn:()=>(0,w.e3)(P,p),placeholderData:o.rX,staleTime:1/0}),{mutate:z}=(0,h.n)({onError:e=>{(0,v.U)((0,_.SU)(e))},onSuccess:()=>{S.invalidateQueries("companies")},mutationFn:w.SN});(0,s.useEffect)((()=>{F&&k(F.totalCount)}),[F]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.A,{mainTitle:"Branch",pageTitle:"Branch",parentTitle:"Home"}),(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-xl-12",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"card-body p-0",children:(0,b.jsxs)("div",{className:"active-projects style-1 ItemsCheckboxSec shorting",children:[(0,b.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,b.jsx)("h4",{className:"heading mb-0",children:x("branches")}),(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[n("company","view")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.N_,{className:"btn  btn-xxs","data-bs-toggle":"offcanvas",onClick:()=>{j("/branch")},to:"/branch",style:{background:"gray",border:"gray",color:"white"},children:"Clear"}),(0,b.jsx)(t.xI,{name:"company",control:D,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:l,ref:r}}=e;return(0,b.jsx)(f.A,{onChange:e=>{j(`/branch/cid/${null===e||void 0===e?void 0:e.value}`)},defaultValue:p,value:null!==p&&void 0!==p?p:{label:x("allCompanies"),value:"All Companies"},customStyles:I,name:l,ref:r,isDisabled:!n("company","view")})}})]}),n("branch","add")&&(0,b.jsxs)(r.N_,{to:"/branch/create",className:"btn btn-primary btn-sm ms-1",style:{paddingBlock:"9px"},"data-bs-toggle":"offcanvas",children:["+ ",x("addBranch")]})," "]})]}),(0,b.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,b.jsx)("div",{className:"table-responsive ",children:E||B?(0,b.jsx)(C.A,{}):(0,b.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:x("id")}),(0,b.jsx)("th",{children:x("branchName")}),(0,b.jsx)("th",{children:x("companyName")}),(0,b.jsx)("th",{children:x("businessGroup")}),(0,b.jsx)("th",{children:x("location")}),(n("branch","modify")||n("branch","delete"))&&(0,b.jsx)("th",{children:x("action")})]})}),(0,b.jsx)("tbody",{children:null!==(e=F.data)&&void 0!==e&&e.length?(0,b.jsx)(g,{tableData:null!==(a=null===F||void 0===F?void 0:F.data)&&void 0!==a?a:[],currentPage:P,itemsPerPage:10,onConfirmDelete:z}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colspan:"10",rowSpan:2,height:150,children:(0,b.jsx)("h1",{className:"text-center",children:"No Data found!"})})})})]})}),(0,b.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,b.jsxs)("div",{className:"dataTables_info",children:[x("showing")," ",10*(P-1)+1," ",x("to")," ",Math.min(10*P,A)," ",x("of")," ",A," ",x("entries")]}),(0,b.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,b.jsx)(y.A,{totalCount:A,itemsPerPage:10,handlePageClick:e=>{let{selected:a}=e;T(a+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=8822.694fe9e2.chunk.js.map