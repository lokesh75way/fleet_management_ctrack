"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[4427],{84427:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var l=s(65043),r=s(35475),n=(s(62378),s(71232),s(9866)),t=(s(96610),s(31412)),c=s(6720),o=s(60184),i=s(51359),m=s(70579);const d=e=>{let{tableData:a,onConfirmDelete:s,editDrawerOpen:l}=e;return(0,m.jsx)(m.Fragment,{children:a.map(((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.id})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"products",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{children:e.vehicle}),(0,m.jsx)("span",{children:"Web Designer"})]})})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.expenseDate})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.amount})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.description})}),(0,m.jsx)("td",{children:(0,m.jsxs)("span",{className:"d-flex justify-content-center",children:[(0,m.jsx)("span",{onClick:()=>l(e.id),className:"cursor-pointer",children:(0,m.jsx)(o.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),(0,m.jsx)(i.A,{className:"cursor-pointer ",onConfirmDelete:s,id:e.id,children:(0,m.jsx)(c.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},a)))})};var x=s(73216),h=s(28086),j=s(31899),b=s.n(j),u=s(2364),p=(s(9531),s(24858)),f=s(23764),N=s(15075),g=s(69367),v=s(74117);const y=(0,l.forwardRef)(((e,a)=>{let{Title:s,editData:n,setEditData:t,register:c,setValue:o,getValues:i,handleSubmit:d,onSubmit:j,errors:y,control:k,clearErrors:D}=e;const[C,w]=(0,l.useState)(new Date),[A,S]=(0,l.useState)(new Date),[F,I]=(0,l.useState)(!1),[_,E]=(0,l.useState)(null),[T,V]=(0,l.useState)(!1),[B,M]=(0,l.useState)(null),[H,O]=(0,l.useState)(null),[q,L]=(0,l.useState)();(0,l.useImperativeHandle)(a,(()=>({showModal(){I(!0)}})));(0,x.Zp)();const P=e=>{E(e.target.value),o("category",e.target.value)},R=e=>{M(e.target.value),o("jobAllocation",e.target.value)};(0,l.useEffect)((()=>{!0===F&&(D("branch"),D("category"),D("type"),D("amount"),D("referenceNumber"),o("amount",""),o("referenceNumber",""),o("description",""))}),[F]);const U={control:e=>({...e,padding:".25rem 0 "})},{t:z}=(0,v.Bd)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(h.A,{show:F,onHide:I,className:"offcanvas-end customeoff",placement:"end",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"#gridSystemModal",children:s}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>I(!1),children:(0,m.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,m.jsx)("div",{className:"offcanvas-body",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)(p.Op,{children:(0,m.jsxs)("form",{onSubmit:d(j),children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsxs)("label",{className:"form-label",children:[z("branch"),(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"branch",control:k,render:e=>{let{field:{onChange:a,value:s,name:l,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>{L(e.value),o("branch",e.value)},options:N.V,ref:r,name:l,styles:U,defaultValue:N.V[0]})}}),!i("branch")&&(0,m.jsx)(f.A,{errorName:y.branch})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:[z("category"),(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,m.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"variable",checked:"variable"===_,onChange:P}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:z("variable")})]}),(0,m.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"fix",checked:"fix"===_,onChange:P}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:z("fix")})]})]}),!i("category")&&(0,m.jsx)(f.A,{errorName:y.category})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:z("considerJob")}),(0,m.jsx)("div",{className:"".concat("variable"!==_?"form-check custom-checkbox mb-3 pe-none":"form-check custom-checkbox mb-3"),children:(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",onClick:()=>V(!T)})})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:z("jobAllocation")}),(0,m.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,m.jsxs)("div",{className:"".concat(T?"form-check custom-checkbox form-check-inline":"form-check custom-checkbox form-check-inline pe-none"),children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"inProgress",checked:"inProgress"===B,onChange:R}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:z("inProgress")})]}),(0,m.jsxs)("div",{className:"".concat(T?"form-check custom-checkbox form-check-inline":"form-check custom-checkbox form-check-inline pe-none"),children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"completed",checked:"completed"===B,onChange:R}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:z("completed")})]})]})]}),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:z("completedTill")}),(0,m.jsxs)("div",{className:"".concat("completed"!==B?"d-flex align-items-center pe-none":"fd-flex align-items-center"),children:[(0,m.jsx)(p.xI,{name:"startDate",control:k,render:e=>{let{value:a,name:s}=e;return(0,m.jsx)(b(),{selected:i("startDate")||new Date,className:"form-control",onChange:e=>o("startDate",e)})}}),(0,m.jsx)("span",{className:"mx-2",children:z("to")}),(0,m.jsx)(p.xI,{name:"endDate",control:k,render:e=>{let{value:a,name:s}=e;return(0,m.jsx)(b(),{selected:i("endDate")||new Date,className:"form-control",onChange:e=>o("endDate",e)})}})]})]})}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:z("job")}),(0,m.jsx)(p.xI,{name:"job",control:k,render:e=>{let{field:{onChange:a,value:s,name:l,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>o("job",e.value),options:N.wq,ref:r,name:l,styles:U,defaultValue:N.wq[0]})}})]})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsxs)("label",{className:"form-label",children:[z("type"),(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"type",control:k,render:e=>{let{field:{onChange:a,value:s,name:l,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>{L(e.value),o("type",e.value)},options:N.r5,ref:r,name:l,styles:U,defaultValue:N.r5[0]})}}),!i("type")&&(0,m.jsx)(f.A,{errorName:y.type})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"".concat("fix"!==_?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:[z("fromDate")," ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"fromDate",control:k,render:e=>{let{value:a,name:s}=e;return(0,m.jsx)(b(),{selected:i("fromDate")||new Date,className:"form-control",onChange:e=>{L(e),o("fromDate",e)}})}}),!i("fromDate")&&(0,m.jsx)(f.A,{errorName:y.fromDate})]}),(0,m.jsxs)("div",{className:"".concat("fix"!==_?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:[z("toDate")," ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"toDate",control:k,render:e=>{let{value:a,name:s}=e;return(0,m.jsx)(b(),{selected:i("toDate")||new Date,className:"form-control",onChange:e=>{L(e),o("toDate",e)}})}}),!i("toDate")&&(0,m.jsx)(f.A,{errorName:y.toDate})]})]}),(0,m.jsxs)("div",{className:"".concat("fix"!==_?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:[z("expenseDate")," ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"expenseDate",control:k,render:e=>{let{value:a,name:s}=e;return(0,m.jsx)(b(),{selected:i("expenseDate")||new Date,className:"form-control",onChange:e=>o("expenseDate",e)})}}),!i("expenseDate")&&(0,m.jsx)(f.A,{errorName:y.expenseDate})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[z("amount")," ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Amount",name:"amount",placeholder:""}),(0,m.jsx)(f.A,{errorName:y.amount})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[z("referenceNumber")," ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Reference Number",name:"referenceNumber",placeholder:""}),(0,m.jsx)(f.A,{errorName:y.referenceNumber})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"".concat("variable"!==_?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:z("odometer")}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Odometer",name:"odometer",placeholder:""})]}),(0,m.jsxs)("div",{className:"".concat("variable"!==_?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:z("workHour")}),(0,m.jsx)(g.A,{type:"time",register:c,label:"Work Hour",name:"workHour",placeholder:""})]})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:z("billUpload")}),(0,m.jsx)(g.A,{type:"file",register:c,label:"Bill Upload",name:"billUpload",placeholder:""})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:z("description")}),(0,m.jsx)(g.A,{type:"textarea",register:c,label:"Description",name:"description",placeholder:""})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{type:"submit",onClick:()=>{d(j)},className:"btn btn-primary me-1",children:z("submit")}),(0,m.jsx)(r.N_,{to:"#",onClick:()=>I(!1),className:"btn btn-danger light ms-1",children:z("cancel")})]})]})})})})]})})}));var k=s(18403),D=s(87742);const C=e=>{const{t:a}=(0,v.Bd)(),[s,c]=(0,l.useState)(t.PM),{register:o,setValue:i,getValues:x,handleSubmit:h,clearErrors:j,formState:{errors:b},control:u}=(0,p.mN)({resolver:(0,k.t)(D.gZ)}),[f,N]=(0,l.useState)({id:0,status:"",title:"",contact:0,age:0,drivingExperience:0,gender:"",location:""}),[g,C]=(0,l.useState)(document.querySelectorAll("#employee-tbl_wrapper tbody tr")),w=10,A=(0,l.useRef)(0),[S,F]=(0,l.useState)(0),I=(e,a)=>{for(var s=0;s<g.length;++s)s>=e&&s<a?g[s].classList.remove("d-none"):g[s].classList.add("d-none")};(0,l.useEffect)((()=>{C(document.querySelectorAll("#employee-tbl_wrapper tbody tr"))}),[S]),0===A.current&&I(0,w);let _=Array(Math.ceil(g.length/w)).fill().map(((e,a)=>a+1));const E=e=>{A.current=e,I(A.current*w,(A.current+1)*w),F(e)},T=(0,l.useRef)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{mainTitle:a("expense"),pageTitle:a("expense"),parentTitle:a("settings")}),(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body p-0",children:(0,m.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,m.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,m.jsx)("h4",{className:"heading mb-0",children:a("expense")}),(0,m.jsxs)("div",{children:[(0,m.jsxs)(r.N_,{to:"#",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",onClick:()=>{T.current.showModal(),console.log(T)},children:["+ ",a("addExpense")]})," "]})]}),(0,m.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,m.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:a("id")}),(0,m.jsx)("th",{children:a("vehicleName")}),(0,m.jsx)("th",{children:a("expenseDate")}),(0,m.jsx)("th",{children:a("amount")}),(0,m.jsx)("th",{children:a("description")}),(0,m.jsx)("th",{children:a("action")})]})}),(0,m.jsx)("tbody",{children:(0,m.jsx)(d,{editData:f,tableData:s,onConfirmDelete:e=>{const a=s.filter((a=>a.id!==e));c(a)},editDrawerOpen:e=>{s.map((a=>a.id===e&&N(a))),T.current.showModal()},setEditData:N})})]}),(0,m.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,m.jsxs)("div",{className:"dataTables_info",children:[a("showing")," ",A.current*w+1," ",a("to")," ",g.length>(A.current+1)*w?(A.current+1)*w:g.length," ",a("of")," ",g.length," ",a("entries")]}),(0,m.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,m.jsx)(r.N_,{className:"paginate_button previous disabled",to:"/expense",onClick:()=>A.current>0&&E(A.current-1),children:(0,m.jsx)("i",{className:"fa-solid fa-angle-left"})}),(0,m.jsx)("span",{children:_.map(((e,a)=>(0,m.jsx)(r.N_,{to:"/expense",className:"paginate_button  ".concat(A.current===a?"current":""," "),onClick:()=>E(a),children:e},a)))}),(0,m.jsx)(r.N_,{className:"paginate_button next",to:"/expense",onClick:()=>A.current+1<_.length&&E(A.current+1),children:(0,m.jsx)("i",{className:"fa-solid fa-angle-right"})})]})]})]})]})})})})})}),(0,m.jsx)(y,{ref:T,editData:f,register:o,onSubmit:e=>{console.log(e)},setValue:i,getValues:x,setEditData:N,handleSubmit:h,errors:b,control:u,clearErrors:j,Title:0===f.id?a("addExpense"):a("editExpense")})]})}}}]);
//# sourceMappingURL=4427.fff6d6fe.chunk.js.map