"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[8415],{68415:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var n=a(65043),i=a(35475),t=a(74117),c=a(63248),l=a(28261),r=a(99723),d=a(47097),o=a(6720),h=a(60184),m=a(45350),x=a(95977),j=a(70579);const p=e=>{let{tableData:s,currentPage:a,itemsPerPage:n,onConfirmDelete:t}=e;const{can:c}=(0,m.A)(),l=c("technician","modify"),r=c("technician","delete"),d=(a-1)*n+1;return(0,j.jsx)(j.Fragment,{children:s.map(((e,s)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsx)("span",{children:d+s})}),(0,j.jsx)("td",{children:(0,j.jsx)("div",{className:"products",children:(0,j.jsx)("div",{children:(0,j.jsx)("h6",{children:e.firstName+e.lastName})})})}),(0,j.jsx)("td",{children:(0,j.jsx)("span",{className:"text-primary",children:e.email})}),(0,j.jsx)("td",{children:(0,j.jsx)("span",{children:e.mobileNumber})}),(0,j.jsx)("td",{children:(0,j.jsx)("span",{children:e.address.country})}),(0,j.jsx)("td",{children:(0,j.jsx)("span",{children:e.technicianNo})}),(l||r)&&(0,j.jsx)("td",{children:(0,j.jsxs)("span",{className:"d-flex justify-content-center",children:[l&&(0,j.jsx)(i.N_,{to:"/technician/edit/".concat(null===e||void 0===e?void 0:e._id),children:(0,j.jsx)("span",{className:"cursor-pointer",children:(0,j.jsx)(h.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),r&&(0,j.jsx)(x.A,{className:"cursor-pointer ",onConfirmDelete:t,id:e._id,children:(0,j.jsx)(o.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},s)))})};var u=a(18733),b=a(272),N=a(42457),f=a(94692),g=a(40399),v=a(19172),y=a(5761);const C=()=>{const{t:e}=(0,t.Bd)(),{can:s}=(0,m.A)(),{page:a,goToPage:o,setCount:h,totalCount:x}=(0,f.A)(),C=(0,c.jE)(),{data:T,isLoading:_,isFetching:w}=(0,l.I)({queryKey:["technicians",a],queryFn:()=>(0,y.LD)(a),placeholderData:r.rX,staleTime:1/0}),{mutate:P}=(0,d.n)({onError:e=>{(0,N.U)((0,b.SU)(e))},onSuccess:()=>{C.invalidateQueries("technicians")},mutationFn:y.aW});(0,n.useEffect)((()=>{T&&h(T.totalCount)}),[T]);const D=[e("technicianId"),e("technicianName"),e("email"),e("contactNumber"),e("location"),e("technicianNumber")];return(s("technician","modify")||s("technician","delete"))&&D.push(e("action")),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.A,{mainTitle:e("technicianDetails"),pageTitle:e("technicianDetails"),parentTitle:e("home")}),(0,j.jsx)("div",{className:"container-fluid",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-xl-12",children:(0,j.jsx)("div",{className:"card",children:(0,j.jsx)("div",{className:"card-body p-0",children:(0,j.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,j.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,j.jsx)("h4",{className:"heading mb-0",children:e("technician")}),(0,j.jsx)("div",{children:s("technician","add")&&(0,j.jsxs)(i.N_,{to:"/technician/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",children:["+ ",e("technician")]})})]}),(0,j.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,j.jsx)("div",{className:"table-responsive",children:w||_?(0,j.jsx)(u.A,{}):(0,j.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:D.map((s=>(0,j.jsx)("th",{children:e(s)},s)))})}),(0,j.jsx)("tbody",{children:(0,j.jsx)(p,{onConfirmDelete:P,tableData:(null===T||void 0===T?void 0:T.data)||[],currentPage:a,itemsPerPage:10})})]})}),(0,j.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,j.jsxs)("div",{className:"dataTables_info",children:[e("showing")," ",10*(a-1)+1," ",e("to")," ",Math.min(10*a,x)," ",e("of")," ",x," ",e("entries")]}),(0,j.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,j.jsx)(v.A,{totalCount:x,itemsPerPage:10,handlePageClick:e=>{let{selected:s}=e;o(s+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=8415.65f8a469.chunk.js.map