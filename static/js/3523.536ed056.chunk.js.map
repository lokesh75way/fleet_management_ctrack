{"version":3,"file":"static/js/3523.536ed056.chunk.js","mappings":"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","sources":["features/featureTemplate/api.js","features/featureTemplate/components/Table.jsx","features/featureTemplate/pages/List.jsx"],"sourcesContent":["import { axiosInstance as axios } from \"@/services/api\";\n\nexport const getAllModules = async () => {\n  const { data } = await axios.get(\"/modules\");\n  return data?.data;\n};\n\nexport const getAllTemplates = async (page) => {\n  let url = \"/feature-template\";\n  if (page !== undefined) {\n    url += `?page=${page}&limit=${10}`;\n  }\n  const { data } = await axios.get(url);\n  return {\n    data: data.data.data,\n    totalPage: data.data.totalPage,\n    totalCount: data.data.totalCount,\n  };\n};\n\nexport const deleteTemplate = async (id) => {\n  return await axios.delete(`/feature-template/${id}`);\n};\n\nexport const createTemplate = async (body) => {\n  return await axios.post(\"/feature-template\", body);\n};\n\nexport const updateTemplate = async (body) => {\n  return await axios.patch(\"/feature-template\", body);\n};\n\nexport const getTemplateById = async (id) => {\n  const { data } = await axios.get(`/feature-template/${id}`);\n  return data?.data?.data;\n};","import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\n\nimport usePermissions from \"@/hooks/usePermissions\";\nimport DeleteModal from \"@/components/Modal/DeleteModal\";\n\nconst TemplateTable = ({\n  onConfirmDelete,\n  currentPage,\n  itemsPerPage,\n  tableData,\n}) => {\n  const { can } = usePermissions();\n  const editPermission = can(\"groups\", \"modify\");\n  const deletePermission = can(\"groups\", \"delete\");\n\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={index}>\n          <td>\n            <div className=\"products d-flex justify-content-center\">\n              <h6>{startIndex + index}</h6>\n            </div>\n          </td>\n          <td>\n            <div className=\"products d-flex justify-content-center\">\n              <h6>{item.name}</h6>\n            </div>\n          </td>\n          {(editPermission || deletePermission) && (\n            <td>\n              <span className=\"d-flex justify-content-center\">\n                {editPermission && (\n                  <Link to={`/groups/edit/${item?._id}`}>\n                    <span className=\"cursor-pointer\">\n                      <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n                    </span>\n                  </Link>\n                )}\n                {deletePermission && (\n                  <DeleteModal\n                    className=\"cursor-pointer \"\n                    onConfirmDelete={onConfirmDelete}\n                    id={item?._id}\n                  >\n                    <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                  </DeleteModal>\n                )}\n              </span>\n            </td>\n          )}\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default TemplateTable;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  keepPreviousData,\n  useMutation,\n  useQuery,\n  useQueryClient,\n} from \"@tanstack/react-query\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nimport TableSkeleton from \"@/components/Skeleton/Table\";\nimport usePermissions from \"@/hooks/usePermissions\";\nimport { notifyError } from \"@/utils/toast\";\nimport { getApiErrorMessage } from \"@/utils/helper\";\nimport { deleteTemplate, getAllTemplates } from \"../api\";\nimport usePagination from \"@/hooks/usePagination\";\nimport MainPagetitle from \"@/components/MainPagetitle\";\nimport Paginate from \"@/components/Paginate\";\nimport TemplateTable from \"../components/Table\";\n\nconst TemplateList = () => {\n  const { t } = useTranslation();\n  const { can } = usePermissions();\n  const { page, goToPage, setCount, totalCount } = usePagination();\n  const queryClient = useQueryClient();\n  const itemsPerPage = 10;\n\n  const [isEditTrue, setIsEditTrue] = useState(-1);\n\n  const { data, isLoading, isFetching } = useQuery({\n    queryKey: [\"groups\", page],\n    queryFn: () => getAllTemplates(page),\n    placeholderData: keepPreviousData,\n    staleTime: Infinity,\n  });\n\n  const { mutate } = useMutation({\n    onError: (err) => notifyError(getApiErrorMessage(err)),\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"groups\");\n    },\n    mutationFn: deleteTemplate,\n  });\n\n  useEffect(() => {\n    if (data) setCount(data.totalCount);\n  }, [data]);\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"featureTemplates\")}\n        pageTitle={t(\"featureTemplates\")}\n        parentTitle={t(\"home\")}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"featureTemplates\")}</h4>\n                    <div>\n                      {can(\"groups\", \"add\") && (\n                        <Link\n                          to={\"/groups/create\"}\n                          className=\"btn btn-primary btn-sm ms-1\"\n                          data-bs-toggle=\"offcanvas\"\n                          style={{ paddingBlock: \"9px\" }}\n                        >\n                          + {t(\"addNew\")}\n                        </Link>\n                      )}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    <div className=\"table-responsive\">\n                      {isLoading || isFetching ? (\n                        <TableSkeleton />\n                      ) : (\n                        <table\n                          id=\"empoloyees-tblwrapper\"\n                          className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                        >\n                          <thead>\n                            <tr>\n                              <th className=\"text-center\">\n                                {t(\"serialNumber\")}\n                              </th>\n                              <th className=\"text-center\">\n                                {t(\"templateName\")}\n                              </th>\n                              {(can(\"groups\", \"modify\") ||\n                                can(\"groups\", \"delete\")) && (\n                                <th className=\"text-center\">{t(\"action\")}</th>\n                              )}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <TemplateTable\n                              isEditTrue={isEditTrue}\n                              setIsEditTrue={setIsEditTrue}\n                              tableData={data?.data ?? []}\n                              onConfirmDelete={mutate}\n                              currentPage={page}\n                              itemsPerPage={itemsPerPage}\n                            />\n                          </tbody>\n                        </table>\n                      )}\n                    </div>\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default TemplateList;\n"],"names":["getAllModules","async","data","axios","get","getAllTemplates","url","undefined","page","concat","totalPage","totalCount","deleteTemplate","delete","id","createTemplate","post","body","updateTemplate","patch","getTemplateById","_data$data","_ref","onConfirmDelete","currentPage","itemsPerPage","tableData","can","usePermissions","editPermission","deletePermission","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","name","Link","to","_id","FaEdit","style","color","fontSize","DeleteModal","MdDelete","TemplateList","t","useTranslation","goToPage","setCount","usePagination","queryClient","useQueryClient","isEditTrue","setIsEditTrue","useState","isLoading","isFetching","useQuery","queryKey","queryFn","placeholderData","keepPreviousData","staleTime","Infinity","mutate","useMutation","onError","err","notifyError","getApiErrorMessage","onSuccess","invalidateQueries","mutationFn","useEffect","MainPagetitle","mainTitle","pageTitle","parentTitle","paddingBlock","TableSkeleton","TemplateTable","Math","min","Paginate","handlePageClick","selected"],"sourceRoot":""}