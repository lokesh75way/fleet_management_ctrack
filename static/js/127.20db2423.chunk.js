"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[127],{24490:(e,l,a)=>{a.d(l,{A:()=>c});var s=a(65043),t=a(89698),n=a(44978),i=a(74805),o=a(28334),r=a(70579);const c=e=>{let{heading:l,register:a,errors:c,id:d,getValues:u}=e;const[m,v]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"mt-4 mb-4",children:l}),(0,r.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("username")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)(i.A,{type:"text",register:a,label:"userName",name:"userName",placeholder:"",defaultValue:u("userName"),disabled:!!d}),(0,r.jsx)(o.A,{errorName:c.userName})]}),!d&&(0,r.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("password")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsx)(i.A,{type:m?"text":"password",register:a,label:"Password",name:"password",placeholder:""}),(0,r.jsx)("span",{className:"showPasswordIcon",onClick:()=>{v(!m)},children:m?(0,r.jsx)(t.mI_,{}):(0,r.jsx)(t.ZT8,{})})]}),!d&&(0,r.jsx)(o.A,{errorName:c.password})]})]})}},79055:(e,l,a)=>{a.d(l,{A:()=>v});var s=a(65043),t=a(13052),n=a(28334),i=a(74805),o=a(42297),r=a(85756),c=a(74117),d=a(70579);const u=e=>{let{countryCode:l,customStyle:a,setValue:t,id:n,dValues:i,Comptype:u}=e;const{t:m}=(0,c.Bd)(),[v,x]=(0,s.useState)([]),[b,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=r.Ay.getCountry(l);if(e){const l=e.timezones;l&&l.length>0&&(x(l.map((e=>({label:"(GMT ".concat(p(e),") ").concat(e," "),value:e})))),h({label:"(GMT ".concat(p(l[0]),") ").concat(l[0]," "),value:l[0]}),t("timezone",l[0]))}}),[l]),(0,s.useEffect)((()=>{if(i&&n){var e,l;const a="companyId"===u?null===(e=i.companyId)||void 0===e?void 0:e.timezone:"businessGroupId"===u?null===(l=i.businessGroupId)||void 0===l?void 0:l.timezone:i.timezone;t("timezone",a),a&&(h({label:"(GMT ".concat(p(a),") ").concat(a),value:a}),console.log(b,"hi"))}}),[i,n]);const p=e=>{const l=r.Ay.getTimezone(e).utcOffset,a=Math.abs(Math.floor(l/60)),s=Math.abs(l%60);return"".concat(l>=0?"+":"-").concat(a,":").concat(s.toString().padStart(2,"0"))};return(0,d.jsxs)("div",{className:"col-xl-3",children:[(0,d.jsxs)("label",{htmlFor:"timezone",children:[m("timezone"),":"]}),(0,d.jsx)(o.Ay,{id:"timezone",value:b,styles:a,onChange:e=>{t("timezone",e.value),h(e)},options:v})]})},m={control:e=>({...e,padding:".25rem 0 "})},v=e=>{let{register:l,setValue:a,errors:r,getValues:v,locationData:x,dValues:b,id:h,showCity:p,Comptype:j,showtimeZone:f=!0}=e;const{t:y}=(0,c.Bd)(),[N,g]=(0,s.useState)(null),[A,w]=(0,s.useState)(null),[I,S]=(0,s.useState)(null),[V,C]=(0,s.useState)([]),[E,z]=(0,s.useState)([]),[D,F]=(0,s.useState)([]),[k,G]=(0,s.useState)("IND"),[L,M]=(0,s.useState)(null);(0,s.useEffect)((()=>{(0,t.xb)().then((e=>{C(e)}))}),[]),(0,s.useEffect)((()=>{if(h){if(null!==b&&void 0!==b&&b.city&&(a("city",b.city),S({value:b.city,label:b.city})),null!==b&&void 0!==b&&b.country){a("country",b.country);const e=P.find((e=>e.value===(null===b||void 0===b?void 0:b.country)));e&&J(e)}if(null!==b&&void 0!==b&&b.state&&(a("state",b.state||""),w({value:b.state,label:b.state||""}),null!==b&&void 0!==b&&b.country&&null!==b&&void 0!==b&&b.state&&L)){const e=E.find((e=>W(e)===b.state));e&&B(L,e.id)}}else{var e;if(null!==x&&void 0!==x&&null!==(e=x.country)&&void 0!==e&&e.isoAlpha3){var l,s,n,i,o,r,c;g({value:null===x||void 0===x||null===(l=x.country)||void 0===l?void 0:l.isoAlpha3,label:null===x||void 0===x||null===(s=x.country)||void 0===s?void 0:s.isoName}),a("country",null===x||void 0===x||null===(n=x.country)||void 0===n?void 0:n.isoAlpha3),G(null===x||void 0===x||null===(i=x.country)||void 0===i?void 0:i.isoAlpha2);const e=T(null===x||void 0===x||null===(o=x.country)||void 0===o?void 0:o.isoAlpha3);var d,u,m,v,p,j;if(M(e),null!==x&&void 0!==x&&null!==(r=x.location)&&void 0!==r&&r.principalSubdivision)w({value:null===x||void 0===x||null===(d=x.location)||void 0===d?void 0:d.principalSubdivision,label:(null===x||void 0===x||null===(u=x.location)||void 0===u?void 0:u.principalSubdivision)||""}),a("state",(null===x||void 0===x||null===(m=x.location)||void 0===m?void 0:m.principalSubdivision)||""),(0,t.Wm)(e).then((l=>{z(l);const a=l.find((e=>{var l;return W(e)===(null===x||void 0===x||null===(l=x.location)||void 0===l?void 0:l.principalSubdivision)}));a&&B(e,a.id)}));else(0,t.Wm)(e).then((e=>{z(e)}));if(null!==x&&void 0!==x&&null!==(c=x.location)&&void 0!==c&&c.city)a("city",null===x||void 0===x||null===(v=x.location)||void 0===v?void 0:v.city),S({value:null===x||void 0===x||null===(p=x.location)||void 0===p?void 0:p.city,label:null===x||void 0===x||null===(j=x.location)||void 0===j?void 0:j.city})}}}),[x,h,b,V]);const T=e=>{const l=V.find((l=>l.iso3===e));return l?l.id:null},B=async(e,l)=>{if(e&&l)try{const a=await(0,t.mA)(e,l);F(a)}catch(a){console.error("Error loading cities:",a),F([])}else F([])},J=async e=>{const l=e.value,s=T(l);M(s);const n=V.find((e=>e.iso3===l));G(n.iso2),a("country",l),g({value:l,label:n.name}),z([]),F([]),w(null),S(null),a("state",""),a("city","");const i=await(0,t.Wm)(s);z(i)},W=e=>"United Arab Emirates"===(null===N||void 0===N?void 0:N.label)&&e.name.endsWith(" Emirate")?e.name.replace(" Emirate",""):e.name,P=V.map((e=>({value:e.iso3,label:e.name}))),q=E.map((e=>({value:e.name,label:W(e)}))),O=D.map((e=>({value:e.name,label:e.name})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("country")}),(0,d.jsx)(o.Ay,{options:P,value:N,styles:m,onChange:J},"country-".concat(null===N||void 0===N?void 0:N.value)),!N&&(0,d.jsx)(n.A,{errorName:r.country})]}),(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("state")}),(0,d.jsx)(o.Ay,{options:q,value:A,styles:m,onChange:async e=>{const l=e.value,s=E.find((e=>e.name===l)),t=W(s);a("state",t),w({value:t,label:t}),F([]),S(null),a("city",""),await B(L,s.id)},isDisabled:!N},"state-".concat(null===A||void 0===A?void 0:A.value)),!A&&(0,d.jsx)(n.A,{errorName:r.state})]}),p&&(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("city")}),D.length>0?(0,d.jsx)(o.Ay,{options:O,value:I,styles:m,onChange:e=>{const l=e.value;a("city",l),S({value:l,label:l})},isDisabled:!A},"city-".concat(null===I||void 0===I?void 0:I.value)):(0,d.jsx)(i.A,{type:"text",register:l,label:"City",name:"city",placeholder:"",defaultValue:v("city")}),(0,d.jsx)(n.A,{errorName:r.city})]}),p&&f&&(0,d.jsx)(u,{setValue:a,id:h,countryCode:k,customStyle:m,Comptype:j})]})}},99793:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var s=a(74805),t=a(28334),n=a(27940),i=a(44978),o=a(70579);const r=e=>{var l,a,r,c,d,u,m,v;let{field:x,fields:b,index:h,register:p,getValues:j,errors:f,remove:y,id:N}=e;return(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[b.length>1&&(0,o.jsx)("div",{className:"flex-grow-1 mb-3",children:(0,o.jsxs)("h5",{children:["User ",h+1]})}),b.length>1&&(0,o.jsx)("div",{className:"mr-5",onClick:()=>(e=>{y(e)})(h),children:n.Os.Delete})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("name")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:p,label:"name",name:"userInfo.".concat(h,".name"),placeholder:"",defaultValue:j("userInfo.".concat(h,".name"))}),(0,o.jsx)(t.A,{errorName:null===(l=f.userInfo)||void 0===l||null===(a=l[h])||void 0===a?void 0:a.name})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("designation")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:p,label:"designation",name:"userInfo.".concat(h,".designation"),placeholder:"",defaultValue:j("userInfo.".concat(h,".designation"))}),(0,o.jsx)(t.A,{errorName:null===(r=f.userInfo)||void 0===r||null===(c=r[h])||void 0===c?void 0:c.designation})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("mobileNumber"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"number",register:p,name:"userInfo.".concat(h,".mobileNumber"),label:"Mobile Number",placeholder:"",min:"0",onInput:e=>{const l=Math.max(0,e.target.value);e.target.value=l<1?"":l},defaultValue:j("userInfo.".concat(h,".mobileNumber"))}),(0,o.jsx)(t.A,{errorName:null===(d=f.userInfo)||void 0===d||null===(u=d[h])||void 0===u?void 0:u.mobileNumber})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("email"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"email",register:p,name:"userInfo.".concat(h,".email"),label:"email",placeholder:"",defaultValue:j("userInfo.".concat(h,".email"))}),(0,o.jsx)(t.A,{errorName:null===(m=f.userInfo)||void 0===m||null===(v=m[h])||void 0===v?void 0:v.email})]})]},x.id)}},127:(e,l,a)=>{a.d(l,{A:()=>y});var s=a(65043),t=a(14282),n=a(24858),i=a(42297),o=a(73216),r=a(74117),c=a(28334),d=a(74805),u=a(87460),m=a(87407),v=a(92548),x=a(24490),b=a(99793),h=a(79055),p=a(75636),j=a(70579);const f={control:e=>({...e,padding:".25rem 0 "})},y=e=>{let{setValue:l,getValues:a,register:y,onSubmit:N,handleSubmit:g,errors:A,control:w,isFormSubmitting:I}=e;const{fields:S,append:V,remove:C}=(0,n.jz)({control:w,name:"userInfo"}),[E,z]=(0,s.useState)(!1),{t:D}=(0,r.Bd)(),{location:F,error:k}=(0,p.A)(),{id:G}=(0,o.g)();return(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsxs)("div",{className:"row",style:{width:"85%"},children:[(0,j.jsx)("div",{children:k&&(0,j.jsx)("p",{children:k})}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,j.jsxs)("label",{className:"form-label",children:[D("businessGroup"),(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(n.xI,{name:"businessGroupId",control:w,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(v.A,{onChange:e=>{l("businessGroupId",e.value)},defaultValue:s,ref:n,name:t,customStyles:f})}}),!a("businessGroupId")&&(0,j.jsx)(c.A,{errorName:A.businessGroupId})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsxs)("label",{className:"form-label",children:[D("companyName")," ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"text",register:y,required:!0,label:"Company Name",name:"companyName",defaultValue:a("companyName"),placeholder:""}),(0,j.jsx)(c.A,{errorName:A.companyName})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsx)("label",{className:"form-label",children:D("tradeLicenseNumber")}),(0,j.jsx)(d.A,{type:"text",register:y,label:"tradeLicenseNumber",name:"tradeLicenseNumber",placeholder:"",defaultValue:a("tradeLicenseNumber")}),(0,j.jsx)(c.A,{errorName:A.tradeLicenseNumber})]}),(0,j.jsxs)("span",{className:"absolute",style:{position:"absolute",top:"23%",right:"-42%",overflow:"hidden"},children:[(0,j.jsx)(m.A,{setValue:l,register:y,label:D("Business-Group-Logo"),name:"logo",getValue:a,setLoading:z,loading:E,link:a("logo")}),(0,j.jsx)(c.A,{errorName:A.logo})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:D("officeNo")}),(0,j.jsx)(d.A,{type:"text",register:y,label:"officeNumber",name:"officeNumber",placeholder:"",defaultValue:a("officeNumber")}),(0,j.jsx)(c.A,{errorName:A.officeNumber})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsxs)("label",{className:"form-label",children:[D("email"),(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"email",register:y,label:"Email",name:"email",placeholder:"",defaultValue:a("email"),disabled:!!G}),(0,j.jsx)(c.A,{errorName:A.email})]}),(0,j.jsx)(h.A,{register:y,setValue:l,errors:A,getValues:a,dValues:{country:a("country"),state:a("state"),city:a("city")},locationData:F,id:G,showCity:!0,Comptype:"companyId"}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:D("dateFormat")}),(0,j.jsx)(n.xI,{name:"dateFormat",control:w,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("dateFormat",null===e||void 0===e?void 0:e.value),options:u.wJ,ref:n,name:t,styles:f,value:u.wJ.find((e=>e.value===s))||u.wJ[0],defaultValue:u.wJ[0]})}}),(0,j.jsx)(c.A,{errorName:A.dateFormat})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:D("timeFormat")}),(0,j.jsx)(n.xI,{name:"timeFormat",control:w,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("timeFormat",e.value),options:u.lD,ref:n,name:t,styles:f,value:u.lD.find((e=>e.value===s))||u.lD[1],defaultValue:u.lD[1]})}})]}),(0,j.jsx)(x.A,{heading:D("companyLoginDetails"),register:y,errors:A,id:G,getValues:a}),(0,j.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",margin:"2rem 0"},children:[(0,j.jsx)("h3",{children:D("contactDetails")}),(0,j.jsx)(t.A,{type:"button",onClick:()=>{V({name:"",designation:"",mobileNumber:null,email:""})},style:{width:"10%"},children:D("add")})]}),S.map(((e,l)=>(0,j.jsx)(b.A,{field:e,index:l,register:y,getValues:a,errors:A,fields:S,remove:C,id:G},e.id)))]}),(0,j.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,j.jsx)(t.A,{disabled:E||I,type:"submit",onClick:g(N),style:{width:"10%"},children:D("submit")})})]})}},75636:(e,l,a)=>{a.d(l,{A:()=>n});var s=a(65043),t=a(77154);const n=()=>{const[e,l]=(0,s.useState)(null),[a,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{u(!0);const e="bdc_031d6a642ab94e0b8f5376a97ded1793";if(!e)throw new Error("API key is missing.");const a=await t.A.get("https://api.bigdatacloud.net/data/ip-geolocation?key=".concat(e));l(a.data.location.latitude),n(a.data.location.longitude);const s=a.data;c(s),o(null)}catch(i){o("Error getting location data: "+i.message)}finally{u(!1)}})()}),[]),{location:r,lat:e,lng:a,isLoading:d,error:i}}}}]);
//# sourceMappingURL=127.20db2423.chunk.js.map