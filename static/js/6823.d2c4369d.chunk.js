(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[6823],{61285:(e,l,a)=>{"use strict";a.d(l,{A:()=>u});var s=a(65043),r=a(14282),t=a(13052),n=a(24858),o=a(42297),m=a(23764),c=a(69367),i=a(86151),d=a(59167),x=(a(80360),a(73216)),h=a(70579);const u=e=>{let{setValue:l,getValues:a,register:u,onSubmit:b,handleSubmit:p,errors:j,control:N}=e;const{checkRole:f,checkUser:y}=(0,d.A)(),[g,v]=(0,s.useState)(0),[C,A]=(0,s.useState)(0),[w,S]=(0,s.useState)(),[k,F]=(0,s.useState)(!1),E={control:e=>({...e,padding:".25rem 0 "})},P=i.filter((e=>"businessgroup"===e.role)).map((e=>({label:e.email,value:e.id}))),[V,D]=(i.filter((e=>"company"===e.role)).map((e=>({label:e.email,value:e.id}))),(0,s.useState)()),I=localStorage.getItem("role");(0,s.useEffect)((()=>{D("admin"==I)}),[]);const{id:T}=(0,x.g)();console.log("CompanyForm ID from params:",T);const L=JSON.parse(localStorage.getItem("companyData")).filter((e=>e.id===T)),[U,O]=(0,s.useState)(L);return(0,h.jsxs)("div",{className:"p-4",children:[(0,h.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsx)("label",{className:"form-label",children:"Business Group"}),f()?(0,h.jsx)(c.A,{type:"text",required:!0,register:u,lable:"Parent",name:"parent",placeholder:"",value:y(),isDisabled:V}):(0,h.jsx)(n.xI,{name:"parent",control:N,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,h.jsx)(o.Ay,{onChange:e=>{S(e.label),l("parent",e.label)},options:P,ref:t,name:r,styles:E,defaultValue:P[0]})}})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{className:"form-label",children:["Company",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"text",register:u,required:!0,label:"Company",name:"company",placeholder:"",defaultValue:U[0]?U[0].company:""}),(0,h.jsx)(m.A,{errorName:j.company})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{className:"form-label",children:["Country",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(t.b3,{onChange:e=>{v(e.id),l("country",e.id)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select Country"}),!a("country")&&(0,h.jsx)(m.A,{errorName:j.country})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{className:"form-label",children:["State",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)("div",{style:{background:"white"},children:(0,h.jsx)(t.QO,{countryid:g,onChange:e=>{A(e.id),l("state",e.id)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select State"})}),!a("state")&&(0,h.jsx)(m.A,{errorName:j.state})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsxs)("label",{className:"form-label",children:["User Name ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"text",register:u,required:!0,label:"User Name",name:"userName",placeholder:"",defaultValue:U[0]?U[0].userName:""}),(0,h.jsx)(m.A,{errorName:j.userName})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsx)("label",{className:"form-label",children:"Change Password"}),(0,h.jsx)("div",{className:"form-check custom-checkbox mb-3",children:(0,h.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",onClick:()=>F(!k)})})]}),k&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsxs)("label",{className:"form-label",children:["Old Password",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"password",register:u,name:"oldPassword",label:"Old Password",placeholder:"",defaultValue:U[0].oldPassword}),(0,h.jsx)(m.A,{errorName:j.oldPassword})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsxs)("label",{className:"form-label",children:["New Password",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"password",register:u,label:"New Password",name:"newPassword",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.newPassword})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsxs)("label",{className:"form-label",children:["Retype Password",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"password",register:u,label:"Retype Passwor",name:"retypePassword",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.retypePassword})]})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Password Recovery Email"}),(0,h.jsx)(c.A,{type:"email",register:u,label:"Password Recovery Email",name:"passwordRecoveryEmail",placeholder:"",defaultValue:U[0]?U[0].passwordRecoveryEmail:""}),(0,h.jsx)(m.A,{errorName:j.passwordRecoveryEmail})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Help Desk Email"}),(0,h.jsx)(c.A,{type:"email",register:u,name:"helpDeskEmail",label:"Help Desk Email",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.helpDeskEmail})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Help Desk Telephone Number"}),(0,h.jsx)(c.A,{type:"number",register:u,className:"form-control",label:"Help Desk Telephone Number",name:"helpDeskTelephoneNumber",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.helpDeskTelephoneNumber})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Mobile Number"}),(0,h.jsx)(c.A,{type:"number",register:u,name:"mobileNumber",label:"Mobile Number",placeholder:"",defaultValue:U[0]?U[0].mobileNumber:""}),(0,h.jsx)(m.A,{errorName:j.mobileNumber})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Whatsapp Contact Number"}),(0,h.jsx)(c.A,{type:"number",register:u,className:"form-control",label:"Whatsapp Contact Number",name:"whatsappContactNumber",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.whatsappContactNumber})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["City",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"text",register:u,label:"City",name:"city",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.city})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:["Zip Code",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"number",register:u,label:"Zip Code",name:"zipCode",placeholder:"",defaultValue:U[0]?U[0].zipCode:""}),(0,h.jsx)(m.A,{errorName:j.zipCode})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Street1",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsx)(c.A,{type:"text",register:u,label:"Street1",name:"street1",placeholder:""}),(0,h.jsx)(m.A,{errorName:j.street1})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Street2"}),(0,h.jsx)(c.A,{type:"text",register:u,label:"Street2",name:"street2",placeholder:""})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,h.jsx)("label",{className:"form-label",children:"Contact Person"}),(0,h.jsx)(c.A,{type:"text",register:u,label:"Contact Person",name:"contactPerson",placeholder:""})]}),(0,h.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,h.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:"Fax Number"}),(0,h.jsx)(c.A,{type:"number",register:u,label:"Fax Number",name:"faxNumber",placeholder:""})]})]}),(0,h.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,h.jsxs)(r.A,{type:"submit",onClick:p(b),style:{width:"10%"},children:[" ","Submit"]})})]})}},26313:(e,l,a)=>{"use strict";a.d(l,{A:()=>c});a(65043);var s=a(14282),r=(a(13052),a(24858)),t=a(42297),n=a(23764),o=a(15075),m=a(70579);const c=e=>{let{setValue:l,handleSubmit:a,onSubmit:c,errors:i,control:d}=e;const x={control:e=>({...e,padding:".25rem 0 "})};return(0,m.jsxs)("div",{className:"p-4",children:[(0,m.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Date Format"}),(0,m.jsx)(r.xI,{name:"dateFormat",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("dateFormat",e.value),options:o.wJ,ref:n,name:r,styles:x,defaultValue:o.wJ[0]})}}),(0,m.jsx)(n.A,{errorName:i.dateFormat})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Time Format"}),(0,m.jsx)(r.xI,{name:"timeFormat",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("timeFormat",e.value),options:o.lD,ref:n,name:r,styles:x,defaultValue:o.lD[0]})}})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Unit of Distance"}),(0,m.jsx)(r.xI,{name:"fuelEconomyScaling",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("unitOfDistance",e.value),options:o.jZ,ref:n,name:r,styles:x,defaultValue:o.EE[0]})}})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Preferred Currency Unit"}),(0,m.jsx)(r.xI,{name:"preferredCurrencyUnit",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("preferredCurrencyUnit",e.value),options:o.tX,ref:n,name:r,styles:x,defaultValue:o.tX[0]})}})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Unit of Fuel"}),(0,m.jsx)(r.xI,{name:"unitOfFuel",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("unitOfFuel",e.value),options:o.CG,ref:n,name:r,styles:x,defaultValue:o.CG[0]})}})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Fuel Economy Scaling"}),(0,m.jsx)(r.xI,{name:"fuelEconomyScaling",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:n}}=e;return(0,m.jsx)(t.Ay,{onChange:e=>l("fuelEconomyScaling",e.value),options:o.EE,ref:n,name:r,styles:x,defaultValue:o.EE[0]})}})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Upload Logo : "}),(0,m.jsx)(r.xI,{name:"uploadLogo",control:d,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,m.jsx)("div",{className:"basic-form",style:{marginTop:".5rem"},children:(0,m.jsx)("div",{className:"form-check custom-checkbox form-check-inline",children:(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",name:"uploadLogo",onChange:()=>l("uploadLogo")})})})}})]})]}),(0,m.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,m.jsxs)(s.A,{type:"submit",onClick:a(c),style:{width:"10%"},children:[" ","Submit"]})})]})}},32690:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>p});var s=a(65043),r=a(44816),t=a(86856),n=a(24858),o=(a(9531),a(9866)),m=a(61285),c=a(26313),i=a(18403),d=a(87742),x=a(59167),h=a(42457),u=a(73216),b=a(70579);const p=()=>{const{saveData:e}=(0,x.A)(),l=(0,u.Zp)(),[a,p]=(0,s.useState)(0),j=["New Company","Settings"],N=[m.A,c.A],f=j.length,{register:y,formState:{errors:g},setValue:v,getValues:C,control:A,handleSubmit:w}=(0,n.mN)({resolver:(0,i.t)(0===a?d.QB:d.vE)}),S=s=>{if(a===f-1)try{return e(s,"companyData"),(0,h.V)("Saved !"),void l("/company")}catch(r){(0,h.U)("Some error occured !!")}console.log(s),(0,h.V)("Saved !")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.A,{mainTitle:"Company",pageTitle:"Create",parentTitle:"Company"}),(0,b.jsx)("div",{className:"m-2 p-2",children:(0,b.jsx)(n.Op,{children:(0,b.jsx)("form",{onSubmit:w(S),children:(0,b.jsx)("div",{className:"default-tab",children:(0,b.jsxs)(r.A.Container,{defaultActiveKey:j[0].toLowerCase(),children:[(0,b.jsx)(t.A,{as:"ul",className:"nav-tabs",children:j.map(((e,l)=>(0,b.jsx)(t.A.Item,{as:"li",children:(0,b.jsx)(t.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:l===a,onClick:()=>p(l),children:e})},l)))}),(0,b.jsx)(r.A.Content,{className:"pt-4",children:j.map(((e,l)=>{const s=N[l];return(0,b.jsx)(r.A.Pane,{eventKey:e.toLowerCase(),active:l===a,children:(0,b.jsx)(s,{data:j,control:A,setValue:v,register:y,getValues:C,errors:g,onSubmit:S,handleSubmit:w})},l)}))})]})})})})})]})}},42634:()=>{}}]);
//# sourceMappingURL=6823.d2c4369d.chunk.js.map