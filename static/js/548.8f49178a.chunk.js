"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[548],{67373:(e,n,a)=>{a.d(n,{A:()=>c});a(65043);var s=a(6720),l=a(60184),i=a(35475),t=a(95977),d=a(45350),r=a(70579);const c=e=>{let{tableData:n,currentPage:a,itemsPerPage:c,onConfirmDelete:o}=e;const{can:m}=(0,d.A)(),h=m("company","modify"),x=m("company","delete"),u=(a-1)*c+1;return(0,r.jsx)(r.Fragment,{children:null===n||void 0===n?void 0:n.map(((e,n)=>{var a,d,c,m,p,j,v;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:u+n})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"text-primary",children:null===e||void 0===e||null===(a=e.companyId)||void 0===a?void 0:a.companyName})}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"products d-flex",children:(0,r.jsx)("div",{children:(0,r.jsx)("h6",{children:null===e||void 0===e||null===(d=e.companyId)||void 0===d||null===(c=d.businessGroupId)||void 0===c?void 0:c.groupName})})})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:e.country})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{children:null===e||void 0===e?void 0:e.email})}),(0,r.jsx)("td",{children:(0,r.jsx)(i.N_,{to:"/branch/cid/".concat(null===e||void 0===e||null===(m=e.companyId)||void 0===m?void 0:m._id),className:"text-primary badge light border-0 badge-count",children:null===e||void 0===e||null===(p=e.branchIds)||void 0===p?void 0:p.length})}),(h||x)&&(0,r.jsx)("td",{children:(0,r.jsxs)("span",{className:"d-flex justify-content-center",children:[h&&(0,r.jsx)(i.N_,{to:"/company/edit/".concat(null===e||void 0===e||null===(j=e.companyId)||void 0===j?void 0:j._id),children:(0,r.jsx)("span",{className:"cursor-pointer",children:(0,r.jsx)(l.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),x&&(0,r.jsx)(t.A,{className:"cursor-pointer ",onConfirmDelete:o,id:null===e||void 0===e||null===(v=e.companyId)||void 0===v?void 0:v._id,children:(0,r.jsx)(s.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},n)}))})}},48167:(e,n,a)=>{a.r(n),a.d(n,{default:()=>w});var s=a(65043),l=a(73216),i=a(35475),t=a(24858),d=a(74117),r=a(63248),c=a(28261),o=a(99723),m=a(47097),h=a(40399),x=a(67373),u=a(8782),p=a(42457),j=a(94692),v=a(19172),g=a(18733),y=a(92548),b=a(272),f=a(45350),N=a(70579);const C={control:e=>({...e,marginRight:"1rem",marginLeft:"1rem",width:"15rem",height:"0.6rem",menuPortal:e=>({...e,zIndex:9999}),menu:e=>({...e,zIndex:9999})})},w=()=>{var e,n;const{t:a}=(0,d.Bd)(),w=(0,l.Zp)(),{groupId:I}=(0,l.g)(),{page:_,goToPage:A,setCount:P,totalCount:T}=(0,j.A)(),{can:k}=(0,f.A)(),D=(0,r.jE)(),{control:F}=(0,t.mN)(),{data:S,isLoading:E,isFetching:z}=(0,c.I)({queryKey:["companies",_,I],queryFn:()=>(0,u.f$)(_,10,{groupId:I}),placeholderData:o.rX,staleTime:1/0}),{mutate:B}=(0,m.n)({onError:e=>{(0,p.U)((0,b.SU)(e))},onSuccess:()=>{D.invalidateQueries("companies")},mutationFn:u.RC});(0,s.useEffect)((()=>{S&&P(S.totalCount)}),[S]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.A,{mainTitle:a("company"),pageTitle:a("company"),parentTitle:a("home")}),(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-xl-12",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsx)("div",{className:"card-body p-0",children:(0,N.jsxs)("div",{className:"active-projects style-1 ItemsCheckboxSec shorting",children:[(0,N.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,N.jsx)("h4",{className:"heading mb-0",children:a("companies")}),(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[k("business","view")&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(i.N_,{className:"btn  btn-xxs","data-bs-toggle":"offcanvas",onClick:()=>{w("/company")},to:"/company",style:{background:"gray",border:"gray",color:"white"},children:a("clear")}),(0,N.jsx)(t.xI,{name:"companyOptions",control:F,rules:{required:!0},render:e=>{let{field:{onChange:n,value:s,name:l,ref:i}}=e;return(0,N.jsx)(y.A,{onChange:e=>{w("/company/gid/".concat(null===e||void 0===e?void 0:e.value))},defaultValue:I,value:!I&&{value:"All Business Groups",label:a("allBusinessGroup")},customStyles:C,ref:i,isDisabled:!k("business","view"),name:l})}})]}),k("company","add")&&(0,N.jsxs)(i.N_,{to:"/company/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",style:{paddingBlock:"9px"},children:["+ ",a("addCompany")]})]})]}),(0,N.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,N.jsx)("div",{className:"table-responsive",children:E||z?(0,N.jsx)(g.A,{}):(0,N.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:a("id")}),(0,N.jsx)("th",{children:a("companyName")}),(0,N.jsx)("th",{children:a("businessGroup")}),(0,N.jsx)("th",{children:a("location")}),(0,N.jsx)("th",{children:a("email")}),(0,N.jsx)("th",{children:a("branches")}),(k("company","modify")||k("company","delete"))&&(0,N.jsx)("th",{className:"d-flex justify-content-center",children:a("action")})]})}),(0,N.jsx)("tbody",{children:null!==S&&void 0!==S&&null!==(e=S.data)&&void 0!==e&&e.length?(0,N.jsx)(x.A,{tableData:null!==(n=null===S||void 0===S?void 0:S.data)&&void 0!==n?n:[],currentPage:_,itemsPerPage:10,onConfirmDelete:B}):(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colspan:"10",rowSpan:2,height:150,children:(0,N.jsx)("h1",{className:"text-center",children:"No Data found!"})})})})]})}),(0,N.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,N.jsxs)("div",{className:"dataTables_info",children:[a("showing")," ",10*(_-1)+1," ",a("to")," ",Math.min(10*_,T)," ",a("of")," ",T," ",a("entries")]}),(0,N.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,N.jsx)(v.A,{totalCount:T,itemsPerPage:10,handlePageClick:e=>{let{selected:n}=e;A(n+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=548.8f49178a.chunk.js.map