"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[6613],{24490:(e,l,a)=>{a.d(l,{A:()=>c});var s=a(65043),t=a(89698),n=a(44978),i=a(74805),o=a(28334),r=a(70579);const c=e=>{let{heading:l,register:a,errors:c,id:d,getValues:m}=e;const[u,x]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"mt-4 mb-4",children:l}),(0,r.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("username")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)(i.A,{type:"text",register:a,label:"userName",name:"userName",placeholder:"",defaultValue:m("userName"),disabled:!!d}),(0,r.jsx)(o.A,{errorName:c.userName})]}),!d&&(0,r.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("password")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsx)(i.A,{type:u?"text":"password",register:a,label:"Password",name:"password",placeholder:""}),(0,r.jsx)("span",{className:"showPasswordIcon",onClick:()=>{x(!u)},children:u?(0,r.jsx)(t.mI_,{}):(0,r.jsx)(t.ZT8,{})})]}),!d&&(0,r.jsx)(o.A,{errorName:c.password})]})]})}},79055:(e,l,a)=>{a.d(l,{A:()=>x});var s=a(65043),t=a(13052),n=a(28334),i=a(74805),o=a(42297),r=a(85756),c=a(74117),d=a(70579);const m=e=>{let{countryCode:l,customStyle:a,setValue:t,id:n,dValues:i,Comptype:m}=e;const{t:u}=(0,c.Bd)(),[x,b]=(0,s.useState)([]),[v,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=r.Ay.getCountry(l);if(e){const l=e.timezones;l&&l.length>0&&(b(l.map((e=>({label:"(GMT ".concat(j(e),") ").concat(e," "),value:e})))),h({label:"(GMT ".concat(j(l[0]),") ").concat(l[0]," "),value:l[0]}),t("timezone",l[0]))}}),[l]),(0,s.useEffect)((()=>{if(i&&n){var e,l;const a="companyId"===m?null===(e=i.companyId)||void 0===e?void 0:e.timezone:"businessGroupId"===m?null===(l=i.businessGroupId)||void 0===l?void 0:l.timezone:i.timezone;t("timezone",a),a&&(h({label:"(GMT ".concat(j(a),") ").concat(a),value:a}),console.log(v,"hi"))}}),[i,n]);const j=e=>{const l=r.Ay.getTimezone(e).utcOffset,a=Math.abs(Math.floor(l/60)),s=Math.abs(l%60);return"".concat(l>=0?"+":"-").concat(a,":").concat(s.toString().padStart(2,"0"))};return(0,d.jsxs)("div",{className:"col-xl-3",children:[(0,d.jsxs)("label",{htmlFor:"timezone",children:[u("timezone"),":"]}),(0,d.jsx)(o.Ay,{id:"timezone",value:v,styles:a,onChange:e=>{t("timezone",e.value),h(e)},options:x})]})},u={control:e=>({...e,padding:".25rem 0 "})},x=e=>{let{register:l,setValue:a,errors:r,getValues:x,locationData:b,dValues:v,id:h,showCity:j,Comptype:p,showtimeZone:f=!0}=e;const{t:N}=(0,c.Bd)(),[g,y]=(0,s.useState)(null),[A,w]=(0,s.useState)(null),[V,C]=(0,s.useState)([]),[I,S]=(0,s.useState)([]),[E,z]=(0,s.useState)("IND");(0,s.useEffect)((()=>{(0,t.xb)().then((e=>{C(e)}))}),[]),(0,s.useEffect)((()=>{if(h){if(null!==v&&void 0!==v&&v.city&&a("city",v.city),null!==v&&void 0!==v&&v.country){a("country",v.country);const e=D.find((e=>e.value==(null===v||void 0===v?void 0:v.country)));e&&k(e)}null!==v&&void 0!==v&&v.state&&(a("state",v.state||""),w({value:v.state,label:v.state||""}))}else{var e,l,s,n,i,o,r,c;y({value:null===b||void 0===b||null===(e=b.country)||void 0===e?void 0:e.isoAlpha3,label:null===b||void 0===b||null===(l=b.country)||void 0===l?void 0:l.isoName}),a("country",null===b||void 0===b||null===(s=b.country)||void 0===s?void 0:s.isoAlpha3),z(null===b||void 0===b||null===(n=b.country)||void 0===n?void 0:n.isoAlpha2),w({value:null===b||void 0===b||null===(i=b.location)||void 0===i?void 0:i.principalSubdivision,label:(null===b||void 0===b||null===(o=b.location)||void 0===o?void 0:o.principalSubdivision)||""}),a("state",(null===b||void 0===b||null===(r=b.location)||void 0===r?void 0:r.principalSubdivision)||"");const d=F(null===b||void 0===b||null===(c=b.country)||void 0===c?void 0:c.isoAlpha3);(0,t.Wm)(d).then((e=>{S(e)}))}}),[b,h,v]);const F=e=>{const l=V.find((l=>l.iso3===e));return l?l.id:null},k=async e=>{const l=e.value,s=F(l),n=V.find((e=>e.iso3===l));z(n.iso2),a("country",l),y({value:l,label:n.name}),S([]),w({value:"",label:""});const i=await(0,t.Wm)(s);S(i)},L=e=>"United Arab Emirates"===(null===g||void 0===g?void 0:g.label)&&e.name.endsWith(" Emirate")?e.name.replace(" Emirate",""):e.name,D=V.map((e=>({value:e.iso3,label:e.name}))),G=I.map((e=>({value:e.name,label:L(e)})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:N("country")}),(0,d.jsx)(o.Ay,{options:D,value:g,styles:u,onChange:k},g),!g&&(0,d.jsx)(n.A,{errorName:r.country})]}),(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:N("state")}),(0,d.jsx)(o.Ay,{options:G,value:A,styles:u,onChange:e=>{const l=e.value,s=I.find((e=>e.name===l));"United Arab Emirates"===(null===g||void 0===g?void 0:g.label)&&null!==s&&void 0!==s&&s.name.endsWith(" Emirate")&&(s.name=s.name.replace(" Emirate","")),a("state",s.name),w({value:s.name,label:s.name})}},A),!A&&(0,d.jsx)(n.A,{errorName:r.state})]}),j&&(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:N("city")}),(0,d.jsx)(i.A,{type:"text",register:l,label:"City",name:"city",placeholder:"",defaultValue:x("city")}),(0,d.jsx)(n.A,{errorName:r.city})]}),j&&f&&(0,d.jsx)(m,{setValue:a,id:h,countryCode:E,customStyle:u,Comptype:p})]})}},99793:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var s=a(74805),t=a(28334),n=a(27940),i=a(44978),o=a(70579);const r=e=>{var l,a,r,c,d,m,u,x;let{field:b,fields:v,index:h,register:j,getValues:p,errors:f,remove:N,id:g}=e;return(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[v.length>1&&(0,o.jsx)("div",{className:"flex-grow-1 mb-3",children:(0,o.jsxs)("h5",{children:["User ",h+1]})}),v.length>1&&(0,o.jsx)("div",{className:"mr-5",onClick:()=>(e=>{N(e)})(h),children:n.Os.Delete})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("name")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"name",name:"userInfo.".concat(h,".name"),placeholder:"",defaultValue:p("userInfo.".concat(h,".name"))}),(0,o.jsx)(t.A,{errorName:null===(l=f.userInfo)||void 0===l||null===(a=l[h])||void 0===a?void 0:a.name})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("designation")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"designation",name:"userInfo.".concat(h,".designation"),placeholder:"",defaultValue:p("userInfo.".concat(h,".designation"))}),(0,o.jsx)(t.A,{errorName:null===(r=f.userInfo)||void 0===r||null===(c=r[h])||void 0===c?void 0:c.designation})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("mobileNumber"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"number",register:j,name:"userInfo.".concat(h,".mobileNumber"),label:"Mobile Number",placeholder:"",min:"0",onInput:e=>{const l=Math.max(0,e.target.value);e.target.value=l<1?"":l},defaultValue:p("userInfo.".concat(h,".mobileNumber"))}),(0,o.jsx)(t.A,{errorName:null===(d=f.userInfo)||void 0===d||null===(m=d[h])||void 0===m?void 0:m.mobileNumber})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("email"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"email",register:j,name:"userInfo.".concat(h,".email"),label:"email",placeholder:"",defaultValue:p("userInfo.".concat(h,".email"))}),(0,o.jsx)(t.A,{errorName:null===(u=f.userInfo)||void 0===u||null===(x=u[h])||void 0===x?void 0:x.email})]})]},b.id)}},16613:(e,l,a)=>{a.d(l,{A:()=>p});var s=a(65043),t=a(14282),n=a(24858),i=a(42297),o=a(73216),r=a(74117),c=a(28334),d=a(74805),m=(a(43),a(87460)),u=a(87407),x=a(24490),b=a(99793),v=a(79055),h=a(75636),j=a(70579);const p=e=>{let{setValue:l,getValues:a,register:p,onSubmit:f,handleSubmit:N,errors:g,control:y,isFormSubmitting:A}=e;const{fields:w,append:V,remove:C}=(0,n.jz)({control:y,name:"userInfo"}),[I,S]=(0,s.useState)(!1),{t:E}=(0,r.Bd)(),{id:z}=(0,o.g)(),{location:F,error:k}=(0,h.A)();return(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsxs)("div",{className:"row",style:{width:"85%"},children:[(0,j.jsx)("div",{children:k&&(0,j.jsx)("p",{children:k})}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,j.jsxs)("label",{className:"form-label",children:[E("businessGroupName")," ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"text",register:p,label:"groupName",name:"groupName",placeholder:"",defaultValue:a("groupName")}),(0,j.jsx)(c.A,{errorName:g.groupName})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsx)("label",{className:"form-label",children:E("tradeLicenseNumber")}),(0,j.jsx)(d.A,{type:"text",register:p,label:"tradeLicenseNumber",name:"tradeLicenseNumber",placeholder:"",defaultValue:a("tradeLicenseNumber")}),(0,j.jsx)(c.A,{errorName:g.tradeLicenseNumber})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsx)("label",{className:"form-label",children:E("officeNo")}),(0,j.jsx)(d.A,{type:"text",register:p,label:"officeNumber",name:"officeNumber",defaultValue:a("officeNumber")}),(0,j.jsx)(c.A,{errorName:g.officeNumber})]}),(0,j.jsxs)("span",{className:"absolute",style:{position:"absolute",top:"23%",right:"-42%",overflow:"hidden"},children:[(0,j.jsx)(u.A,{setValue:l,register:p,label:"Business Group Logo",name:"logo",getValue:a,setLoading:S,loading:I,link:a("logo")}),(0,j.jsx)(c.A,{errorName:g.logo})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsxs)("label",{className:"form-label",children:[E("email"),(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"email",register:p,label:"Email",name:"email",placeholder:"",defaultValue:a("email"),disabled:!!z}),(0,j.jsx)(c.A,{errorName:g.email})]}),(0,j.jsx)(v.A,{register:p,setValue:l,errors:g,dValues:{country:a("country"),state:a("state"),city:a("city")},getValues:a,locationData:F,id:z,showCity:!0,Comptype:"businessGroupId"}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:E("dateFormat")}),(0,j.jsx)(n.xI,{name:"dateFormat",control:y,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("dateFormat",null===e||void 0===e?void 0:e.value),options:m.wJ,ref:n,name:t,styles:{control:e=>({...e,padding:".25rem 0 "})},value:{value:s,label:s}})}}),(0,j.jsx)(c.A,{errorName:g.dateFormat})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:E("timeFormat")}),(0,j.jsx)(n.xI,{name:"timeFormat",control:y,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("timeFormat",e.value),options:m.lD,ref:n,name:t,styles:{control:e=>({...e,padding:".25rem 0 "})},value:{value:s,label:s},defaultValue:m.lD[1]})}})]}),(0,j.jsx)(x.A,{heading:E("businessLoginDetails"),register:p,errors:g,id:z,getValues:a}),(0,j.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",margin:"2rem 0"},children:[(0,j.jsx)("h3",{children:E("contactDetails")}),(0,j.jsxs)(t.A,{type:"button",onClick:()=>{V({name:"",designation:"",mobileNumber:null,email:""})},style:{width:"10%"},children:[" ","ADD"]})]}),w.map(((e,l)=>(0,j.jsx)(b.A,{field:e,index:l,register:p,getValues:a,errors:g,fields:w,remove:C,id:z},e.id)))]}),(0,j.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,j.jsxs)(t.A,{type:"submit",disabled:I||A,onClick:N(f),style:{width:"10%"},children:[" ",E("submit")]})})]})}},75636:(e,l,a)=>{a.d(l,{A:()=>n});var s=a(65043),t=a(77154);const n=()=>{const[e,l]=(0,s.useState)(null),[a,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{m(!0);const e="bdc_031d6a642ab94e0b8f5376a97ded1793";if(!e)throw new Error("API key is missing.");const a=await t.A.get("https://api.bigdatacloud.net/data/ip-geolocation?key=".concat(e));l(a.data.location.latitude),n(a.data.location.longitude);const s=a.data;c(s),o(null)}catch(i){o("Error getting location data: "+i.message)}finally{m(!1)}})()}),[]),{location:r,lat:e,lng:a,isLoading:d,error:i}}}}]);
//# sourceMappingURL=6613.f8054c2a.chunk.js.map