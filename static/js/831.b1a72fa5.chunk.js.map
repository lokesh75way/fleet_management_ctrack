{"version":3,"file":"static/js/831.b1a72fa5.chunk.js","mappings":"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","sources":["jsx/components/Tables/DriverTable.jsx","jsx/pages/Driver.js"],"sourcesContent":["import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from \"../Modal/DeleteModal\";\n\nconst DriverTable = ({ tableData,currentPage, itemsPerPage, onConfirmDelete, editDrawerOpen }) => {\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={item.id}>\n          <td>\n            <span>{startIndex + index}</span>\n          </td>\n          <td>\n            <div className=\"products\">\n              <div>\n                <h6>\n                  {item.firstName} {item.lastName}\n                </h6>\n                <span>{item.employeeDesignation}</span>\n              </div>\n            </div>\n          </td>\n          <td>\n            <span>{item.age}</span>\n          </td>\n          <td>\n            <span>{item.contact1}</span>\n          </td>\n          <td>\n            <span className=\"text-primary \">{item.drivingExperience}</span>\n          </td>\n          <td>\n            <span>{item.city}</span>\n          </td>\n          <td>\n            <span\n              className={`badge light border-0 ${\n                item.active ? \"badge-success\" : \"badge-danger\"\n              } d-inline-block text-center`}\n              style={{ width: \"5rem\" }}\n            >\n              {item.active ? \"Active\" : \"InActive\"}\n            </span>\n          </td>\n          <td>\n            <span className=\"d-flex justify-content-center\">\n              <span\n                className=\"cursor-pointer\"\n                onClick={() => editDrawerOpen(item)}\n              >\n                <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n              </span>\n              <DeleteModal\n                className=\"cursor-pointer \"\n                onConfirmDelete={onConfirmDelete}\n                id={item._id}\n              >\n                <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n              </DeleteModal>\n            </span>\n          </td>\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default DriverTable;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport MainPagetitle from \"../layouts/MainPagetitle\";\r\nimport DriverTable from \"../components/Tables/DriverTable\";\r\nimport { clsx } from \"clsx\";\r\n\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { deleteDrivers, getDrivers } from \"../../services/api/driverService\";\r\nimport { notifyError } from \"../../utils/toast\";\r\nimport usePagination from \"../../hooks/usePagination\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nconst Driver = () => {\r\n  const { isRtl } = useContext(ThemeContext);\r\n  const arrowleft = clsx({\r\n    \"fa-solid fa-angle-right\": isRtl,\r\n    \"fa-solid fa-angle-left\": !isRtl,\r\n  });\r\n  const arrowright = clsx({\r\n    \"fa-solid fa-angle-left\": isRtl,\r\n    \"fa-solid fa-angle-right\": !isRtl,\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const [tableData, setTableData] = useState([]);\r\n  const { page, nextPage, prevPage, goToPage, setCount, totalCount, setPage } =\r\n    usePagination();\r\n\r\n  const itemsPerPage = 10;\r\n\r\n  const handlePageClick = ({ selected }) => {\r\n    goToPage(selected + 1);\r\n  };\r\n\r\n  const startIndex = (page - 1) * itemsPerPage;\r\n  const slicedData = tableData.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n  async function getDriversData(page) {\r\n    try {\r\n      const { data, totalLength } = await getDrivers(page);\r\n      console.log(data, totalCount, \"ji\");\r\n      setTableData(data);\r\n      setCount(totalLength);\r\n    } catch (error) {\r\n      notifyError(\"Some error occured !!\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDriversData(page);\r\n  }, [page]);\r\n\r\n  const [editData, setEditData] = useState({\r\n    id: 0,\r\n    status: \"\",\r\n    title: \"\",\r\n    contact: 0,\r\n    age: 0,\r\n    drivingExperience: 0,\r\n    gender: \"\",\r\n    location: \"\",\r\n  });\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const onConfirmDelete = async (id) => {\r\n    try {\r\n      await deleteDrivers({ driverIds: [id] });\r\n      const updatedData = tableData.filter((item) => item._id !== id);\r\n      setTableData(updatedData);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const editDrawerOpen = (item) => {\r\n    // navigate(`/driver/edit/${item._id}`);\r\n    setEditData(item);\r\n    const filteredData = tableData.filter((data) => data._id === item._id);\r\n    console.log(\"filtered\", filteredData, item);\r\n    navigate(`/driver/edit/${item._id}`, { state: filteredData });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MainPagetitle\r\n        mainTitle={t(\"drivers\")}\r\n        pageTitle={t(\"drivers\")}\r\n        parentTitle={t(\"home\")}\r\n      />\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-12\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body p-0\">\r\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\r\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\r\n                    <h4 className=\"heading mb-0\">{t(\"drivers\")}</h4>\r\n                    <div>\r\n                      <Link\r\n                        to={\"/driver/create\"}\r\n                        className=\"btn btn-primary btn-sm ms-1\"\r\n                        data-bs-toggle=\"offcanvas\"\r\n                        // onClick={() => employe.current.showModal()}\r\n                      >\r\n                        + {t(\"addDriver\")}\r\n                      </Link>{\" \"}\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    id=\"employee-tbl_wrapper\"\r\n                    className=\"dataTables_wrapper no-footer\"\r\n                  >\r\n                    <table\r\n                      id=\"empoloyees-tblwrapper\"\r\n                      className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\r\n                    >\r\n                      <thead>\r\n                        <tr>\r\n                          <th>{t(\"id\")}</th>\r\n                          <th>{t(\"employeeName\")}</th>\r\n                          <th>{t(\"age\")}</th>\r\n                          <th>{t(\"contactNumber\")}</th>\r\n                          <th>{t(\"drivingExperienceSince\")}</th>\r\n                          <th>{t(\"city\")}</th>\r\n                          <th>{t(\"status\")}</th>\r\n                          <th>{t(\"action\")}</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <DriverTable\r\n                          editData={editData}\r\n                          tableData={tableData}\r\n                          onConfirmDelete={onConfirmDelete}\r\n                          editDrawerOpen={editDrawerOpen}\r\n                          setEditData={setEditData}\r\n                          currentPage={page}\r\n                          itemsPerPage={itemsPerPage}\r\n                        />\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\r\n                      <div className=\"dataTables_info\">\r\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\r\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\r\n                        {t(\"entries\")}\r\n                      </div>\r\n                      <div\r\n                        className=\"dataTables_paginate paging_simple_numbers\"\r\n                        id=\"example2_paginate\"\r\n                      >\r\n                        <ReactPaginate\r\n                          previousLabel={\r\n                            <i className=\"fa-solid fa-angle-left\"></i>\r\n                          }\r\n                          nextLabel={\r\n                            <i className=\"fa-solid fa-angle-right\"></i>\r\n                          }\r\n                          breakLabel={\"...\"}\r\n                          pageCount={Math.ceil(totalCount / itemsPerPage)} // Calculate pageCount based on totalCount and itemsPerPage\r\n                          marginPagesDisplayed={2}\r\n                          pageRangeDisplayed={5}\r\n                          onPageChange={handlePageClick}\r\n                          containerClassName={\"pagination\"}\r\n                          activeClassName={\"active\"}\r\n                          pageClassName=\"page-item\"\r\n                          pageLinkClassName=\"page-link\"\r\n                          previousClassName=\"page-item\"\r\n                          previousLinkClassName=\"page-link\"\r\n                          nextClassName=\"page-item\"\r\n                          nextLinkClassName=\"page-link\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Driver;\r\n"],"names":["_ref","tableData","currentPage","itemsPerPage","onConfirmDelete","editDrawerOpen","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","firstName","lastName","employeeDesignation","age","contact1","drivingExperience","city","concat","active","style","width","onClick","FaEdit","color","fontSize","DeleteModal","id","_id","MdDelete","Driver","isRtl","useContext","ThemeContext","navigate","clsx","useNavigate","setTableData","useState","page","nextPage","prevPage","goToPage","setCount","totalCount","setPage","usePagination","slice","useEffect","async","data","totalLength","getDrivers","console","log","error","notifyError","getDriversData","editData","setEditData","status","title","contact","gender","location","t","useTranslation","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","DriverTable","deleteDrivers","driverIds","updatedData","filter","filteredData","state","Math","min","ReactPaginate","previousLabel","nextLabel","breakLabel","pageCount","ceil","marginPagesDisplayed","pageRangeDisplayed","onPageChange","selected","containerClassName","activeClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName"],"sourceRoot":""}