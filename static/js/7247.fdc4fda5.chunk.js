"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[7247],{27247:(e,r,l)=>{l.r(r),l.d(r,{default:()=>F});var a=l(65043),s=l(44816),t=l(86856),i=l(24858),n=(l(9531),l(73216)),o=l(18403),c=l(74117),d=l(63248),m=l(28261),u=l(47097),x=l(40399),h=l(93985),b=l(10902),j=l(39179),N=l(14282),p=l(42297),f=l(28334),v=l(87460),g=l(74805),y=l(87407),A=l(70579);const w={control:e=>({...e,padding:".25rem 0 "})},C=e=>{let{register:r,setValue:l,getValues:s,errors:t,control:o,handleSubmit:d,onSubmit:m,isFormSubmitting:u}=e;const[x,h]=(0,a.useState)(!1),[b,j]=(0,a.useState)("registrationNumber"),{t:C}=(0,c.Bd)(),V=(0,n.zy)();return(0,a.useEffect)((()=>{const e=new URLSearchParams(V.search).get("vehicle_no");e&&l("registrationNumber",e)}),[V.search,l]),(0,A.jsxs)("div",{className:"p-4 relative",children:[(0,A.jsx)("div",{className:"row",style:{width:"100%"},children:(0,A.jsxs)("div",{className:"border-container position-relative p-4 row",children:[(0,A.jsx)("div",{className:"heading-container d-flex align-items-center position-absolute",children:(0,A.jsx)("h4",{children:C("unitInformation")})}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:[(0,A.jsxs)("div",{className:"row",style:{width:"78%"},children:[(0,A.jsxs)("div",{className:"d-flex flex-column",children:[(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:C("vehicleNumber")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"vehicleNumber",label:"Vehicle Number",placeholder:"",defaultValue:s("vehicleNumber")}),(0,A.jsx)(f.A,{errorName:t.vehicleNumber})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("unitId")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Unit Id",name:"unitId",placeholder:"",defaultValue:s("unitId")}),(0,A.jsx)(f.A,{errorName:t.unitId})]}),(0,A.jsxs)("div",{className:"row",children:[(0,A.jsxs)("div",{className:"col-xl-6",children:[(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsxs)("label",{className:"form-label",children:[C("registrationNumber")," ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Registration Number",name:"registrationNumber",placeholder:"",defaultValue:s("registrationNumber"),disabled:"registrationNumber"!==b}),(0,A.jsx)(f.A,{errorName:t.registrationNumber})]}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsxs)("label",{className:"form-label",children:[C("fleetnumber")," ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"fleetnumber",label:"Fleet Number",placeholder:"",defaultValue:s("fleetnumber"),disabled:"fleetNumber"!==b}),(0,A.jsx)(f.A,{errorName:t.fleetnumber})]})]}),(0,A.jsxs)("div",{className:"col-md-2 d-flex flex-column border rounded border-[#6e6e6e] custom-margin-checkbox gap-4",children:[(0,A.jsxs)("div",{className:"basic-form mt-2",children:[(0,A.jsx)("div",{className:"form-check custom-checkbox",children:(0,A.jsx)(i.xI,{name:"selectedInput",control:o,render:e=>{let{field:r}=e;return(0,A.jsx)("input",{type:"radio",className:"form-check-input",value:"registrationNumber",checked:"registrationNumber"===r.value,onChange:e=>{r.onChange(e.target.value),j(e.target.value)}})}})}),(0,A.jsx)("h5",{className:"my-4",style:{marginLeft:"20px"},children:C("Use In Reports")}),(0,A.jsx)("div",{className:"form-check custom-checkbox",children:(0,A.jsx)(i.xI,{name:"selectedInput",control:o,render:e=>{let{field:r}=e;return(0,A.jsx)("input",{type:"radio",className:"form-check-input",value:"fleetNumber",checked:"fleetNumber"===r.value,onChange:e=>{r.onChange(e.target.value),j(e.target.value)}})}})})]}),(0,A.jsx)(f.A,{errorName:t.selectedInput})]})]})]}),(0,A.jsxs)("div",{className:"row",children:[(0,A.jsxs)("div",{className:"col-xl-12 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("description")}),(0,A.jsx)(g.A,{type:"textarea",required:!0,register:r,label:"Description",name:"description",placeholder:"",defaultValue:s("description")}),(0,A.jsx)(f.A,{errorName:t.description})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("manufacture")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Manu facture",name:"manufacture",placeholder:"",defaultValue:s("manufacture")}),(0,A.jsx)(f.A,{errorName:t.manufacture})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("year")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Year",name:"year",placeholder:"",defaultValue:s("year")}),(0,A.jsx)(f.A,{errorName:t.year})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("model")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Model",name:"model",placeholder:"",defaultValue:s("model")}),(0,A.jsx)(f.A,{errorName:t.model})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("color")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Color",name:"color",placeholder:"",defaultValue:s("color")}),(0,A.jsx)(f.A,{errorName:t.color})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("vinNumber")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"VINNumber",name:"vinNumber",placeholder:"",defaultValue:s("vinNumber")}),(0,A.jsx)(f.A,{errorName:t.vinNumber})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("engineNumber")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,label:"Engine Number",name:"engineNumber",placeholder:"",defaultValue:s("engineNumber")}),(0,A.jsx)(f.A,{errorName:t.engineNumber})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("group")}),(0,A.jsx)(i.xI,{name:"group",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("group",e.value)},options:v.$N,ref:i,name:t,styles:w,value:{label:s("group"),value:s("group")}})}}),(0,A.jsx)(f.A,{errorName:t.group})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("description")}),(0,A.jsx)(g.A,{type:"textarea",required:!0,register:r,label:"Description",name:"groupDescription",placeholder:"",defaultValue:s("groupDescription")}),(0,A.jsx)(f.A,{errorName:t.description})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("tollCategory")}),(0,A.jsx)(i.xI,{name:"tollCategory",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("tollCategory",e.value)},options:v.MS,ref:i,name:t,styles:w,value:{label:s("tollCategory"),value:s("tollCategory")}})}}),(0,A.jsx)(f.A,{errorName:t.tollCategory})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,A.jsx)("label",{className:"form-label",children:C("tarrifType")}),(0,A.jsx)(i.xI,{name:"tarrifType",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("tarrifType",e.value)},options:v.$N,ref:i,name:t,styles:w,value:{label:s("tarrifType"),value:s("tarrifType")}})}}),(0,A.jsx)(f.A,{errorName:t.tarrifType})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:C("licenseNumber")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"licenseNumber",label:"License Number",placeholder:"",defaultValue:s("licenseNumber")}),(0,A.jsx)(f.A,{errorName:t.licenseNumber})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:C("licenseExpire")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"licenseExpire",label:"License Expire",placeholder:"",defaultValue:s("licenseExpire")}),(0,A.jsx)(f.A,{errorName:t.licenseExpire})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:C("roadWorthy")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"roadWorthy",label:"Road Worthy",placeholder:"",defaultValue:s("roadWorthy")}),(0,A.jsx)(f.A,{errorName:t.roadWorthy})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[C("roadWorthyExpire")," "]}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"roadWorthyExpire",label:"Road Worthy Expire",placeholder:"",defaultValue:s("roadWorthyExpire")}),(0,A.jsx)(f.A,{errorName:t.roadWorthyExpire})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:C("odo")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"odo",placeholder:""}),(0,A.jsx)(f.A,{errorName:t.odo})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:C("nextService")}),(0,A.jsx)(g.A,{type:"number",register:r,name:"odoNextService",placeholder:"",defaultValue:s("odoNextService")}),(0,A.jsx)(f.A,{errorName:t.nextService})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("hours")}),(0,A.jsx)(g.A,{type:"number",register:r,name:"hours",placeholder:"",defaultValue:s("hours")}),(0,A.jsx)(f.A,{errorName:t.hours})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("nextService")}),(0,A.jsx)(g.A,{type:"number",register:r,name:"hoursNextService",placeholder:"",defaultValue:s("hoursNextService")}),(0,A.jsx)(f.A,{errorName:t.nextService})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("currentStatus")}),(0,A.jsx)(g.A,{type:"text",register:r,name:"currentStatus",placeholder:"",defaultValue:s("currentStatus")}),(0,A.jsx)(f.A,{errorName:t.currentStatus})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("speed")}),(0,A.jsx)(g.A,{type:"number",register:r,name:"speed",placeholder:"",defaultValue:s("speed")}),(0,A.jsx)(f.A,{errorName:t.speed})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("currentDriver")}),(0,A.jsx)(g.A,{type:"text",register:r,name:"currentDriver",placeholder:"",defaultValue:s("currentDriver")}),(0,A.jsx)(f.A,{errorName:t.currentDriver})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("heading")}),(0,A.jsx)(g.A,{type:"text",register:r,name:"heading",placeholder:"",defaultValue:s("heading")}),(0,A.jsx)(f.A,{errorName:t.heading})]}),(0,A.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,A.jsxs)("label",{className:"form-label",children:[C("currentLocation")," "]}),(0,A.jsx)(g.A,{type:"text",register:r,name:"currentLocation",placeholder:"",defaultValue:s("currentLocation")}),(0,A.jsx)(f.A,{errorName:t.currentLocation})]})]}),(0,A.jsxs)("div",{className:"d-flex flex-column",children:[(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("skillSet")}),(0,A.jsx)(i.xI,{name:"skillSet",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("skillSet",e.value)},options:v.KI,ref:i,name:t,styles:w,value:{label:s("skillSet"),value:s("skillSet")}})}}),(0,A.jsx)(f.A,{errorName:t.skillSet})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:C("profile")}),(0,A.jsx)(i.xI,{name:"profile",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("profile",e.value)},options:v.Si,ref:i,name:t,styles:w,value:{label:s("profile"),value:s("profile")}})}}),(0,A.jsx)(f.A,{errorName:t.profileOwning})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsxs)("label",{className:"form-label",children:[C("owningCostCenter")," "]}),(0,A.jsx)(i.xI,{name:"owningCostCenter",control:o,rules:{required:!0},render:e=>{let{field:{onChange:r,value:a,name:t,ref:i}}=e;return(0,A.jsx)(p.Ay,{onChange:e=>{l("owningCostCenter",e.value)},options:v.H$,ref:i,name:t,styles:w,value:{label:s("owningCostCenter"),value:s("owningCostCenter")}})}}),(0,A.jsx)(f.A,{errorName:t.costCenter})]})]})]}),(0,A.jsx)("div",{className:"d-flex align-items-start flex-column",style:{width:"20%",marginLeft:"auto"},children:(0,A.jsxs)("div",{className:"d-flex flex-column align-items-center border border-[#6e6e6e] rounded p-4",children:[(0,A.jsx)(y.A,{setValue:l,register:r,label:"Business Group Logo",name:"logo",getValue:s,setLoading:h,loading:x}),(0,A.jsx)(f.A,{errorName:t.logo}),(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-center p-2 m-0",children:[(0,A.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1"}),(0,A.jsx)("label",{className:"form-check-label",htmlFor:"customCheckBox1",children:C("syncOnce")})]})]})})]})]})}),(0,A.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,A.jsxs)(N.A,{type:"submit",disabled:u,onClick:d(m),style:{width:"10%"},children:[" ",C("next")]})})]})},V=e=>{let{register:r,name:l,label:a,checked:s,onChange:t,heading:i}=e;return(0,A.jsxs)("div",{className:"form-check",children:[(0,A.jsx)("input",{className:"form-check-input",type:"checkbox",...r(l),id:l,checked:s}),(0,A.jsx)("label",{className:"form-check-label",htmlFor:l,children:a})]})},S=e=>{let{register:r,getValues:l,errors:a,handleSubmit:s,onSubmit:t,watch:i,isFormSubmitting:n}=e;const{t:o}=(0,c.Bd)(),d=i("licenseReminder",!1),m=i("roadworthyReminder",!1);return(0,A.jsxs)("div",{className:"p-4 relative",children:[(0,A.jsx)("div",{className:"d-flex justify-content-between",style:{width:"100%"},children:(0,A.jsxs)("div",{className:"row",style:{width:"50%"},children:[(0,A.jsxs)("div",{className:"border border-1 p-3 row rounded",children:[(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("License number")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,name:"licenseNumber_dupe",placeholder:"",disabled:!0,value:l("licenseNumber")}),(0,A.jsx)(f.A,{errorName:a.licenseNumber})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Roadworthy number")}),(0,A.jsx)(g.A,{type:"text",required:!0,register:r,name:"roadWorthy_dupe",placeholder:"",disabled:!0,value:l("roadWorthy")}),(0,A.jsx)(f.A,{errorName:a.roadWorthy})]})]}),(0,A.jsxs)("div",{className:"border-container position-relative p-3 mt-5 row",children:[(0,A.jsx)("div",{className:"heading-container d-flex align-items-center position-absolute",children:(0,A.jsx)(V,{register:r,name:"licenseReminder",label:"License Reminder",checked:l("licenseReminder")})}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 mt-2",children:[(0,A.jsx)("label",{className:"form-label",children:o("Last renewal date")}),(0,A.jsx)(g.A,{type:"date",required:!0,register:r,name:"licenseLastRenewalDate",defaultValue:l("licenseLastRenewalDate"),disabled:!d}),(0,A.jsx)(f.A,{errorName:a.licenseLastRenewalDate})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Period (months)")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"licensePeriod",defaultValue:l("licensePeriod"),disabled:!d}),(0,A.jsx)(f.A,{errorName:a.licensePeriod})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Next renewal due on")}),(0,A.jsx)(g.A,{type:"date",required:!0,register:r,name:"licenseNextRenewalDue",defaultValue:l("licenseNextRenewalDue"),disabled:!d}),(0,A.jsx)(f.A,{errorName:a.licenseNextRenewalDue})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Reminder starts (weeks before expiry)")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"licenseReminderStart",defaultValue:l("licenseReminderStart"),disabled:!d}),(0,A.jsx)(f.A,{errorName:a.licenseReminderStart})]})]}),(0,A.jsxs)("div",{className:"border-container position-relative p-3 mt-5 row",children:[(0,A.jsx)("div",{className:"heading-container d-flex align-items-center position-absolute",children:(0,A.jsx)(V,{register:r,name:"roadworthyReminder",label:"Roadworthy Reminder"})}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3 mt-2",children:[(0,A.jsx)("label",{className:"form-label",children:o("Last renewal date")}),(0,A.jsx)(g.A,{type:"date",required:!0,register:r,name:"roadworthyLastRenewalDate",defaultValue:l("roadworthyLastRenewalDate"),disabled:!m}),(0,A.jsx)(f.A,{errorName:a.roadworthyLastRenewalDate})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Period (months)")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"roadworthyPeriod",defaultValue:l("roadworthyPeriod"),disabled:!m}),(0,A.jsx)(f.A,{errorName:a.roadworthyPeriod})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Next renewal due on")}),(0,A.jsx)(g.A,{type:"date",required:!0,register:r,name:"roadworthyNextRenewalDue",defaultValue:l("roadworthyNextRenewalDue"),disabled:!m}),(0,A.jsx)(f.A,{errorName:a.roadworthyNextRenewalDue})]}),(0,A.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,A.jsx)("label",{className:"form-label",children:o("Reminder starts (weeks before expiry)")}),(0,A.jsx)(g.A,{type:"number",required:!0,register:r,name:"roadworthyReminderStart",defaultValue:l("roadworthyReminderStart"),disabled:!m}),(0,A.jsx)(f.A,{errorName:a.roadworthyReminderStart})]})]})]})}),(0,A.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,A.jsx)(N.A,{type:"submit",onClick:s(t),disabled:n,style:{width:"10%"},children:o("next")})})]})};var k=l(70228),I=l(42457),R=l(34713),q=l(272),L=l(15395);const F=()=>{const{t:e}=(0,c.Bd)(),r=(0,n.Zp)(),[l,N]=(0,a.useState)(0),{id:p}=(0,n.g)(),f=[e("information"),e("general"),e("licensing"),e("profile"),e("document")];let v=[C,b.A,S,h.A,j.A];const g=f.length,y=(0,d.jE)(),{data:w,isError:V,isLoading:F}=(0,m.I)({queryKey:["vehicle",p],queryFn:()=>(0,R.nz)(p),enabled:!!p,staleTime:1/0}),D=(0,a.useMemo)((()=>{var e;return{...w,selectedInput:null!==w&&void 0!==w&&w.fleetnumber?"fleetnumber":"registrationNumber",branchId:null===w||void 0===w||null===(e=w.branchId)||void 0===e?void 0:e._id}}),[w]);(0,a.useEffect)((()=>{V&&p&&((0,I.U)("Not able to fetch vehicle data"),r("/not-found"))}),[V&&p]);const E=(0,a.useCallback)((e=>{switch(e){case 0:return k.ac;case 1:return k.gs;case 2:return k.LL;case 3:return k.xN;case 4:return k.nJ}}),[]),{register:P,formState:{errors:T},setValue:W,getValues:U,control:B,handleSubmit:K,watch:M}=(0,i.mN)({defaultValues:{documents:[{documentType:{label:"INSURANCE",value:"INSURANCE"},file:"",expireDate:new Date,issueDate:new Date}],selectedInput:"registrationNumber"},resolver:(0,o.t)(E(l)),values:D}),_=e=>(0,I.U)((0,q.SU)(e)),{mutate:O,isPending:$}=(0,u.n)({mutationFn:R.e,onSuccess:()=>{(0,I.V)("New Vehicle Created"),y.invalidateQueries(["vehicles"]),r("/vehicle")},onError:_}),{mutate:z,isPending:Q}=(0,u.n)({mutationFn:e=>{let{data:r,vehicleId:l}=e;return(0,R.f7)(r,l)},onSuccess:()=>{(0,I.V)("Vehicle Updated Successfully"),y.invalidateQueries(["vehicles"]),r("/vehicle")},onError:_}),G=async e=>{if(l===g-1){const r=(async e=>{for(let l=0;l<g;l++){const a=E(l);try{await a.validate(e)}catch(r){return(0,I.U)("Please check all the fields are filled"),!1}}return!0})(e);if(!r)return;if(p){for(const r in e)void 0!==e[r]&&""!==e[r]||delete e[r];z({data:e,vehicleId:p})}else{for(const r in e)void 0!==e[r]&&""!==e[r]||delete e[r];delete e.test,O(e)}}else N((e=>Math.min(e+1,g-1)))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.A,{mainTitle:"Vehicle",pageTitle:p?"Edit":"Create",parentTitle:"Vehicle"}),(0,A.jsx)("div",{className:"m-2 p-2",children:(0,A.jsx)(i.Op,{children:(0,A.jsx)("form",{onSubmit:K(G),children:(0,A.jsx)("div",{className:"default-tab",children:(0,A.jsxs)(s.A.Container,{defaultActiveKey:f[0].toLowerCase(),children:[(0,A.jsx)(t.A,{as:"ul",className:"nav-tabs",children:f.map(((e,r)=>(0,A.jsx)(t.A.Item,{as:"li",children:(0,A.jsx)(t.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:r===l,onClick:()=>N(r),children:e})},r)))}),(0,A.jsx)(s.A.Content,{className:"pt-4",children:F?(0,A.jsx)(L.A,{height:500}):f.map(((e,r)=>{const a=v[r];return(0,A.jsx)(s.A.Pane,{eventKey:e.toLowerCase(),active:r===l,children:(0,A.jsx)(a,{data:f,register:P,setValue:W,getValues:U,control:B,errors:T,handleSubmit:K,onSubmit:G,watch:M,isFormSubmitting:$||Q})},r)}))})]})})})})})]})}}}]);
//# sourceMappingURL=7247.fdc4fda5.chunk.js.map