{"version":3,"file":"static/js/5383.ca6b672d.chunk.js","mappings":"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","sources":["jsx/components/Tables/GroupTable.jsx","jsx/pages/CreateGroups.jsx","services/api/TemplateServices.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from \"../../../components/Modal/DeleteModal\";\nimport { useNavigate } from \"react-router-dom\";\nimport usePermissions from \"@/hooks/usePermissions\";\n\nconst GroupTable = ({\n  onConfirmDelete,\n  currentPage,\n  itemsPerPage,\n  tableData,\n  setIsEditTrue,\n  isEditTrue,\n}) => {\n  const navigate = useNavigate();\n  const [data, setData] = useState([]);\n  const { can } = usePermissions();\n  const canModify = can(\"groups\", \"modify\");\n  const canDelete = can(\"groups\", \"delete\");\n  const handleClick = (index, id) => {\n    setIsEditTrue(index);\n    const props = {\n      isEditTrue: isEditTrue,\n      setIsEditTrue: setIsEditTrue,\n    };\n    // console.log(props)\n    navigate(`permission/${id}`, { state: JSON.stringify(props) });\n  };\n\n  useEffect(() => {\n    setData(tableData.reverse());\n  }, [tableData]);\n\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  return (\n    <>\n      {data.map((item, index) => (\n        <tr key={index}>\n          <td>\n            <div className=\"products d-flex justify-content-center\">\n              <h6>{startIndex + index}</h6>\n            </div>\n          </td>\n          <td>\n            <div className=\"products d-flex justify-content-center\">\n              <h6>{item.name}</h6>\n            </div>\n          </td>\n          {(canModify || canDelete) && (\n            <td>\n              <span className=\"d-flex justify-content-center\">\n                {canModify && (\n                  <span\n                    className=\"cursor-pointer\"\n                    onClick={() => handleClick(index, item._id)}\n                  >\n                    <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n                  </span>\n                )}\n                {canDelete && (\n                  <DeleteModal\n                    className=\"cursor-pointer \"\n                    onConfirmDelete={() => onConfirmDelete(index, item._id)}\n                    id={item.id}\n                  >\n                    <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                  </DeleteModal>\n                )}\n              </span>\n            </td>\n          )}\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default GroupTable;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MainPagetitle from \"../../components/MainPagetitle\";\nimport GroupTable from \"../components/Tables/GroupTable\";\nimport { useNavigate } from \"react-router-dom\";\nimport TemplateServices, {\n  getTemplates,\n} from \"../../services/api/TemplateServices\";\nimport { clsx } from \"clsx\";\nimport { useTranslation } from \"react-i18next\";\nimport usePagination from \"../../hooks/usePagination\";\nimport { ThemeContext } from \"../../context/ThemeContext\";\nimport ReactPaginate from \"react-paginate\";\nimport { ICON } from \"../../constants/theme\";\nimport Paginate from \"../../components/Paginate\";\nimport TableSkeleton from \"@/components/Skeleton/Table\";\nimport usePermissions from \"@/hooks/usePermissions\";\n\nconst CreateGroups = () => {\n  const { isRtl } = useContext(ThemeContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const { t } = useTranslation();\n  const { can } = usePermissions();\n  const { page, nextPage, prevPage, goToPage, setCount, totalCount } =\n    usePagination();\n  const fetchData = async (page) => {\n    try {\n      setIsLoading(true);\n      const templateData = await getTemplates(page);\n      console.log(\"Received template data:\", templateData);\n      setCount(templateData.data.totalCount);\n      setGroupsDataState(templateData.data.data); // Assuming 'data' property contains template data array\n    } catch (error) {\n      console.error(\"Error fetching template data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData(page);\n  }, [page]);\n\n  const [groupsDataState, setGroupsDataState] = useState([]);\n  const [isEditTrue, setIsEditTrue] = useState(-1);\n\n  const navigate = useNavigate();\n\n  // useEffect(()=>{\n  //     const data = getAllModules();\n  //     setGroupsDataState(data)\n  // },[])\n\n  const onConfirmDelete = async (index, id) => {\n    const newdata = groupsDataState.filter((e, i) => {\n      if (index != i) return e;\n    });\n    localStorage.setItem(\"templateData\", JSON.stringify(newdata));\n    setGroupsDataState(newdata);\n    await TemplateServices.deleteTemplate(id);\n  };\n\n  const handleAddGroup = () => {\n    const props = {\n      isEditTrue,\n      setIsEditTrue,\n    };\n    navigate(\"permission\", { state: JSON.stringify(props) });\n  };\n\n  const itemsPerPage = 10;\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  const startIndex = (page - 1) * itemsPerPage;\n\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"featureTemplates\")}\n        pageTitle={t(\"featureTemplates\")}\n        parentTitle={t(\"home\")}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"featureTemplates\")}</h4>\n                    <div>\n                      <button\n                        className=\"btn btn-primary btn-sm ms-1\"\n                        data-bs-toggle=\"offcanvas\"\n                        onClick={handleAddGroup}\n                      >\n                        + {t(\"addNew\")}\n                      </button>{\" \"}\n                      {\"\"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    {!groupsDataState.length && isLoading ? (\n                      <TableSkeleton />\n                    ) : (\n                      <table\n                        id=\"empoloyees-tblwrapper\"\n                        className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                      >\n                        <thead>\n                          <tr>\n                            <th className=\"text-center\">{t(\"serialNumber\")}</th>\n                            <th className=\"text-center\">{t(\"templateName\")}</th>\n                            {(can(\"groups\", \"modify\") ||\n                              can(\"groups\", \"delete\")) && (\n                              <th className=\"text-center\">{t(\"action\")}</th>\n                            )}\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <GroupTable\n                            isEditTrue={isEditTrue}\n                            setIsEditTrue={setIsEditTrue}\n                            tableData={groupsDataState}\n                            onConfirmDelete={onConfirmDelete}\n                            currentPage={page}\n                            itemsPerPage={itemsPerPage}\n                          />\n                        </tbody>\n                      </table>\n                    )}\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default CreateGroups;\n","import requests from \"../api\";\nimport axios from \"axios\";\nimport initAxios from \"../api\";\ninitAxios();\n\nexport const getTemplates = async (page) => {\n  try {\n    let url = \"/feature-template\";\n    if (page !== undefined) {\n      url += `?page=${page}&limit=${10}`;\n    }\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching templates:\", error);\n    return { error: \"Couldn't fetch User\" };\n  }\n};\n\nconst TemplateServices = {\n  getTemplates: async (body) => {\n    try {\n      const response = await axios.get(\"/feature-template\", body);\n      return response.data; // Directly return the data array\n    } catch (error) {\n      console.error(\"Error fetching modules:\", error);\n      throw error; // Re-throwing the error for the caller to handle\n    }\n  },\n\n  //   getStaffById: async (id, body) => {\n  //     return requests.post(`/admin/${id}`, body);\n  //   },\n\n  createTemplate: async (body) => {\n    try {\n      const response = await axios.post(\"/feature-template\", body);\n      return response.data; // Directly return the data array\n    } catch (error) {\n      console.error(\"Error fetching modules:\", error);\n      throw error; // Re-throwing the error for the caller to handle\n    }\n  },\n  listModule: async (body) => {\n    try {\n      const response = await axios.get(\"/modules\", body);\n      return response.data; // Directly return the data array\n    } catch (error) {\n      console.error(\"Error fetching modules:\", error);\n      throw error; // Re-throwing the error for the caller to handle\n    }\n  },\n\n  udpateTemplate: async (body) => {\n    try {\n      const response = await axios.patch(\"/feature-template\", body);\n      return response.data; // Directly return the data array\n    } catch (error) {\n      console.error(\"Error fetching modules:\", error);\n      throw error; // Re-throwing the error for the caller to handle\n    }\n  },\n\n  deleteTemplate: async (id) => {\n    try {\n      const response = await axios.delete(`/feature-template/${id}`);\n      return response.data; // Directly return the data array\n    } catch (error) {\n      console.error(\"Error fetching modules:\", error);\n      throw error; // Re-throwing the error for the caller to handle\n    }\n  },\n};\n\nexport default TemplateServices;\n"],"names":["_ref","onConfirmDelete","currentPage","itemsPerPage","tableData","setIsEditTrue","isEditTrue","navigate","useNavigate","data","setData","useState","can","usePermissions","canModify","canDelete","useEffect","reverse","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","name","onClick","handleClick","id","props","state","JSON","stringify","_id","FaEdit","style","color","fontSize","DeleteModal","MdDelete","CreateGroups","isRtl","useContext","ThemeContext","isLoading","setIsLoading","t","useTranslation","page","nextPage","prevPage","goToPage","setCount","totalCount","usePagination","async","templateData","getTemplates","console","log","setGroupsDataState","error","fetchData","groupsDataState","MainPagetitle","mainTitle","pageTitle","parentTitle","handleAddGroup","length","TableSkeleton","GroupTable","newdata","filter","e","i","localStorage","setItem","TemplateServices","deleteTemplate","Math","min","Paginate","handlePageClick","selected","initAxios","url","undefined","axios","get","body","createTemplate","post","listModule","udpateTemplate","patch","delete"],"sourceRoot":""}