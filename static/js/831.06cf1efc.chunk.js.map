{"version":3,"file":"static/js/831.06cf1efc.chunk.js","mappings":"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","sources":["jsx/components/Tables/DriverTable.jsx","jsx/pages/Driver.js"],"sourcesContent":["import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from \"../Modal/DeleteModal\";\n\nconst DriverTable = ({ tableData, onConfirmDelete, editDrawerOpen }) => {\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={item.id}>\n          <td>\n            <span>{item._id}</span>\n          </td>\n          <td>\n            <div className=\"products\">\n              <div>\n                <h6>\n                  {item.firstName} {item.lastName}\n                </h6>\n                <span>{item.employeeDesignation}</span>\n              </div>\n            </div>\n          </td>\n          <td>\n            <span>{item.age}</span>\n          </td>\n          <td>\n            <span>{item.contact1}</span>\n          </td>\n          <td>\n            <span className=\"text-primary \">{item.drivingExperience}</span>\n          </td>\n          <td>\n            <span>{item.city}</span>\n          </td>\n          <td>\n            <span\n              className={`badge light border-0 ${\n                item.active ? \"badge-success\" : \"badge-danger\"\n              } d-inline-block text-center`}\n              style={{ width: \"5rem\" }}\n            >\n              {item.active ? \"Active\" : \"InActive\"}\n            </span>\n          </td>\n          <td>\n            <span className=\"d-flex justify-content-center\">\n              <span\n                className=\"cursor-pointer\"\n                onClick={() => editDrawerOpen(item)}\n              >\n                <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n              </span>\n              <DeleteModal\n                className=\"cursor-pointer \"\n                onConfirmDelete={onConfirmDelete}\n                id={item._id}\n              >\n                <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n              </DeleteModal>\n            </span>\n          </td>\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default DriverTable;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport MainPagetitle from \"../layouts/MainPagetitle\";\r\nimport DriverTable from \"../components/Tables/DriverTable\";\r\nimport { clsx } from \"clsx\";\r\n\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\nimport {useTranslation} from 'react-i18next'\r\nimport { deleteDrivers, getDrivers } from \"../../services/api/driverService\";\r\nimport { notifyError } from \"../../utils/toast\";\r\n\r\nconst Driver = () => {\r\n  const { isRtl } = useContext(ThemeContext);\r\n  const arrowleft = clsx({\r\n    \"fa-solid fa-angle-right\": isRtl,\r\n    \"fa-solid fa-angle-left\": !isRtl,\r\n  });\r\n  const arrowright = clsx({\r\n    \"fa-solid fa-angle-left\": isRtl,\r\n    \"fa-solid fa-angle-right\": !isRtl,\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const [tableData, setTableData] = useState([]);\r\n\r\n  async function getDriversData(pageNo = 1, limit = 10) {\r\n    try {\r\n      const { data, totalLength } = await getDrivers(pageNo, limit);\r\n      setTableData(data);\r\n    } catch (error) {\r\n      notifyError(\"Some error occured !!\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDriversData();\r\n  }, []);\r\n\r\n  const [editData, setEditData] = useState({\r\n    id: 0,\r\n    status: \"\",\r\n    title: \"\",\r\n    contact: 0,\r\n    age: 0,\r\n    drivingExperience: 0,\r\n    gender: \"\",\r\n    location: \"\",\r\n  });\r\n  const [data, setData] = useState(\r\n    document.querySelectorAll(\"#employee-tbl_wrapper tbody tr\")\r\n  );\r\n\r\n  const {t} = useTranslation();\r\n  const sort = 10;\r\n  const activePage = useRef(0);\r\n  const [test, settest] = useState(0);\r\n  const chageData = (frist, sec) => {\r\n    for (var i = 0; i < data.length; ++i) {\r\n      if (i >= frist && i < sec) {\r\n        data[i].classList.remove(\"d-none\");\r\n      } else {\r\n        data[i].classList.add(\"d-none\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setData(document.querySelectorAll(\"#employee-tbl_wrapper tbody tr\"));\r\n  }, [test, tableData]);\r\n\r\n  activePage.current === 0 && chageData(0, sort);\r\n  let paggination = Array(Math.ceil(data.length / sort))\r\n    .fill()\r\n    .map((_, i) => i + 1);\r\n  const onClick = (i) => {\r\n    activePage.current = i;\r\n    chageData(activePage.current * sort, (activePage.current + 1) * sort);\r\n    settest(i);\r\n  };\r\n\r\n  const onConfirmDelete = async (id) => {\r\n    try {\r\n      await deleteDrivers({ driverIds: [id] });\r\n      const updatedData = tableData.filter((item) => item._id !== id);\r\n      setTableData(updatedData);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const editDrawerOpen = (item) => {\r\n    setEditData(item);\r\n    navigate(`/driver/edit/${item._id}`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MainPagetitle\r\n        mainTitle={t('drivers')}\r\n        pageTitle={t('drivers')}\r\n        parentTitle={t('home')}\r\n      />\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-12\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body p-0\">\r\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\r\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\r\n                    <h4 className=\"heading mb-0\">{t('drivers')}</h4>\r\n                    <div>\r\n                      <Link\r\n                        to={\"/driver/create\"}\r\n                        className=\"btn btn-primary btn-sm ms-1\"\r\n                        data-bs-toggle=\"offcanvas\"\r\n                        // onClick={() => employe.current.showModal()}\r\n                      >\r\n                        + {t('addDriver')}\r\n                      </Link>{\" \"}\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    id=\"employee-tbl_wrapper\"\r\n                    className=\"dataTables_wrapper no-footer\"\r\n                  >\r\n                    <table\r\n                      id=\"empoloyees-tblwrapper\"\r\n                      className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\r\n                    >\r\n                      <thead>\r\n                        <tr>\r\n                          <th>{t('id')}</th>\r\n                          <th>{t('employeeName')}</th>\r\n                          <th>{t('age')}</th>\r\n                          <th>{t('contactNumber')}</th>\r\n                          <th>{t('drivingExperienceSince')}</th>\r\n                          <th>{t('city')}</th>\r\n                          <th>{t('status')}</th>\r\n                          <th>{t('action')}</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <DriverTable\r\n                          editData={editData}\r\n                          tableData={tableData}\r\n                          onConfirmDelete={onConfirmDelete}\r\n                          editDrawerOpen={editDrawerOpen}\r\n                          setEditData={setEditData}\r\n                        />\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\r\n                      <div className=\"dataTables_info\">\r\n                      {t('showing')} {activePage.current * sort + 1} {t('to')}{\" \"}\r\n                        {data.length > (activePage.current + 1) * sort\r\n                          ? (activePage.current + 1) * sort\r\n                          : data.length}{\" \"}\r\n                        {t('of')} {data.length} {t('entries')}\r\n                      </div>\r\n                      <div\r\n                        className=\"dataTables_paginate paging_simple_numbers\"\r\n                        id=\"example2_paginate\"\r\n                      >\r\n                        <Link\r\n                          className=\"paginate_button previous disabled\"\r\n                          to=\"/driver\"\r\n                          onClick={() =>\r\n                            activePage.current > 0 &&\r\n                            onClick(activePage.current - 1)\r\n                          }\r\n                        >\r\n                          <i className={arrowleft} />\r\n                        </Link>\r\n                        <span>\r\n                          {paggination.map((number, i) => (\r\n                            <Link\r\n                              key={i}\r\n                              to=\"/driver\"\r\n                              className={`paginate_button  ${\r\n                                activePage.current === i ? \"current\" : \"\"\r\n                              } `}\r\n                              onClick={() => onClick(i)}\r\n                            >\r\n                              {number}\r\n                            </Link>\r\n                          ))}\r\n                        </span>\r\n                        <Link\r\n                          className=\"paginate_button next\"\r\n                          to=\"/driver\"\r\n                          onClick={() =>\r\n                            activePage.current + 1 < paggination.length &&\r\n                            onClick(activePage.current + 1)\r\n                          }\r\n                        >\r\n                          <i className={arrowright} />\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Driver;\r\n"],"names":["_ref","tableData","onConfirmDelete","editDrawerOpen","_jsx","_Fragment","children","map","item","index","_jsxs","_id","className","firstName","lastName","employeeDesignation","age","contact1","drivingExperience","city","concat","active","style","width","onClick","FaEdit","color","fontSize","DeleteModal","id","MdDelete","Driver","isRtl","useContext","ThemeContext","arrowleft","clsx","arrowright","navigate","useNavigate","setTableData","useState","useEffect","async","pageNo","arguments","length","undefined","limit","data","totalLength","getDrivers","error","notifyError","getDriversData","editData","setEditData","status","title","contact","gender","location","setData","document","querySelectorAll","t","useTranslation","sort","activePage","useRef","test","settest","chageData","frist","sec","i","classList","remove","add","current","paggination","Array","Math","ceil","fill","_","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","DriverTable","deleteDrivers","driverIds","updatedData","filter","console","number"],"sourceRoot":""}