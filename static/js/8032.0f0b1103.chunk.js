"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[8032],{28032:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var t=a(65043),n=a(35475),r=a(74117),l=a(63248),i=a(28261),d=a(99723),c=a(47097),o=a(18733),h=a(40399),m=a(19172),x=a(6720),j=a(60184),u=a(95977),p=a(45350),b=a(70579);const g=e=>{let{tableData:s,currentPage:a,itemsPerPage:t,onConfirmDelete:r}=e;const{can:l}=(0,p.A)(),i=l("subUser","modify"),d=l("subUser","delete"),c=(a-1)*t+1;return(0,b.jsx)(b.Fragment,{children:s.map(((e,s)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:c+s})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-primary",children:e.userName})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:e.mobileNumber})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:e.email})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{children:e.country})}),(i||d)&&(0,b.jsx)("td",{children:(0,b.jsxs)("span",{className:"d-flex justify-content-center",children:[i&&(0,b.jsx)(n.N_,{to:"/user/edit/".concat(null===e||void 0===e?void 0:e._id),children:(0,b.jsx)("span",{className:"cursor-pointer",children:(0,b.jsx)(j.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),d&&(0,b.jsx)(u.A,{className:"cursor-pointer ",onConfirmDelete:r,id:e._id,children:(0,b.jsx)(x.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},s)))})};var v=a(69620),f=a(94692),N=a(42457),y=a(272);const C=()=>{var e,s;const{t:a}=(0,r.Bd)(),{can:x}=(0,p.A)(),{page:j,goToPage:u,setCount:C,totalCount:w}=(0,f.A)(),T=(0,l.jE)(),{data:_,isLoading:P,isFetching:U}=(0,i.I)({queryKey:["users",j],queryFn:()=>(0,v.rL)(j),placeholderData:d.rX,staleTime:1/0}),{mutate:k}=(0,c.n)({onError:e=>{(0,N.U)((0,y.SU)(e))},onSuccess:()=>{T.invalidateQueries("users")},mutationFn:v.hG});(0,t.useEffect)((()=>{_&&C(_.totalCount)}),[_]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.A,{mainTitle:"User",pageTitle:"User",parentTitle:"Home"}),(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-xl-12",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"card-body p-0",children:(0,b.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,b.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,b.jsx)("h4",{className:"heading mb-0",children:a("users")}),(0,b.jsxs)("div",{children:[x("subUser","add")&&(0,b.jsxs)(n.N_,{to:"/user/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",children:["+ ",a("addUser")]})," "]})]}),(0,b.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,b.jsx)("div",{className:"table-responsive",children:U||P?(0,b.jsx)(o.A,{}):(0,b.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:a("id")}),(0,b.jsx)("th",{children:a("username")}),(0,b.jsx)("th",{children:a("mobileNumber")}),(0,b.jsx)("th",{children:a("email")}),(0,b.jsx)("th",{children:a("location")}),(x("subUser","modify")||x("subUser","delete"))&&(0,b.jsx)("th",{children:a("action")})]})}),(0,b.jsx)("tbody",{children:null!==_&&void 0!==_&&null!==(e=_.data)&&void 0!==e&&e.length?(0,b.jsx)(g,{currentPage:j,itemsPerPage:10,tableData:null!==(s=null===_||void 0===_?void 0:_.data)&&void 0!==s?s:[],onConfirmDelete:k}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colspan:"10",rowSpan:2,height:150,children:(0,b.jsx)("h1",{className:"text-center",children:"No Data found!"})})})})]})}),(0,b.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,b.jsxs)("div",{className:"dataTables_info",children:[a("showing")," ",10*(j-1)+1," ",a("to")," ",Math.min(10*j,w)," ",a("of")," ",w," ",a("entries")]}),(0,b.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,b.jsx)(m.A,{totalCount:w,itemsPerPage:10,handlePageClick:e=>{let{selected:s}=e;u(s+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=8032.0f0b1103.chunk.js.map