(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[6823],{61285:(e,l,a)=>{"use strict";a.d(l,{A:()=>h});var s=a(65043),r=a(14282),t=a(13052),n=a(24858),o=a(2364),m=a(23764),c=a(69367),i=a(86151),d=a(59167),u=(a(80360),a(73216)),x=a(70579);const h=e=>{let{setValue:l,getValues:a,register:h,onSubmit:b,handleSubmit:p,errors:j,control:N}=e;const{checkRole:f,checkUserName:g}=(0,d.A)(),[y,v]=(0,s.useState)(0),[C,A]=(0,s.useState)(0),[S,w]=(0,s.useState)(),[F,I]=(0,s.useState)(!0),V=localStorage.getItem("role"),D={control:e=>({...e,padding:".25rem 0 "})},k=i.filter((e=>"businessgroup"===e.role)).map((e=>({label:e.userName,value:e.id})));i.filter((e=>"company"===e.role)).map((e=>({label:e.userName,value:e.id})));(0,s.useEffect)((()=>{"businessgroup"===V&&(w(localStorage.getItem("loginDetails-name")),l("parent",localStorage.getItem("loginDetails-name")))}),[]);const{id:E}=(0,u.g)(),J=JSON.parse(localStorage.getItem("userJsonData")).filter((e=>e.id.toString()===E)),[T,O]=(0,s.useState)(J);return(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsxs)("label",{className:"form-label",children:["Business Group",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),"admin"===f()?(0,x.jsx)(n.xI,{name:"parent",control:N,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,x.jsx)(o.Ay,{onChange:e=>{w(e.label),l("parent",e.label)},options:k,ref:t,name:r,styles:D})}}):(0,x.jsx)(n.xI,{name:"parent",control:N,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,x.jsx)(o.Ay,{onChange:e=>{w(e.label),l("parent",e.label)},options:[{value:g(),label:g()}],ref:t,isDisabled:"Admin"!==localStorage.getItem("role"),name:r,styles:D,defaultValue:[{value:g(),label:g()}]})}}),!a("parent")&&(0,x.jsx)(m.A,{errorName:j.parent})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Company Name ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"text",register:h,required:!0,label:"User Name",name:"userName",placeholder:"",defaultValue:T[0]?T[0].userName:""}),(0,x.jsx)(m.A,{errorName:j.userName})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Email",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"email",register:h,label:"Email",name:"email",placeholder:"",defaultValue:T[0]?T[0].email:""}),(0,x.jsx)(m.A,{errorName:j.email})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Password",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"password",register:h,name:"password",label:"password",placeholder:"",defaultValue:a("password")}),(0,x.jsx)(m.A,{errorName:j.password})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Help Desk Email",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"email",register:h,name:"helpDeskEmail",label:"Help Desk Email",placeholder:"",defaultValue:T[0]?T[0].helpDeskEmail:""}),(0,x.jsx)(m.A,{errorName:j.helpDeskEmail})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Help Desk Telephone Number",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"number",register:h,className:"form-control",label:"Help Desk Telephone Number",name:"helpDeskTelephoneNumber",defaultValue:T[0]?T[0].helpDeskTelephoneNumber:"",placeholder:""}),(0,x.jsx)(m.A,{errorName:j.helpDeskTelephoneNumber})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsxs)("label",{className:"form-label",children:["Mobile Number",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"number",register:h,name:"mobileNumber",label:"Mobile Number",placeholder:"",defaultValue:T[0]?T[0].mobileNumber:""}),(0,x.jsx)(m.A,{errorName:j.mobileNumber})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsx)("label",{className:"form-label",children:"Whatsapp Contact Number"}),(0,x.jsx)(c.A,{type:"number",register:h,className:"form-control",label:"Whatsapp Contact Number",name:"whatsappContactNumber",placeholder:"",defaultValue:T[0]?T[0].whatsappContactNumber:""}),(0,x.jsx)(m.A,{errorName:j.whatsappContactNumber})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsxs)("label",{className:"form-label",children:["Country",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(t.b3,{onChange:e=>{v(e.id),l("country",e.name),I(!1)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select Country"}),!a("country")&&(0,x.jsx)(m.A,{errorName:j.country})]}),(0,x.jsxs)("div",{className:"".concat(F?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,x.jsx)("label",{className:"form-label",children:"State"}),(0,x.jsx)("div",{style:{background:"white"},children:(0,x.jsx)(t.QO,{countryid:y,onChange:e=>{A(e.id),l("state",e.name)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select State"})}),!a("state")&&(0,x.jsx)(m.A,{errorName:j.state})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["City",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"text",register:h,label:"City",name:"city",placeholder:"",defaultValue:T[0]?T[0].city:""}),(0,x.jsx)(m.A,{errorName:j.city})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:"Zip Code"}),(0,x.jsx)(c.A,{type:"number",register:h,label:"Zip Code",name:"zipCode",placeholder:"",defaultValue:T[0]?T[0].zipCode:""}),(0,x.jsx)(m.A,{errorName:j.zipCode})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Street1",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(c.A,{type:"text",register:h,label:"Street1",name:"street1",placeholder:"",defaultValue:T[0]?T[0].street1:""}),(0,x.jsx)(m.A,{errorName:j.street1})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Street2"}),(0,x.jsx)(c.A,{type:"text",register:h,label:"Street2",name:"street2",placeholder:""})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,x.jsx)("label",{className:"form-label",children:"Contact Person"}),(0,x.jsx)(c.A,{type:"text",register:h,label:"Contact Person",name:"contactPerson",placeholder:""})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:"Fax Number"}),(0,x.jsx)(c.A,{type:"number",register:h,label:"Fax Number",name:"faxNumber",placeholder:""})]}),(0,x.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Upload File"}),(0,x.jsx)("input",{type:"file",label:"Document Name",name:"documentFile",className:"form-control"})]})]}),(0,x.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,x.jsxs)(r.A,{type:"submit",onClick:p(b),style:{width:"10%"},children:[" ","Submit"]})})]})}},26313:(e,l,a)=>{"use strict";a.d(l,{A:()=>d});var s=a(65043),r=a(14282),t=(a(13052),a(24858)),n=a(2364),o=a(88712),m=a(15075),c=a(23764),i=a(70579);const d=e=>{let{setValue:l,handleSubmit:a,onSubmit:d,errors:u,control:x}=e;const[h,b]=(0,s.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),p={control:e=>({...e,padding:".25rem 0 "})};return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Date Format"}),(0,i.jsx)(t.xI,{name:"dateFormat",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("dateFormat",e.value),options:m.wJ,ref:t,name:r,styles:p,defaultValue:m.wJ[0]})}}),(0,i.jsx)(c.A,{errorName:u.dateFormat})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Time Format"}),(0,i.jsx)(t.xI,{name:"timeFormat",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("timeFormat",e.value),options:m.lD,ref:t,name:r,styles:p,defaultValue:m.lD[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Unit of Distance"}),(0,i.jsx)(t.xI,{name:"fuelEconomyScaling",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("unitOfDistance",e.value),options:m.jZ,ref:t,name:r,styles:p,defaultValue:m.EE[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Unit of Fuel"}),(0,i.jsx)(t.xI,{name:"unitOfFuel",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("unitOfFuel",e.value),options:m.CG,ref:t,name:r,styles:p,defaultValue:m.CG[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Language"}),(0,i.jsx)(t.xI,{name:"language",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("language",e.value),options:m.Po,ref:t,name:r,styles:p,defaultValue:m.Po[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Status"}),(0,i.jsx)(t.xI,{name:"status",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("status",e.value),options:m.FJ,ref:t,name:r,styles:p,defaultValue:m.FJ[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Work Start Day"}),(0,i.jsx)(t.xI,{name:"worksstartday",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("worksstartday",e.value),options:m.XH,ref:t,name:r,styles:p,defaultValue:m.XH[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Currency"}),(0,i.jsx)(t.xI,{name:"currency",control:x,render:e=>{let{field:{onChange:a,value:s,name:r,ref:t}}=e;return(0,i.jsx)(n.Ay,{onChange:e=>l("currency",e.value),options:m.Ib,ref:t,name:r,styles:p,defaultValue:m.Ib[0]})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,i.jsx)("label",{className:"form-label",children:"Time Zone "}),(0,i.jsx)(t.xI,{name:"timezone",control:x,render:e=>{let{field:{onChange:l,value:a,name:s,ref:r}}=e;return(0,i.jsx)(o.Ay,{onChange:b,ref:r,name:s,styles:p,defaultValue:m.CG[0],value:h})}})]}),(0,i.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,i.jsx)("label",{className:"form-label",children:"Upload File"}),(0,i.jsx)("input",{type:"file",label:"Document Name",name:"documentFile",className:"form-control"})]})]}),(0,i.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,i.jsxs)(r.A,{type:"submit",onClick:a(d),style:{width:"10%"},children:[" ","Submit"]})})]})}},32690:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>j});var s=a(65043),r=a(44816),t=a(86856),n=a(24858),o=(a(9531),a(9866)),m=a(61285),c=a(26313),i=a(18403),d=a(87742),u=a(59167),x=a(42457),h=a(73216),b=a(11131),p=a(70579);const j=()=>{const{saveData:e}=(0,u.A)(),l=(0,h.Zp)(),{id:a}=(0,h.g)(),[j,N]=(0,s.useState)(0),f=["New Company","Settings","Change Password"],g=[m.A,c.A,b.A],y=f.length,{register:v,formState:{errors:C},setValue:A,getValues:S,control:w,handleSubmit:F}=(0,n.mN)({resolver:(0,i.t)(1===j?d.vE:d.QB)}),I=e=>{if(j===y-1)try{if(a){const s=JSON.parse(localStorage.getItem("userJsonData"));console.log("Id is needed",a,e);const r=s.findIndex((e=>e.id==a));return void(-1!==r&&(s[r]={...e,id:a,role:"company"},localStorage.setItem("userJsonData",JSON.stringify(s)),(0,x.V)("Company Updated!"),l("/company")))}{e={...e,role:"company"};const a=JSON.parse(localStorage.getItem("userJsonData"));return e.id=a.length+1,a.push(e),localStorage.setItem("userJsonData",JSON.stringify(a)),(0,x.V)("New Company Created!"),void l("/company")}}catch(s){(0,x.U)("Some error occured !!")}N((e=>Math.min(e+1,y-1))),(0,x.V)("Saved !")};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.A,{mainTitle:"Company",pageTitle:a?"Edit":"Create",parentTitle:"Company"}),(0,p.jsx)("div",{className:"m-2 p-2",children:(0,p.jsx)(n.Op,{children:(0,p.jsx)("form",{onSubmit:F(I),children:(0,p.jsx)("div",{className:"default-tab",children:(0,p.jsxs)(r.A.Container,{defaultActiveKey:f[0].toLowerCase(),children:[(0,p.jsx)(t.A,{as:"ul",className:"nav-tabs",children:f.map(((e,l)=>(0,p.jsx)(t.A.Item,{as:"li",children:(0,p.jsx)(t.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:l===j,onClick:()=>N(l),children:e})},l)))}),(0,p.jsx)(r.A.Content,{className:"pt-4",children:f.map(((e,l)=>{const a=g[l];return(0,p.jsx)(r.A.Pane,{eventKey:e.toLowerCase(),active:l===j,children:(0,p.jsx)(a,{data:f,control:w,setValue:A,register:v,getValues:S,errors:C,onSubmit:I,handleSubmit:F})},l)}))})]})})})})})]})}},42634:()=>{}}]);
//# sourceMappingURL=6823.606aa39e.chunk.js.map