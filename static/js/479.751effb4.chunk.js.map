{"version":3,"file":"static/js/479.751effb4.chunk.js","mappings":"uRAsBA,MA6GA,EA7GyBA,KACvB,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,GACzCC,EAAa,CAAC,UAAW,kBAAmB,YAC5CC,EAAY,CAACC,EAAAA,EAASC,EAAAA,EAAgBC,EAAAA,GACtCC,EAAYL,EAAWM,QACvB,GAAEC,IAAOC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,OACX,SACJC,EACAC,WAAW,OAAEC,GAAQ,SACrBC,EAAQ,UACRC,EAAS,QACTC,EAAO,aACPC,IACEC,EAAAA,EAAAA,IAAQ,CAAC,GAEPC,EAAYC,IAChB,GAAIvB,IAAgBQ,EAAY,EAC9B,IACE,GAAIE,EAAI,CACN,MAAMc,EAAMC,KAAKC,MAAMC,aAAaC,QAAQ,iBAC5CC,QAAQC,IAAIpB,GACZ,MAAMqB,EAAgBP,EAAIQ,WAAWC,GAASA,EAAKvB,IAAMA,IAYzD,aAXuB,IAAnBqB,IACFP,EAAIO,GAAiB,IAChBR,EACHb,KACAwB,YAAa,SACbC,KAAM,QAERR,aAAaS,QAAQ,eAAgBX,KAAKY,UAAUb,KACpDc,EAAAA,EAAAA,GAAc,oBAIlB,CAAO,CACLf,EAAO,IAAKA,EAAMW,YAAa,SAAUC,KAAM,QAC/C,MAAMI,EAAed,KAAKC,MAAMC,aAAaC,QAAQ,iBAOrD,OANAL,EAAKb,GAAK6B,EAAa9B,OAAS,EAChC8B,EAAaC,KAAKjB,GAClBI,aAAaS,QAAQ,eAAgBX,KAAKY,UAAUE,KAEpDD,EAAAA,EAAAA,GAAc,4BACd1B,EAAS,UAEX,CACF,CAAE,MAAO6B,IACPC,EAAAA,EAAAA,GAAY,wBACd,CAEFzC,GAAgB0C,GAAcC,KAAKC,IAAIF,EAAY,EAAGnC,EAAY,IAAG,EAEvE,OACEsC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAa,CACZC,UAAU,SACVC,UAAW,OACXC,YAAa,YAEfJ,EAAAA,EAAAA,KAAA,OAAKK,UAAU,UAASN,UACtBC,EAAAA,EAAAA,KAACM,EAAAA,GAAY,CAAAP,UACXC,EAAAA,EAAAA,KAAA,QAAM3B,SAAUF,EAAaE,GAAU0B,UACrCC,EAAAA,EAAAA,KAAA,OAAKK,UAAU,cAAaN,UAC1BF,EAAAA,EAAAA,MAACU,EAAAA,EAAIC,UAAS,CAACC,iBAAkBvD,EAAW,GAAGwD,cAAcX,SAAA,EAC3DC,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,GAAG,KAAKP,UAAU,WAAUN,SAC9B7C,EAAW2D,KAAI,CAACvC,EAAMwC,KACrBd,EAAAA,EAAAA,KAACW,EAAAA,EAAII,KAAI,CAACH,GAAG,KAAIb,UACfC,EAAAA,EAAAA,KAACW,EAAAA,EAAIK,KAAI,CACPC,MAAO,CAAEC,QAAS,cAClBC,SAAU7C,EAAKoC,cACfU,OAAQN,IAAM/D,EACdsE,QAASA,IAAMrE,EAAe8D,GAAGf,SAEhCzB,KAPkBwC,QAY3Bd,EAAAA,EAAAA,KAACO,EAAAA,EAAIe,QAAO,CAACjB,UAAU,OAAMN,SAC1B7C,EAAW2D,KAAI,CAACvC,EAAMwC,KACrB,MAAMS,EAAYpE,EAAU2D,GAC5B,OACEd,EAAAA,EAAAA,KAACO,EAAAA,EAAIiB,KAAI,CACPL,SAAU7C,EAAKoC,cAEfU,OAAQN,IAAM/D,EAAYgD,UAE1BC,EAAAA,EAAAA,KAACuB,EAAS,CACRjD,KAAMpB,EACNgB,QAASA,EACTF,SAAUA,EACVH,SAAUA,EACVI,UAAWA,EACXF,OAAQA,EACRI,aAAcA,EACdE,SAAUA,KAXPyC,EAaI,mBAS1B,C","sources":["jsx/pages/admin/settings/EditForm/UpdateDriverForm.jsx"],"sourcesContent":["import React, {\n  useState,\n  forwardRef,\n  useImperativeHandle,\n  useEffect,\n} from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { Dropdown, Nav, Offcanvas, Tab } from \"react-bootstrap\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport \"react-country-state-city/dist/react-country-state-city.css\";\nimport MainPagetitle from \"../../../../../components/MainPagetitle\";\nimport Profile from \"../../../../components/TabComponent/DriverTabs/Profile\";\nimport AdditionalInfo from \"../../../../components/TabComponent/DriverTabs/AdditionalInfo\";\nimport Document from \"../../../../components/TabComponent/DriverTabs/Document\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  driverProfileSchema,\n  driverInfoSchema,\n} from \"../../../../../utils/yup\";\nimport { notifyError, notifySuccess } from \"../../../../../utils/toast\";\nimport \"@/assets/scss/pages/_driver-tracking.scss\";\n\nconst UpdateDriverForm = () => {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const tabHeading = [\"Profile\", \"Additional Info\", \"Document\"];\n  const component = [Profile, AdditionalInfo, Document];\n  const totalTabs = tabHeading.length;\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const {\n    register,\n    formState: { errors },\n    setValue,\n    getValues,\n    control,\n    handleSubmit,\n  } = useForm({});\n\n  const onSubmit = (data) => {\n    if (activeIndex === totalTabs - 1) {\n      try {\n        if (id) {\n          const val = JSON.parse(localStorage.getItem(\"userJsonData\"));\n          console.log(id);\n          const indexToUpdate = val.findIndex((item) => item.id == id);\n          if (indexToUpdate !== -1) {\n            val[indexToUpdate] = {\n              ...data,\n              id,\n              designation: \"driver\",\n              role: \"user\",\n            };\n            localStorage.setItem(\"userJsonData\", JSON.stringify(val));\n            notifySuccess(\"Driver Updated!\");\n            // navigate(\"/driver\");\n          }\n          return;\n        } else {\n          data = { ...data, designation: \"driver\", role: \"user\" };\n          const existingData = JSON.parse(localStorage.getItem(\"userJsonData\"));\n          data.id = existingData.length + 1;\n          existingData.push(data);\n          localStorage.setItem(\"userJsonData\", JSON.stringify(existingData));\n          // notifySuccess(\"Branch Added Successfully !!\");\n          notifySuccess(\"New Driver Created!\");\n          navigate(\"/driver\");\n          return;\n        }\n      } catch (error) {\n        notifyError(\"Some error occured !!\");\n      }\n    }\n    setActiveIndex((prevIndex) => Math.min(prevIndex + 1, totalTabs - 1));\n  };\n  return (\n    <>\n      <MainPagetitle\n        mainTitle=\"Driver\"\n        pageTitle={\"Edit\"}\n        parentTitle={\"Driver\"}\n      />\n      <div className=\"m-2 p-2\">\n        <FormProvider>\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"default-tab\">\n              <Tab.Container defaultActiveKey={tabHeading[0].toLowerCase()}>\n                <Nav as=\"ul\" className=\"nav-tabs\">\n                  {tabHeading.map((data, i) => (\n                    <Nav.Item as=\"li\" key={i}>\n                      <Nav.Link\n                        style={{ padding: \".5rem 2rem\" }}\n                        eventKey={data.toLowerCase()}\n                        active={i === activeIndex}\n                        onClick={() => setActiveIndex(i)}\n                      >\n                        {data}\n                      </Nav.Link>\n                    </Nav.Item>\n                  ))}\n                </Nav>\n                <Tab.Content className=\"pt-4\">\n                  {tabHeading.map((data, i) => {\n                    const Component = component[i];\n                    return (\n                      <Tab.Pane\n                        eventKey={data.toLowerCase()}\n                        key={i}\n                        active={i === activeIndex}\n                      >\n                        <Component\n                          data={tabHeading}\n                          control={control}\n                          setValue={setValue}\n                          register={register}\n                          getValues={getValues}\n                          errors={errors}\n                          handleSubmit={handleSubmit}\n                          onSubmit={onSubmit}\n                        />\n                      </Tab.Pane>\n                    );\n                  })}\n                </Tab.Content>\n              </Tab.Container>\n            </div>\n          </form>\n        </FormProvider>\n      </div>\n    </>\n  );\n};\nexport default UpdateDriverForm;\n"],"names":["UpdateDriverForm","activeIndex","setActiveIndex","useState","tabHeading","component","Profile","AdditionalInfo","Document","totalTabs","length","id","useParams","navigate","useNavigate","register","formState","errors","setValue","getValues","control","handleSubmit","useForm","onSubmit","data","val","JSON","parse","localStorage","getItem","console","log","indexToUpdate","findIndex","item","designation","role","setItem","stringify","notifySuccess","existingData","push","error","notifyError","prevIndex","Math","min","_jsxs","_Fragment","children","_jsx","MainPagetitle","mainTitle","pageTitle","parentTitle","className","FormProvider","Tab","Container","defaultActiveKey","toLowerCase","Nav","as","map","i","Item","Link","style","padding","eventKey","active","onClick","Content","Component","Pane"],"sourceRoot":""}