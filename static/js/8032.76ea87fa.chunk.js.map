{"version":3,"file":"static/js/8032.76ea87fa.chunk.js","mappings":"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","sources":["features/user/components/Table.jsx","features/user/pages/List.jsx"],"sourcesContent":["import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\n\nimport DeleteModal from \"@/components/Modal/DeleteModal\";\nimport usePermissions from \"@/hooks/usePermissions\";\n\nconst UserTable = ({\n  tableData,\n  currentPage,\n  itemsPerPage,\n  onConfirmDelete,\n}) => {\n  const { can } = usePermissions();\n  const editPermission = can(\"subUser\", \"modify\");\n  const deletePermission = can(\"subUser\", \"delete\");\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={index}>\n          <td>\n            <span>{startIndex + index}</span>\n          </td>\n          <td>\n            <span className=\"text-primary\">{item.userName}</span>\n          </td>\n\n          <td>\n            <span>{item.mobileNumber}</span>\n          </td>\n          <td>\n            <span>{item.email}</span>\n          </td>\n          <td>\n            <span>{item.country}</span>\n          </td>\n          {(editPermission || deletePermission) && (\n            <td>\n              <span className=\"d-flex justify-content-center\">\n                {editPermission && (\n                  <Link to={`/user/edit/${item?._id}`}>\n                    <span className=\"cursor-pointer\">\n                      <FaEdit\n                        style={{\n                          color: \"green\",\n                          fontSize: \"1.2rem\",\n                        }}\n                      />\n                    </span>\n                  </Link>\n                )}\n                {deletePermission && (\n                  <DeleteModal\n                    className=\"cursor-pointer \"\n                    onConfirmDelete={onConfirmDelete}\n                    id={item._id}\n                  >\n                    <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                  </DeleteModal>\n                )}\n              </span>\n            </td>\n          )}\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default UserTable;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  useQuery,\n  keepPreviousData,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport TableSkeleton from \"@/components/Skeleton/Table\";\nimport MainPagetitle from \"@/components/MainPagetitle\";\nimport Paginate from \"@/components/Paginate\";\nimport UserTable from \"../components/Table\";\nimport { getAllUser, deleteUser } from \"../api\";\nimport usePagination from \"@/hooks/usePagination\";\nimport usePermissions from \"@/hooks/usePermissions\";\nimport { notifyError } from \"@/utils/toast\";\nimport { getApiErrorMessage } from \"@/utils/helper\";\n\nconst UserList = () => {\n  const { t } = useTranslation();\n  const { can } = usePermissions();\n  const { page, goToPage, setCount, totalCount } = usePagination();\n  const queryClient = useQueryClient();\n\n  const { data, isLoading, isFetching } = useQuery({\n    queryKey: [\"users\", page],\n    queryFn: () => getAllUser(page),\n    placeholderData: keepPreviousData,\n    staleTime: Infinity,\n  });\n\n  const { mutate } = useMutation({\n    onError: (err) => {\n      notifyError(getApiErrorMessage(err));\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"users\");\n    },\n    mutationFn: deleteUser,\n  });\n\n  useEffect(() => {\n    if (data) setCount(data.totalCount);\n  }, [data]);\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  const itemsPerPage = 10;\n\n  return (\n    <>\n      <MainPagetitle mainTitle={t(\"user\")} pageTitle={t(\"user\")} parentTitle={t(\"home\")} />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"users\")}</h4>\n                    <div>\n                      {can(\"subUser\", \"add\") && (\n                        <Link\n                          to={\"/user/create\"}\n                          className=\"btn btn-primary btn-sm ms-1\"\n                          data-bs-toggle=\"offcanvas\"\n                        >\n                          + {t(\"addUser\")}\n                        </Link>\n                      )}{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    <div className=\"table-responsive\">\n                      {isFetching || isLoading ? (\n                        <TableSkeleton />\n                      ) : (\n                        <table\n                          id=\"empoloyees-tblwrapper\"\n                          className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                        >\n                          <thead>\n                            <tr>\n                              <th>{t(\"id\")}</th>\n                              <th>{t(\"username\")}</th>\n                              <th>{t(\"mobileNumber\")}</th>\n                              <th>{t(\"email\")}</th>\n                              <th>{t(\"location\")}</th>\n                              {(can(\"subUser\", \"modify\") ||\n                                can(\"subUser\", \"delete\")) && (\n                                <th>{t(\"action\")}</th>\n                              )}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {data?.data?.length ? (\n                              <UserTable\n                                currentPage={page}\n                                itemsPerPage={itemsPerPage}\n                                tableData={data?.data ?? []}\n                                onConfirmDelete={mutate}\n                              />\n                            ) : (\n                              <tr>\n                                <td colspan=\"10\" rowSpan={2} height={150}>\n                                  <h1 className=\"text-center\">\n                                    No Data found!\n                                  </h1>\n                                </td>\n                              </tr>\n                            )}\n                          </tbody>\n                        </table>\n                      )}\n                    </div>\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UserList;\n"],"names":["_ref","tableData","currentPage","itemsPerPage","onConfirmDelete","can","usePermissions","editPermission","deletePermission","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","userName","mobileNumber","email","country","Link","to","concat","_id","FaEdit","style","color","fontSize","DeleteModal","id","MdDelete","UserList","_data$data","_data$data2","t","useTranslation","page","goToPage","setCount","totalCount","usePagination","queryClient","useQueryClient","data","isLoading","isFetching","useQuery","queryKey","queryFn","getAllUser","placeholderData","keepPreviousData","staleTime","Infinity","mutate","useMutation","onError","err","notifyError","getApiErrorMessage","onSuccess","invalidateQueries","mutationFn","deleteUser","useEffect","MainPagetitle","mainTitle","pageTitle","parentTitle","TableSkeleton","length","UserTable","colspan","rowSpan","height","Math","min","Paginate","handlePageClick","selected"],"sourceRoot":""}