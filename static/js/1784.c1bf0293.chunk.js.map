{"version":3,"file":"static/js/1784.c1bf0293.chunk.js","mappings":"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","sources":["features/driver/components/Table.jsx","features/driver/pages/List.jsx"],"sourcesContent":["import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\n\nimport DeleteModal from \"@/components/Modal/DeleteModal\";\nimport usePermissions from \"@/hooks/usePermissions\";\n\nconst DriverTable = ({\n  tableData,\n  currentPage,\n  itemsPerPage,\n  onConfirmDelete,\n}) => {\n  const { can } = usePermissions();\n  const editPermission = can(\"driver\", \"modify\");\n  const deletePermission = can(\"driver\", \"delete\");\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={item.id}>\n          <td>\n            <span>{startIndex + index}</span>\n          </td>\n          <td>\n            <div className=\"products\">\n              <div>\n                <h6>\n                  {item.firstName} {item.lastName}\n                </h6>\n                <span>{item.employeeDesignation}</span>\n              </div>\n            </div>\n          </td>\n          <td>\n            <span>{item.age}</span>\n          </td>\n          <td>\n            <span>{item.contact1}</span>\n          </td>\n          <td>\n            <span className=\"text-primary \">{item.drivingExperience}</span>\n          </td>\n          <td>\n            <span>{item.city}</span>\n          </td>\n          <td>\n            <span\n              className={`badge light border-0 ${\n                item.active ? \"badge-success\" : \"badge-danger\"\n              } d-inline-block text-center`}\n              style={{ width: \"5rem\" }}\n            >\n              {item.active ? \"Active\" : \"InActive\"}\n            </span>\n          </td>\n          {(deletePermission || editPermission) && (\n            <td>\n              <span className=\"d-flex justify-content-center\">\n                {editPermission && (\n                  <Link to={`/driver/edit/${item?._id}`}>\n                    <span className=\"cursor-pointer\">\n                      <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n                    </span>\n                  </Link>\n                )}\n\n                {deletePermission && (\n                  <DeleteModal\n                    className=\"cursor-pointer \"\n                    onConfirmDelete={onConfirmDelete}\n                    id={item._id}\n                  >\n                    <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                  </DeleteModal>\n                )}\n              </span>\n            </td>\n          )}\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default DriverTable;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  useQuery,\n  keepPreviousData,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport MainPagetitle from \"@/components/MainPagetitle\";\nimport DriverTable from \"../components/Table\";\nimport { deleteDrivers, getAllDrivers } from \"../api\";\nimport { notifyError } from \"@/utils/toast\";\nimport usePagination from \"@/hooks/usePagination\";\nimport Paginate from \"@/components/Paginate\";\nimport TableSkeleton from \"@/components/Skeleton/Table\";\nimport { getApiErrorMessage } from \"@/utils/helper\";\nimport usePermissions from \"@/hooks/usePermissions\";\n\nconst DriverList = () => {\n  const { page, goToPage, setCount, totalCount } = usePagination();\n  const itemsPerPage = 10;\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const { can } = usePermissions();\n\n  const { data, isLoading, isFetching } = useQuery({\n    queryKey: [\"drivers\", page],\n    queryFn: () => getAllDrivers(page),\n    placeholderData: keepPreviousData,\n    staleTime: Infinity,\n  });\n\n  const { mutate: removeDriver } = useMutation({\n    onError: (err) => {\n      notifyError(getApiErrorMessage(err));\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"drivers\");\n    },\n    mutationFn: deleteDrivers,\n  });\n\n  useEffect(() => {\n    if (data) setCount(data.totalCount);\n  }, [data]);\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"drivers\")}\n        pageTitle={t(\"drivers\")}\n        parentTitle={t(\"home\")}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"drivers\")}</h4>\n                    <div>\n                      <Link\n                        to={\"/driver/create\"}\n                        className=\"btn btn-primary btn-sm ms-1\"\n                        data-bs-toggle=\"offcanvas\"\n                        // onClick={() => employe.current.showModal()}\n                      >\n                        + {t(\"addDriver\")}\n                      </Link>{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    <div className=\"table-responsive\">\n                      {isFetching && isLoading ? (\n                        <TableSkeleton />\n                      ) : (\n                        <table\n                          id=\"empoloyees-tblwrapper\"\n                          className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                        >\n                          <thead>\n                            <tr>\n                              <th>{t(\"id\")}</th>\n                              <th>{t(\"employeeName\")}</th>\n                              <th>{t(\"age\")}</th>\n                              <th>{t(\"contactNumber\")}</th>\n                              <th>{t(\"drivingExperienceSince\")}</th>\n                              <th>{t(\"city\")}</th>\n                              <th>{t(\"status\")}</th>\n                              {(can(\"driver\", \"delete\") ||\n                                can(\"driver\", \"modify\")) && (\n                                <th>{t(\"action\")}</th>\n                              )}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {data.data?.length ? (\n                              <DriverTable\n                                tableData={data?.data}\n                                onConfirmDelete={(id) =>\n                                  removeDriver({ driverIds: [id] })\n                                }\n                                currentPage={page}\n                                itemsPerPage={itemsPerPage}\n                              />\n                            ) : (\n                              <tr>\n                                <td colspan=\"10\" rowSpan={2} height={150}>\n                                  <h1 className=\"text-center\">\n                                    No Data found!\n                                  </h1>\n                                </td>\n                              </tr>\n                            )}\n                          </tbody>\n                        </table>\n                      )}\n                    </div>\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DriverList;\n"],"names":["_ref","tableData","currentPage","itemsPerPage","onConfirmDelete","can","usePermissions","editPermission","deletePermission","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","firstName","lastName","employeeDesignation","age","contact1","drivingExperience","city","active","style","width","Link","to","_id","FaEdit","color","fontSize","DeleteModal","id","MdDelete","DriverList","_data$data","page","goToPage","setCount","totalCount","usePagination","queryClient","useQueryClient","t","useTranslation","data","isLoading","isFetching","useQuery","queryKey","queryFn","getAllDrivers","placeholderData","keepPreviousData","staleTime","Infinity","mutate","removeDriver","useMutation","onError","err","notifyError","getApiErrorMessage","onSuccess","invalidateQueries","mutationFn","deleteDrivers","useEffect","MainPagetitle","mainTitle","pageTitle","parentTitle","TableSkeleton","length","DriverTable","driverIds","colspan","rowSpan","height","Math","min","Paginate","handlePageClick","selected"],"sourceRoot":""}