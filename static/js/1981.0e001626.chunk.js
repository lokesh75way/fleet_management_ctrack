"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[1981],{53358:(e,s,a)=>{a.d(s,{A:()=>p});var i=a(65043),n=a(79942),t=a(33723),c=(a(72213),a(49804)),l=a(6720),r=a(45394),d=a(60184),o=a(31462),m=a(32620),x=a(70579);const h=()=>{const{isTrafficClick:e,setIsTrafficClick:s}=(0,i.useContext)(t.D);return(0,x.jsxs)("div",{className:"panel",children:[(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r.dVm,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(m.U2u,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",onClick:a=>{a.preventDefault(),s(!e)},children:(0,x.jsx)(d.zmV,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(d.$Fg,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r._vB,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r.o9J,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(o.nnb,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(l.uU7,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(c.yzF,{className:"modes_icon"})})]})},p=e=>{let{data:s}=e;const{isTrafficClick:a,setIsTrafficClick:c}=(0,i.useContext)(t.D),l={NODE_ENV:"production",PUBLIC_URL:"/fleet_management_ctrack",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY,{isLoaded:r}=(0,n.RH)({googleMapsApiKey:"".concat(l)});return(0,x.jsxs)("div",{className:"vehicle_tracking",children:[(0,x.jsx)(h,{}),r?(0,x.jsx)(n.u6,{mapContainerStyle:{width:"100%",height:"80vh"},center:s[0],zoom:13,children:a?(0,x.jsx)(n.vs,{}):null===s||void 0===s?void 0:s.map(((e,s)=>{let{lat:a,lng:i}=e;return(0,x.jsx)(n.X0,{position:{lat:a,lng:i}},s)}))}):(0,x.jsx)("h3",{children:" Loading...."})]})}},36655:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var i=a(65043),n=a(9866),t=a(53358),c=a(33723),l=a(44816),r=a(86856),d=a(14282),o=a(10457),m=(a(72213),a(60184)),x=a(32620),h=a(31462),p=a(6720),j=a(50423),v=a(47522),u=(a(19980),a(79904)),g=a.n(u),N=a(70579);const f=()=>{const[e,s]=(0,i.useState)([]),[a,n]=(0,i.useState)([]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(g(),{nodes:[{value:"company1@example.com",label:"Company 1",children:[{value:"driver1@example.com",label:"driver 1"},{value:"driver2@example.com",label:"driver 2"}]},{value:"company2@example.com",label:"Company 2",children:[{value:"driver3@example.com",label:"driver 1"},{value:"driver4@example.com",label:"driver 2"}]}],checked:e,expanded:a,onCheck:e=>{s(e)},onExpand:e=>{n(e)},showNodeIcon:!1,icons:{check:(0,N.jsx)("span",{className:"rct-icon rct-icon-check"})},customClass:{leaf:"custom-leaf-node"}})})},k=e=>{const{drivers:s}=e.data;let a={running:0,idle:0,stopped:0,inactive:0,nodata:0,total:s.length};s.forEach((e=>{a[e.status]++}));const{running:n,idle:t,stopped:c,inactive:l,nodata:r,total:o}=a,[m,x]=(0,i.useState)(["All"]),h=e=>{m.includes(e)?x(m.filter((s=>s!==e))):x([...m,e])};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"vehicle_tracking-object",children:[(0,N.jsxs)("span",{className:"light fs-9 ".concat(m.includes("Running")&&"vehicle_tracking-active"),onClick:()=>h("Running"),children:[(0,N.jsx)("p",{children:n}),(0,N.jsx)("span",{children:"Running"})]}),(0,N.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("Idle")&&"vehicle_tracking-active"),onClick:()=>h("Idle"),children:[(0,N.jsx)("p",{children:t}),(0,N.jsx)("span",{children:"Idle"})]}),(0,N.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("Stopped")&&"vehicle_tracking-active"),onClick:()=>h("Stopped"),children:[(0,N.jsx)("p",{children:c}),(0,N.jsx)("span",{children:"Stopped"})]}),(0,N.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("InActive")&&"vehicle_tracking-active"),onClick:()=>h("InActive"),children:[(0,N.jsx)("p",{children:l}),(0,N.jsx)("span",{children:"InActive"})]}),(0,N.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("NoData")&&"vehicle_tracking-active"),onClick:()=>h("NoData"),children:[(0,N.jsx)("p",{children:r}),(0,N.jsx)("span",{children:"NoData"})]}),(0,N.jsxs)("span",{className:"light fs-9 ".concat(m.includes("All")&&"vehicle_tracking-active"),onClick:()=>h("All"),children:[(0,N.jsx)("p",{children:o}),(0,N.jsx)("span",{children:"Total"})]})]}),(0,N.jsx)("div",{className:"d-flex mt-4 mb-4 w-100",children:(0,N.jsx)(v.ReactSearchAutocomplete,{className:"w-100",onSearch:()=>{},onSelect:()=>{}})}),(0,N.jsx)(f,{}),(0,N.jsx)("div",{className:"text-center  pt-4 mt-4 border-top border-dark",children:(0,N.jsx)(d.A,{className:"me-2",variant:"primary btn-md",children:"Save Selection"})})]})},b=e=>{const[s,a]=(0,i.useState)("All"),[n,t]=(0,i.useState)([]),c=JSON.parse(localStorage.getItem("userJsonData")),[l,r]=(0,i.useState)(c.filter((e=>"Driver"===e.designation))),o=l.filter((e=>"Allocated"===e.activityStatus)).length,m=l.filter((e=>"Not Allocated"===e.activityStatus)).length,[h,p]=(0,i.useState)({}),j=l.length;(0,i.useEffect)((()=>{null!==h&&void 0!==h&&h.id?r(c.filter((e=>e.id===h.id))):"Allocated"===s?r(c.filter((e=>"Driver"===e.designation&&"Allocated"===e.activityStatus))):"Not Allocated"===s?r(c.filter((e=>"Driver"===e.designation&&"Not Allocated"===e.activityStatus))):"Total"!==s&&null!==h&&void 0!==h&&h.id||r(c.filter((e=>"Driver"===e.designation)))}),[h,s]);const u=c.filter((e=>"Driver"===e.designation)).map((e=>({id:e.id,name:e.firstName+" "+e.lastName})));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"px-2 driver_tracking-object",children:[(0,N.jsxs)("span",{bg:"",pill:!0,className:"light fs-9 ".concat("Allocated"===s&&"vehicle_tracking-active"),onClick:()=>a("Allocated"),children:[(0,N.jsx)("p",{children:o}),(0,N.jsx)("span",{children:"Allocated"})]}),(0,N.jsxs)("span",{bg:"",pill:!0,className:"light fs-9 ".concat("Not Allocated"===s&&"vehicle_tracking-active"),onClick:()=>a("Not Allocated"),children:[(0,N.jsx)("p",{children:m}),(0,N.jsx)("span",{children:"Not Allocated"})]}),(0,N.jsxs)("span",{bg:"",pill:!0,className:"light fs-9 ".concat("Total"===s&&"vehicle_tracking-active"),onClick:()=>a("Total"),children:[(0,N.jsx)("p",{children:j}),(0,N.jsx)("span",{children:"Total"})]})]}),(0,N.jsx)("div",{className:"d-flex mt-4 mb-4",children:(0,N.jsx)(v.ReactSearchAutocomplete,{items:u,className:"w-100",onSearch:(e,s)=>{""===e&&r(c.filter((e=>"Driver"===e.designation)))},onSelect:e=>{p({id:e.id,name:e.name})}})}),(0,N.jsx)("div",{className:"d-flex flex-column bg-white p-2",style:{border:" 1px solid white",marginTop:".5rem",height:"65vh",overflowY:"scroll"},children:0===l.length?(0,N.jsx)("span",{className:"p-2 text-center fs-4 ",children:"No Record Found"}):l.map(((e,s)=>(0,N.jsxs)("div",{onClick:()=>{t(n.concat(e.id))},className:"d-flex align-items-center border-bottom heading driver-select-object p-2",children:[(0,N.jsx)("div",{className:"form-check custom-checkbox ms-3 me-3",children:(0,N.jsx)("input",{type:"checkbox",className:"form-check-input",required:!0})}),(0,N.jsx)(x.vpJ,{className:"m-2 driver-select-object"}),(0,N.jsxs)("span",{className:"fs-4 ms-2",children:[e.firstName," ",e.lastName]})]},s)))}),(0,N.jsx)("div",{className:"mt-3 text-center",children:(0,N.jsx)(d.A,{className:"w-25 btn-md",variant:"primary btn-md",children:"XLS"})})]})},S=e=>{const{drivers:s}=e.data;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex mt-2",children:[(0,N.jsxs)("div",{className:"search-driver-tab",children:[(0,N.jsx)("input",{type:"text",className:"form-control-driver-tab"}),(0,N.jsx)(m.KSO,{style:{fontSize:"1.5rem",padding:"2px"}})]}),(0,N.jsx)(p.vVi,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem"}}),(0,N.jsx)(m.YsJ,{style:{fontSize:"1.5rem",padding:"3px",margin:"0 .3rem"}})]}),(0,N.jsxs)("div",{className:"d-flex mt-2 fs-6 align-items-center",children:[(0,N.jsx)("div",{className:"form-check custom-checkbox",style:{marginRight:"5px"},children:(0,N.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",required:!0})}),(0,N.jsx)("div",{className:" bg-white p-2 d-flex justify-content-between",style:{width:"80%"},children:(0,N.jsx)("span",{children:"Company 1"})}),(0,N.jsx)(h.OWu,{style:{fontSize:"2.2rem",padding:"2px",margin:"0 .3rem"}})]}),(0,N.jsx)(o.A,{className:"accordian accordion-solid-bg mt-4",defaultActiveKey:"0",flush:!0,children:(0,N.jsxs)(o.A.Item,{eventKey:"0",children:[(0,N.jsx)(o.A.Header,{children:"All"}),s.map(((e,s)=>(0,N.jsx)(o.A.Body,{className:"p-2",children:(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("div",{className:"form-check custom-checkbox",style:{marginRight:"5px"},children:(0,N.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",required:!0})}),(0,N.jsxs)("div",{className:" bg-white w-100 p-2 d-flex justify-content-between",children:[(0,N.jsx)("span",{children:e.name}),(0,N.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,N.jsx)(j.LzA,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}}),(0,N.jsx)(m.uO9,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}}),(0,N.jsx)(p.b6i,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}})]})]})]})})))]})})]})},A=e=>{let{tabData:s,handleToggleCardPosition:a,isOutside:i}=e;const n={name:"Company1",drivers:[{name:"driver1",timeStamp:"22-02-2024 3:00 PM",status:"running"},{name:"driver2",timeStamp:"22-02-2024 3:00 PM",status:"idle"},{name:"driver3",timeStamp:"22-02-2024 3:00 PM",status:"inactive"},{name:"driver4",timeStamp:"22-02-2024 3:00 PM",status:"running"},{name:"driver5",timeStamp:"22-02-2024 3:00 PM",status:"stopped"},{name:"driver6",timeStamp:"22-02-2024 3:00 PM",status:"stopped"},{name:"driver7",timeStamp:"22-02-2024 3:00 PM"}],allocatedDriver:4,notAllocatedDriver:3,totalDriver:7},t=[k,b,S];return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"default-tab outer-container ".concat(i?"toggleBarInside":"toggleBarOutside"),children:[(0,N.jsx)("button",{onClick:a,className:"driver_tracking_button",children:i?(0,N.jsx)(j.m6W,{}):(0,N.jsx)(j.OQo,{})}),(0,N.jsxs)(l.A.Container,{defaultActiveKey:s[0].name.toLowerCase(),children:[(0,N.jsx)(r.A,{as:"ul",className:"nav-tabs tracking_navTabs",children:s.map(((e,s)=>{const a=e.icon;return(0,N.jsx)(r.A.Item,{as:"li",children:(0,N.jsxs)(r.A.Link,{eventKey:e.name.toLowerCase(),children:[(0,N.jsx)(a,{className:"tab-icon"}),e.name]})},s)}))}),(0,N.jsx)(l.A.Content,{className:"p-2 py-4",style:{background:"#f5f5f5"},children:s.map(((e,s)=>{const a=t[s];return(0,N.jsx)(l.A.Pane,{eventKey:e.name.toLowerCase(),children:(0,N.jsx)(a,{data:n})},s)}))})]})]})})};var C=a(60397);const y=()=>{const{currentPosition:e,setCurrentPosition:s}=(0,i.useContext)(c.D),[a,l]=(0,i.useState)(!1),r=[{name:"Object",icon:C.ETQ},{name:"Driver",icon:m.x$1},{name:"Geofence",icon:p.vVi}];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(n.A,{mainTitle:"Vehicle Tracking",pageTitle:"Vehicle Tracking",parentTitle:"Tracking"}),(0,N.jsx)("div",{className:"backdrop ".concat(a?"d-none":"d-block"),onClick:()=>l(!0)}),(0,N.jsx)("div",{className:"p-2",children:(0,N.jsx)(t.A,{data:[{lat:30.7099475,lng:76.6900474},{lat:30.7333,lng:76.7794}]})}),(0,N.jsx)("div",{style:{zIndex:20},children:(0,N.jsx)(A,{tabData:r,handleToggleCardPosition:()=>{l(!a)},isOutside:a})})]})}}}]);
//# sourceMappingURL=1981.0e001626.chunk.js.map