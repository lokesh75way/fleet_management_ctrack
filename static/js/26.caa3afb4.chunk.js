"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[26],{50026:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(65043),r=a(35475),n=a(9866),l=a(6720),c=a(60184),i=a(51359),o=a(73216),d=a(70579);const m=e=>{let{onConfirmDelete:t,tableData:a,setIsEditTrue:r,isEditTrue:n}=e;const m=(0,o.Zp)(),[h,u]=(0,s.useState)([]);return(0,s.useEffect)((()=>{u(a.reverse())}),[a]),console.log("ye he feature data",h),(0,d.jsx)(d.Fragment,{children:h.map(((e,a)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"products d-flex justify-content-center",children:(0,d.jsx)("h6",{children:a+1})})}),(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"products d-flex justify-content-center",children:(0,d.jsx)("h6",{children:e.name})})}),(0,d.jsx)("td",{children:(0,d.jsxs)("span",{className:"d-flex justify-content-center",children:[(0,d.jsx)("span",{className:"cursor-pointer",onClick:()=>((e,t)=>{r(e);const a={isEditTrue:n,setIsEditTrue:r};console.log(a),m("permission/".concat(t),{state:JSON.stringify(a)})})(a,e._id),children:(0,d.jsx)(c.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),(0,d.jsx)(i.A,{className:"cursor-pointer ",onConfirmDelete:()=>t(a,e._id),id:e.id,children:(0,d.jsx)(l.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},a)))})};var h=a(35514),u=a(58387),p=a(74117),x=a(94692),f=a(33723);const g=()=>{const{isRtl:e}=(0,s.useContext)(f.D),t=(0,u.$)({"fa-solid fa-angle-right":e,"fa-solid fa-angle-left":!e}),a=(0,u.$)({"fa-solid fa-angle-left":e,"fa-solid fa-angle-right":!e}),{t:l}=(0,p.Bd)(),{page:c,nextPage:i,prevPage:g,goToPage:j,setCount:y,totalCount:N}=(0,x.A)();(0,s.useEffect)((()=>{(async e=>{try{const t=await(0,h.y)(e);console.log("Received template data:",t),y(t.data.totalCount),v(t.data.data)}catch(t){console.error("Error fetching template data:",t)}})(c)}),[c]);const[b,v]=(0,s.useState)([]),[T,w]=(0,s.useState)(-1),E=(0,o.Zp)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{mainTitle:l("featureTemplates"),pageTitle:l("featureTemplates"),parentTitle:l("settings")}),(0,d.jsx)("div",{className:"container-fluid",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-xl-12",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsx)("div",{className:"card-body p-0",children:(0,d.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,d.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,d.jsx)("h4",{className:"heading mb-0",children:l("featureTemplates")}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",onClick:()=>{const e={isEditTrue:T,setIsEditTrue:w};E("permission",{state:JSON.stringify(e)})},children:["+ ",l("addNew")]})," ",""]})]}),(0,d.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,d.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-center",children:l("serialNumber")}),(0,d.jsx)("th",{className:"text-center",children:l("templateName")}),(0,d.jsx)("th",{className:"text-center",children:l("action")})]})}),(0,d.jsx)("tbody",{children:(0,d.jsx)(m,{isEditTrue:T,setIsEditTrue:w,tableData:b,onConfirmDelete:async(e,t)=>{const a=b.filter(((t,a)=>{if(e!=a)return t}));localStorage.setItem("templateData",JSON.stringify(a)),v(a),await h.A.deleteTemplate(t)}})})]}),(0,d.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,d.jsxs)("div",{className:"dataTables_info",children:[l("showing")," ",10*(c-1)+1," ",l("to")," ",Math.min(10*c,N)," ",l("of")," ",N," ",l("entries")]}),(0,d.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,d.jsx)(r.N_,{className:"paginate_button ".concat(1===c?"previous disabled":"previous"),to:"/groups",onClick:()=>g(c-1),children:(0,d.jsx)("i",{className:t})}),(0,d.jsx)("span",{children:[...Array(Math.ceil(N/10)).keys()].map((e=>(0,d.jsx)(r.N_,{className:"paginate_button ".concat(c===e+1?"current":""),onClick:()=>j(e+1),children:e+1},e)))}),(0,d.jsx)(r.N_,{className:"paginate_button ".concat(10*c>=N?"next disabled":"next"),to:"/groups",onClick:()=>i(c+1),children:(0,d.jsx)("i",{className:a})})]})]})]})]})})})})})})]})}},35514:(e,t,a)=>{a.d(t,{A:()=>l,y:()=>n});a(99080);var s=a(88472),r=a(77154);(0,s.A)();const n=async e=>{try{console.log("page is here ",e);let t="/feature-template";void 0!==e&&(t+="?page=".concat(e,"&limit=",10));return(await r.A.get(t)).data}catch(t){return console.error("Error fetching templates:",t),{error:"Couldn't fetch User"}}},l={getTemplates:async e=>{try{return(await r.A.get("/feature-template",e)).data}catch(t){throw console.error("Error fetching modules:",t),t}},createTemplate:async e=>{try{console.log(e);return(await r.A.post("/feature-template",e)).data}catch(t){throw console.error("Error fetching modules:",t),t}},listModule:async e=>{try{return(await r.A.get("/modules",e)).data}catch(t){throw console.error("Error fetching modules:",t),t}},udpateTemplate:async e=>{try{return(await r.A.patch("/feature-template",e)).data}catch(t){throw console.error("Error fetching modules:",t),t}},deleteTemplate:async e=>{try{return(await r.A.delete("/feature-template/".concat(e))).data}catch(t){throw console.error("Error fetching modules:",t),t}}}}}]);
//# sourceMappingURL=26.caa3afb4.chunk.js.map