{"version":3,"file":"static/js/3146.7fd3d1c5.chunk.js","mappings":"+PAMA,MA4DA,EA5DqBA,IAMd,IANe,UACpBC,EAAS,YACTC,EAAW,aACXC,EAAY,gBACZC,EAAe,eACfC,GACDL,EACC,MAAMM,GAAcJ,EAAc,GAAKC,EAAe,EAMtD,OACEI,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGR,EAAUS,KAAI,CAACC,EAAMC,KACpBC,SAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAOH,EAAaM,OAEtBL,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,WAAUL,UACvBI,EAAAA,EAAAA,MAAA,OAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKE,EAAKI,WACVR,EAAAA,EAAAA,KAAA,QAAAE,SAAM,yBAIZF,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,UApBUO,EAoBQL,EAAKM,YAnBxBC,IAAMF,GAAgBG,OAAO,0BAqB9BZ,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAOE,EAAKS,YAEdb,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAOE,EAAKU,iBAEdd,EAAAA,EAAAA,KAAA,MAAAE,UACEI,EAAAA,EAAAA,MAAA,QAAMC,UAAU,gCAA+BL,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,QACEe,QAASA,IAAMjB,EAAeM,EAAKY,KACnCT,UAAU,iBAAgBL,UAE1BF,EAAAA,EAAAA,KAACiB,EAAAA,IAAM,CAACC,MAAO,CAAEC,MAAO,QAASC,SAAU,eAE7CpB,EAAAA,EAAAA,KAACqB,EAAAA,EAAW,CACVd,UAAU,kBACVV,gBAAiBA,EACjByB,GAAIlB,EAAKY,IAAId,UAEbF,EAAAA,EAAAA,KAACuB,EAAAA,IAAQ,CAACL,MAAO,CAAEC,MAAO,MAAOC,SAAU,qBAlC1Cf,GAPKI,KA8Cf,KACA,E,6HCrCP,MA4KA,EA5KiBe,IACf,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,OACVlC,EAAWmC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IAErC,MAAEG,IAAUC,EAAAA,EAAAA,YAAWC,EAAAA,IAEvB,SACJC,EAAQ,SACRC,EAAQ,UACRC,EAAS,aACTC,EAAY,YACZC,EACAC,WAAW,OAAEC,GAAQ,QACrBC,IACEC,EAAAA,EAAAA,IAAQ,CACVC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,OAEjBC,EAAUC,IAAenB,EAAAA,EAAAA,UAAS,CACvCR,GAAI,EACJ4B,OAAQ,GACRC,MAAO,GACPC,QAAS,EACTC,IAAK,EACLC,kBAAmB,EACnBC,OAAQ,GACRC,SAAU,MAEN,KAAEC,EAAI,SAAEC,EAAQ,SAAEC,EAAQ,SAAEC,EAAQ,SAAEC,EAAQ,WAAEC,EAAU,QAAEC,IAChEC,EAAAA,EAAAA,KAQIjE,EANe,IAMD0D,EAAO,GAIrBQ,GAHavE,EAAUwE,MAAMnE,EAAYA,EAP1B,IAUEoE,UACrB,IACEnC,GAAa,GACb,MAAM,KAAEoC,EAAI,QAAEC,EAAO,YAAEC,SAAsBC,EAAAA,EAAAA,IAAYd,GACzD5B,EAAauC,GACbP,EAASS,EACX,CAAE,MAAOE,GACPC,QAAQC,IAAI,QAASF,EACvB,CAAC,QACCxC,GAAa,EACf,KAEF2C,EAAAA,EAAAA,YAAU,KACRV,GAAgB,GACf,KAaaW,EAAAA,EAAAA,UAChB,OACEtE,EAAAA,EAAAA,MAAAL,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAAC6E,EAAAA,EAAa,CACZC,UAAWrD,EAAE,WACbsD,UAAWtD,EAAE,WACbuD,YAAavD,EAAE,eAEjBzB,EAAAA,EAAAA,KAAA,OAAKO,UAAU,kBAAiBL,UAC9BF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,MAAKL,UAClBF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,YAAWL,UACxBF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,OAAML,UACnBF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,gBAAeL,UAC5BI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qEAAoEL,SAAA,EACjFI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0EAAyEL,SAAA,EACtFF,EAAAA,EAAAA,KAAA,MAAIO,UAAU,eAAcL,SAAEuB,EAAE,cAChCnB,EAAAA,EAAAA,MAAA,OAAAJ,SAAA,EACEI,EAAAA,EAAAA,MAAC2E,EAAAA,GAAI,CACHC,GAAI,2BACJ3E,UAAU,8BAEVL,SAAA,CACD,KACIuB,EAAE,iBACC,WAGZnB,EAAAA,EAAAA,MAAA,OACEgB,GAAG,uBACHf,UAAU,+BAA8BL,SAAA,EAEtCR,EAAUyF,QAAUpD,GACpB/B,EAAAA,EAAAA,KAACoF,EAAAA,EAAa,KAEd9E,EAAAA,EAAAA,MAAA,SACEgB,GAAG,wBACHf,UAAU,kDAAiDL,SAAA,EAE3DF,EAAAA,EAAAA,KAAA,SAAAE,UACEI,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,SACPzB,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,kBACPzB,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,kBACPzB,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,aACPzB,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,kBACPzB,EAAAA,EAAAA,KAAA,MAAAE,SAAKuB,EAAE,kBAGXzB,EAAAA,EAAAA,KAAA,SAAAE,UACEF,EAAAA,EAAAA,KAACqF,EAAY,CACXrC,SAAUA,EACVtD,UAAWA,EACXG,gBA/DFsE,gBAChBmB,EAAAA,EAAAA,IAAchE,IACpBiE,EAAAA,EAAAA,GAAc,yBACRtB,GAAgB,EA6DEnE,eA3DFM,IACtB,MAAMoF,EAAe9F,EAAU+F,QAAQrB,GAASA,EAAKpD,MAAQZ,IAC7DuB,EAAS,QAAD+D,OAAStF,GAAQ,CAAEuF,MAAOH,GAAe,EA0DzBvC,YAAaA,EACbtD,YAAa8D,EACb7D,aA7FL,WAkGHU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mEAAkEL,SAAA,EAC/EI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBL,SAAA,CAC7BuB,EAAE,WAAW,IAAe,IAAZgC,EAAO,GAAU,EAAE,IAAEhC,EAAE,MAAO,IAC9CmE,KAAKC,IAAW,GAAPpC,EAAWK,GAAY,IAAErC,EAAE,MAAM,IAAEqC,EAAY,IACxDrC,EAAE,eAELzB,EAAAA,EAAAA,KAAA,OACEO,UAAU,4CACVe,GAAG,oBAAmBpB,UAEtBF,EAAAA,EAAAA,KAAC8F,EAAAA,EAAQ,CACPhC,WAAYA,EACZlE,aA9GH,GA+GGmG,gBA7GAtG,IAAmB,IAAlB,SAAEuG,GAAUvG,EACnCmE,EAASoC,EAAW,EAAE,2BAqInB,C,+EC/LPC,E,SAAAA,KAEO,MAAM1B,EAAcJ,iBAAuB,IAAhB+B,EAAMC,UAAAhB,OAAA,QAAAiB,IAAAD,UAAA,GAAAA,UAAA,GAAG,EACzC,MAAM,KAAE/B,SAAeiC,EAAAA,EAAMC,IAAI,kBAADZ,OAAmBQ,EAAM,UAAU,KACnE,MAAO,CAAE9B,KAAMA,EAAKA,KAAKA,KAAME,YAAaF,EAAKA,KAAKN,WACxD,EAEayC,EAAgBpC,SACpBkC,EAAAA,EAAMG,KAAK,YAAaC,GAGpBC,EAAgBvC,MAAO7C,EAAImF,IAC/BJ,EAAAA,EAAMM,MAAM,aAADjB,OAAcpE,GAAMmF,GAG3BnB,EAAgBnB,SACpBkC,EAAAA,EAAMO,OAAO,aAADlB,OAAcpE,G","sources":["jsx/components/Tables/ExpenseTable.jsx","jsx/pages/Expense/Expense.jsx","services/api/ExpenseServices.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from \"../../../components/Modal/DeleteModal\";\nimport dayjs from \"dayjs\";\n\nconst ExpenseTable = ({\n  tableData,\n  currentPage,\n  itemsPerPage,\n  onConfirmDelete,\n  editDrawerOpen,\n}) => {\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  const formatDate = (dateTimeString) => {\n    return dayjs(dateTimeString).format(\"YYYY-MM-DD HH:MM\");\n  };\n\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={index}>\n          <td>\n            <span>{startIndex + index}</span>\n          </td>\n          <td>\n            <div className=\"products\">\n              <div>\n                <h6>{item.vehicle}</h6>\n                <span>Web Designer</span>\n              </div>\n            </div>\n          </td>\n          <td>\n            <span>{formatDate(item.expenseDate)}</span>\n          </td>\n          <td>\n            <span>{item.amount}</span>\n          </td>\n          <td>\n            <span>{item.description}</span>\n          </td>\n          <td>\n            <span className=\"d-flex justify-content-center\">\n              <span\n                onClick={() => editDrawerOpen(item._id)}\n                className=\"cursor-pointer\"\n              >\n                <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n              </span>\n              <DeleteModal\n                className=\"cursor-pointer \"\n                onConfirmDelete={onConfirmDelete}\n                id={item._id}\n              >\n                <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n              </DeleteModal>\n            </span>\n          </td>\n        </tr>\n      ))}\n    </>\n  );\n};\n// onClick={() => editDrawerOpen(item.id)}\nexport default ExpenseTable;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nimport MainPagetitle from \"../../../components/MainPagetitle\";\nimport InviteCustomer from \"../../constant/ModalList\";\nimport { ExpenseData } from \"../../components/Tables/Tables\";\nimport ExpenseTable from \"../../components/Tables/ExpenseTable\";\n// import ExpenseOffcanvas from \"../constant/ExpenseOffcanvas\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { expenseSchema } from \"../../../utils/yup\";\n\nimport { useTranslation } from \"react-i18next\";\nimport {\n  deleteExpense,\n  getExpenses,\n} from \"../../../services/api/ExpenseServices\";\nimport usePagination from \"../../../hooks/usePagination\";\nimport { ThemeContext } from \"../../../context/ThemeContext\";\nimport clsx from \"clsx\";\nimport { notifySuccess } from \"../../../utils/toast\";\nimport ReactPaginate from \"react-paginate\";\nimport Paginate from \"../../../components/Paginate\";\nimport TableSkeleton from \"@/components/Skeleton/Table\";\n\nconst Expense = (ref) => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [tableData, setTableData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { isRtl } = useContext(ThemeContext);\n\n  const {\n    register,\n    setValue,\n    getValues,\n    handleSubmit,\n    clearErrors,\n    formState: { errors },\n    control,\n  } = useForm({\n    resolver: yupResolver(expenseSchema),\n  });\n  const [editData, setEditData] = useState({\n    id: 0,\n    status: \"\",\n    title: \"\",\n    contact: 0,\n    age: 0,\n    drivingExperience: 0,\n    gender: \"\",\n    location: \"\",\n  });\n  const { page, nextPage, prevPage, goToPage, setCount, totalCount, setPage } =\n    usePagination();\n\n  const itemsPerPage = 10;\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  const startIndex = (page - 1) * itemsPerPage;\n  const slicedData = tableData.slice(startIndex, startIndex + itemsPerPage);\n\n  // const[formData, setFormData] = useState()\n  const getAllExpenses = async () => {\n    try {\n      setIsLoading(true);\n      const { data, success, totalLength } = await getExpenses(page);\n      setTableData(data);\n      setCount(totalLength);\n    } catch (error) {\n      console.log(\"Error\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    getAllExpenses();\n  }, []);\n\n  const onConfirmDelete = async (id) => {\n    await deleteExpense(id);\n    notifySuccess(\"Expense Deleted\");\n    await getAllExpenses();\n  };\n  const editDrawerOpen = (item) => {\n    const filteredData = tableData.filter((data) => data._id === item);\n    navigate(`edit/${item}`, { state: filteredData });\n    // company.current.showModal();\n  };\n\n  const expense = useRef();\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"expense\")}\n        pageTitle={t(\"expense\")}\n        parentTitle={t(\"settings\")}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"expense\")}</h4>\n                    <div>\n                      <Link\n                        to={\"/settings/expense/create\"}\n                        className=\"btn btn-primary btn-sm ms-1\"\n                        // data-bs-toggle=\"offcanvas\"\n                        // onClick={() => {expense.current.showModal(); console.log(expense)}}\n                      >\n                        + {t(\"addExpense\")}\n                      </Link>{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    {!tableData.length && isLoading ? (\n                      <TableSkeleton />\n                    ) : (\n                      <table\n                        id=\"empoloyees-tblwrapper\"\n                        className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                      >\n                        <thead>\n                          <tr>\n                            <th>{t(\"id\")}</th>\n                            <th>{t(\"vehicleName\")}</th>\n                            <th>{t(\"expenseDate\")}</th>\n                            <th>{t(\"amount\")}</th>\n                            <th>{t(\"description\")}</th>\n                            <th>{t(\"action\")}</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <ExpenseTable\n                            editData={editData}\n                            tableData={tableData}\n                            onConfirmDelete={onConfirmDelete}\n                            editDrawerOpen={editDrawerOpen}\n                            setEditData={setEditData}\n                            currentPage={page}\n                            itemsPerPage={itemsPerPage}\n                          />\n                        </tbody>\n                      </table>\n                    )}\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* <ExpenseOffcanvas\n        ref={expense}\n        editData={editData}\n        register={register}\n        onSubmit={onSubmit}\n        setValue={setValue}\n        getValues={getValues}\n        setEditData={setEditData}\n        handleSubmit={handleSubmit}\n        errors={errors}\n        control={control}\n        clearErrors={clearErrors}\n        Title={editData.id === 0 ? t('addExpense') :  t('editExpense')}\n      /> */}\n    </>\n  );\n};\n\nexport default Expense;\n","import axios from \"axios\";\nimport initAxios from \"../api\";\ninitAxios();\n\nexport const getExpenses = async (pageNo = 1) => {\n  const { data } = await axios.get(`/expenses?page=${pageNo}&limit=${10}`);\n  return { data: data.data.data, totalLength: data.data.totalCount };\n};\n\nexport const createExpense = async (body) => {\n  return axios.post(\"/expenses\", body);\n};\n\nexport const updateExpense = async (id, body) => {\n  return axios.patch(`/expenses/${id}`, body);\n};\n\nexport const deleteExpense = async (id) => {\n  return axios.delete(`/expenses/${id}`);\n};\n"],"names":["_ref","tableData","currentPage","itemsPerPage","onConfirmDelete","editDrawerOpen","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","vehicle","dateTimeString","expenseDate","dayjs","format","amount","description","onClick","_id","FaEdit","style","color","fontSize","DeleteModal","id","MdDelete","ref","t","useTranslation","navigate","useNavigate","setTableData","useState","isLoading","setIsLoading","isRtl","useContext","ThemeContext","register","setValue","getValues","handleSubmit","clearErrors","formState","errors","control","useForm","resolver","yupResolver","expenseSchema","editData","setEditData","status","title","contact","age","drivingExperience","gender","location","page","nextPage","prevPage","goToPage","setCount","totalCount","setPage","usePagination","getAllExpenses","slice","async","data","success","totalLength","getExpenses","error","console","log","useEffect","useRef","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","length","TableSkeleton","ExpenseTable","deleteExpense","notifySuccess","filteredData","filter","concat","state","Math","min","Paginate","handlePageClick","selected","initAxios","pageNo","arguments","undefined","axios","get","createExpense","post","body","updateExpense","patch","delete"],"sourceRoot":""}