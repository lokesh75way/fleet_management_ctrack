{"version":3,"file":"static/js/9597.adac9bce.chunk.js","mappings":"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","sources":["jsx/components/Tables/GeofenceTable.jsx","jsx/pages/Geofence.jsx","services/api/GeoFenceService.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from '../Modal/DeleteModal';\n\nconst GeofenceTable = ({tableData, onConfirmDelete, editDrawerOpen,page}) => {\n    console.log(tableData)\n    return (\n        <>\n            {tableData.map((item, index) => (\n                <tr key={index}>\n                    <td><span>{(index+1)+((page-1)*10)}</span></td>\n                    <td>\n                        <h6>{item.name}</h6>\n                    </td>\n                    <td><span>{item.category}</span></td>\n                    <td>\n                        <span>{item.contactNumber}</span>\n                    </td>\n                    <td>\n                        <span>{item.address}</span>\n                    </td>\n                    <td><span>{item.description}</span></td>\n                    <td>\n                        <span>{item.geofenceAccess}</span>\n                    </td>\n                    <td>\n                        <span className='d-flex justify-content-center'>\n                            <span className='cursor-pointer' onClick={() => editDrawerOpen(item._id)} ><FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} /></span>\n                            <DeleteModal className='cursor-pointer ' onConfirmDelete={onConfirmDelete} id={item._id} ><MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} /></DeleteModal>\n\n                        </span>\n                    </td>\n                </tr>\n            ))}\n        </>\n    )\n}\n\nexport default GeofenceTable","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\n\nimport MainPagetitle from \"../layouts/MainPagetitle\";\nimport InviteCustomer from \"../constant/ModalList\";\nimport EmployeeOffcanvas from \"../constant/EmployeeOffcanvas\";\nimport { GeofenceData } from \"../components/Tables/Tables\";\nimport GeofenceTable from \"../components/Tables/GeofenceTable\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { notifyError, notifySuccess } from \"../../utils/toast\";\nimport {\n  deleteGeofenceData,\n  getGeofenceData,\n} from \"../../services/api/GeoFenceService\";\nimport usePagination from \"../../hooks/usePagination\";\nimport { ThemeContext } from \"../../context/ThemeContext\";\nimport clsx from \"clsx\";\n\nconst headers = [\n  { label: \"Employee ID\", key: \"emplid\" },\n  { label: \"Employee Name\", key: \"title\" },\n  { label: \"Department\", key: \"department\" },\n  { label: \"Email Address\", key: \"email\" },\n  { label: \"Contact Number\", key: \"contact\" },\n  { label: \"Gender\", key: \"gender\" },\n  { label: \"Location\", key: \"location\" },\n  { label: \"Status\", key: \"status\" },\n];\n\nconst Geofence = (ref) => {\n \n  const navigate = useNavigate();\n  const { page, nextPage, prevPage, goToPage, setCount, totalCount } =\n    usePagination();\n\n  const { isRtl } = useContext(ThemeContext);\n  const arrowleft = clsx({\n    \"fa-solid fa-angle-right\": isRtl,\n    \"fa-solid fa-angle-left\": !isRtl,\n  });\n  const arrowright = clsx({\n    \"fa-solid fa-angle-left\": isRtl,\n    \"fa-solid fa-angle-right\": !isRtl,\n  });\n\n  const [tableData, setTableData] = useState([]);\n  const [editData, setEditData] = useState({\n    id: 0,\n    status: \"\",\n    title: \"\",\n    contact: 0,\n    age: 0,\n    drivingExperience: 0,\n    gender: \"\",\n    location: \"\",\n  });\n\n  const getData = async () => {\n    try {\n      const { geofences, count } = await getGeofenceData(page);\n      setCount(count);\n      setTableData(geofences);\n    } catch (error) {\n      notifyError(error);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, [page]);\n\n  const onConfirmDelete = async (id) => {\n    try {\n      const data = await deleteGeofenceData(id);\n      if(data.success){\n        notifySuccess(data.message);\n      }\n      getData(page);\n    } catch (error) {\n      notifyError(error)\n    }\n  \n  };\n  const editDrawerOpen = (item) => {\n    navigate(`/settings/geofence/map/edit/${item}`);\n  };\n\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"geofence\")}\n        pageTitle={t(\"geofence\")}\n        parentTitle={t(\"settings\")}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"geofence\")}</h4>\n                    <div className=\"d-flex\">\n                      <Link\n                        to={\"/settings/geofence/map\"}\n                        className=\"btn btn-primary btn-sm ms-1\"\n                        data-bs-toggle=\"offcanvas\"\n                        // onClick={() => employe.current.showModal()}\n                      >\n                        + {t(\"showMap\")}\n                      </Link>{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    <table\n                      id=\"empoloyees-tblwrapper\"\n                      className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                    >\n                      <thead>\n                        <tr>\n                          <th>{t(\"geofenceID\")}</th>\n                          <th>{t(\"geofenceName\")}</th>\n                          <th>{t(\"geofenceType\")}</th>\n                          <th>{t(\"contactNumber\")}</th>\n                          <th>{t(\"address\")}</th>\n                          <th>{t(\"description\")}</th>\n                          <th>{t(\"geofenceAccess\")}</th>\n                          <th>{t(\"action\")}</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <GeofenceTable\n                          page={page}\n                          editData={editData}\n                          tableData={tableData}\n                          onConfirmDelete={onConfirmDelete}\n                          editDrawerOpen={editDrawerOpen}\n                          setEditData={setEditData}\n                        />\n                      </tbody>\n                    </table>\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Link\n                          className={`paginate_button ${\n                            page === 1 ? \"previous disabled\" : \"previous\"\n                          }`}\n                          to=\"/settings/geofence\"\n                          onClick={() => prevPage(page - 1)}\n                        >\n                          <i className={arrowleft} />\n                        </Link>\n\n                        <span>\n                          {[...Array(Math.ceil(totalCount / 10)).keys()].map(\n                            (number) => (\n                              <Link\n                                key={number}\n                                className={`paginate_button ${\n                                  page === number + 1 ? \"current\" : \"\"\n                                }`}\n                                onClick={() => goToPage(number + 1)}\n                              >\n                                {number + 1}\n                              </Link>\n                            )\n                          )}\n                        </span>\n\n                        <Link\n                          className={`paginate_button ${\n                            page * 10 >= totalCount ? \"next disabled\" : \"next\"\n                          }`}\n                          to=\"/settings/geofence\"\n                          onClick={() => nextPage(page + 1)}\n                        >\n                          <i className={arrowright} />\n                        </Link>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Geofence;\n","import axios from \"axios\"\n\nexport const getGeofenceData =async  (pageNo = 1, limit = 10) => {\n    const data = await axios.get(`/geofences?page=${pageNo}&limit=${limit}`)\n    return data.data.data;\n}\n\nexport const deleteGeofenceData = async (id) => {\n   const {data} =  await axios.delete(`/geofences/${id}`)\n    return data;\n}\n\nexport const createGeofenceData = async (body) => {\n    const {data} = await axios.post('/geofences',body);\n    return data;\n}\n\nexport const getGeofenceById = async (id) => {\n    const {data} = await axios.get(`/geofences/${id}`);\n    return data;\n}\n\nexport const updateGeofence = async (id,body) => {\n    const {data} = await axios.patch(`/geofences/${id}`,body);\n    return data;\n}"],"names":["_ref","tableData","onConfirmDelete","editDrawerOpen","page","console","log","_jsx","_Fragment","children","map","item","index","_jsxs","name","category","contactNumber","address","description","geofenceAccess","className","onClick","_id","FaEdit","style","color","fontSize","DeleteModal","id","MdDelete","ref","navigate","useNavigate","nextPage","prevPage","goToPage","setCount","totalCount","usePagination","isRtl","useContext","ThemeContext","arrowleft","clsx","arrowright","setTableData","useState","editData","setEditData","status","title","contact","age","drivingExperience","gender","location","getData","async","geofences","count","getGeofenceData","error","notifyError","useEffect","t","useTranslation","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","GeofenceTable","data","deleteGeofenceData","success","notifySuccess","message","concat","Math","min","Array","ceil","keys","number","pageNo","arguments","length","undefined","limit","axios","get","delete","createGeofenceData","post","body","getGeofenceById","updateGeofence","patch"],"sourceRoot":""}