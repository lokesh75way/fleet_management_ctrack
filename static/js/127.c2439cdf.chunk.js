"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[127],{24490:(e,l,a)=>{a.d(l,{A:()=>c});var s=a(65043),t=a(89698),n=a(44978),r=a(74805),o=a(28334),i=a(70579);const c=e=>{let{heading:l,register:a,errors:c,id:d,getValues:m}=e;const[u,x]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("h3",{className:"mt-4 mb-4",children:l}),(0,i.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,i.jsxs)("label",{className:"form-label",children:[(0,n.t)("username")," ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsx)(r.A,{type:"text",register:a,label:"userName",name:"userName",placeholder:"",defaultValue:m("userName"),disabled:!!d}),(0,i.jsx)(o.A,{errorName:c.userName})]}),!d&&(0,i.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,i.jsxs)("label",{className:"form-label",children:[(0,n.t)("password")," ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsxs)("div",{className:"position-relative",children:[(0,i.jsx)(r.A,{type:u?"text":"password",register:a,label:"Password",name:"password",placeholder:""}),(0,i.jsx)("span",{className:"showPasswordIcon",onClick:()=>{x(!u)},children:u?(0,i.jsx)(t.mI_,{}):(0,i.jsx)(t.ZT8,{})})]}),!d&&(0,i.jsx)(o.A,{errorName:c.password})]})]})}},79055:(e,l,a)=>{a.d(l,{A:()=>x});var s=a(65043),t=a(13052),n=a(28334),r=a(74805),o=a(42297),i=a(85756),c=a(74117),d=a(70579);const m=e=>{let{countryCode:l,customStyle:a,setValue:t,id:n,dValues:r,Comptype:m}=e;const{t:u}=(0,c.Bd)(),[x,b]=(0,s.useState)([]),[v,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=i.Ay.getCountry(l);if(e){const l=e.timezones;l&&l.length>0&&(b(l.map((e=>({label:"(GMT ".concat(j(e),") ").concat(e," "),value:e})))),h({label:"(GMT ".concat(j(l[0]),") ").concat(l[0]," "),value:l[0]}),t("timezone",l[0]))}}),[l]),(0,s.useEffect)((()=>{if(r&&n){var e,l;const a="companyId"===m?null===(e=r.companyId)||void 0===e?void 0:e.timezone:"businessGroupId"===m?null===(l=r.businessGroupId)||void 0===l?void 0:l.timezone:r.timezone;t("timezone",a),a&&(h({label:"(GMT ".concat(j(a),") ").concat(a),value:a}),console.log(v,"hi"))}}),[r,n]);const j=e=>{const l=i.Ay.getTimezone(e).utcOffset,a=Math.abs(Math.floor(l/60)),s=Math.abs(l%60);return"".concat(l>=0?"+":"-").concat(a,":").concat(s.toString().padStart(2,"0"))};return(0,d.jsxs)("div",{className:"col-xl-3",children:[(0,d.jsxs)("label",{htmlFor:"timezone",children:[u("timezone"),":"]}),(0,d.jsx)(o.Ay,{id:"timezone",value:v,styles:a,onChange:e=>{t("timezone",e.value),h(e)},options:x})]})},u={control:e=>({...e,padding:".25rem 0 "})},x=e=>{let{register:l,setValue:a,errors:i,getValues:x,locationData:b,dValues:v,id:h,showCity:j,Comptype:p}=e;const{t:f}=(0,c.Bd)(),[N,g]=(0,s.useState)(null),[y,A]=(0,s.useState)(null),[I,V]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[S,E]=(0,s.useState)("IND");(0,s.useEffect)((()=>{(0,t.xb)().then((e=>{V(e)}))}),[]),(0,s.useEffect)((()=>{if(h){if(null!==v&&void 0!==v&&v.city&&a("city",v.city),null!==v&&void 0!==v&&v.country){a("country",v.country);const e=G.find((e=>e.value==(null===v||void 0===v?void 0:v.country)));console.log({option:e}),e&&F(e)}null!==v&&void 0!==v&&v.state&&(a("state",v.state||""),A({value:v.state,label:v.state||""}))}else{var e,l,s,n,r,o,i,c;g({value:null===b||void 0===b||null===(e=b.country)||void 0===e?void 0:e.isoAlpha3,label:null===b||void 0===b||null===(l=b.country)||void 0===l?void 0:l.isoName}),a("country",null===b||void 0===b||null===(s=b.country)||void 0===s?void 0:s.isoAlpha3),E(null===b||void 0===b||null===(n=b.country)||void 0===n?void 0:n.isoAlpha2),A({value:null===b||void 0===b||null===(r=b.location)||void 0===r?void 0:r.principalSubdivision,label:(null===b||void 0===b||null===(o=b.location)||void 0===o?void 0:o.principalSubdivision)||""}),a("state",(null===b||void 0===b||null===(i=b.location)||void 0===i?void 0:i.principalSubdivision)||"");const d=z(null===b||void 0===b||null===(c=b.country)||void 0===c?void 0:c.isoAlpha3);(0,t.Wm)(d).then((e=>{C(e)}))}}),[b,h,v]);const z=e=>{const l=I.find((l=>l.iso3===e));return l?l.id:null},F=async e=>{const l=e.value,s=z(l),n=I.find((e=>e.iso3===l));E(n.iso2),a("country",l),g({value:l,label:n.name}),C([]),A({value:"",label:""});const r=await(0,t.Wm)(s);C(r)},k=e=>"United Arab Emirates"===(null===N||void 0===N?void 0:N.label)&&e.name.endsWith(" Emirate")?e.name.replace(" Emirate",""):e.name,G=I.map((e=>({value:e.iso3,label:e.name}))),L=w.map((e=>({value:e.name,label:k(e)})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:f("country")}),(0,d.jsx)(o.Ay,{options:G,value:N,styles:u,onChange:F},N),!N&&(0,d.jsx)(n.A,{errorName:i.country})]}),(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:f("state")}),(0,d.jsx)(o.Ay,{options:L,value:y,styles:u,onChange:e=>{const l=e.value,s=w.find((e=>e.name===l));"United Arab Emirates"===(null===N||void 0===N?void 0:N.label)&&null!==s&&void 0!==s&&s.name.endsWith(" Emirate")&&(s.name=s.name.replace(" Emirate","")),a("state",s.name),A({value:s.name,label:s.name})}},y),!y&&(0,d.jsx)(n.A,{errorName:i.state})]}),j&&(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:f("city")}),(0,d.jsx)(r.A,{type:"text",register:l,label:"City",name:"city",placeholder:"",defaultValue:x("city")}),(0,d.jsx)(n.A,{errorName:i.city})]}),j&&(0,d.jsx)(m,{setValue:a,id:h,countryCode:S,customStyle:u,Comptype:p})]})}},99793:(e,l,a)=>{a.d(l,{A:()=>i});a(65043);var s=a(74805),t=a(28334),n=a(27940),r=a(44978),o=a(70579);const i=e=>{var l,a,i,c,d,m,u,x;let{field:b,fields:v,index:h,register:j,getValues:p,errors:f,remove:N,id:g}=e;return(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[v.length>1&&(0,o.jsx)("div",{className:"flex-grow-1 mb-3",children:(0,o.jsxs)("h5",{children:["User ",h+1]})}),v.length>1&&(0,o.jsx)("div",{className:"mr-5",onClick:()=>(e=>{N(e)})(h),children:n.Os.Delete})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,r.t)("name")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"name",name:"userInfo.".concat(h,".name"),placeholder:"",defaultValue:p("userInfo.".concat(h,".name"))}),(0,o.jsx)(t.A,{errorName:null===(l=f.userInfo)||void 0===l||null===(a=l[h])||void 0===a?void 0:a.name})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,r.t)("designation")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"designation",name:"userInfo.".concat(h,".designation"),placeholder:"",defaultValue:p("userInfo.".concat(h,".designation"))}),(0,o.jsx)(t.A,{errorName:null===(i=f.userInfo)||void 0===i||null===(c=i[h])||void 0===c?void 0:c.designation})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,r.t)("mobileNumber"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"number",register:j,name:"userInfo.".concat(h,".mobileNumber"),label:"Mobile Number",placeholder:"",min:"0",onInput:e=>{const l=Math.max(0,e.target.value);e.target.value=l<1?"":l},defaultValue:p("userInfo.".concat(h,".mobileNumber"))}),(0,o.jsx)(t.A,{errorName:null===(d=f.userInfo)||void 0===d||null===(m=d[h])||void 0===m?void 0:m.mobileNumber})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,r.t)("email"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"email",register:j,name:"userInfo.".concat(h,".email"),label:"email",placeholder:"",defaultValue:p("userInfo.".concat(h,".email"))}),(0,o.jsx)(t.A,{errorName:null===(u=f.userInfo)||void 0===u||null===(x=u[h])||void 0===x?void 0:x.email})]})]},b.id)}},127:(e,l,a)=>{a.d(l,{A:()=>N});var s=a(65043),t=a(14282),n=a(24858),r=a(42297),o=a(73216),i=a(74117),c=a(28334),d=a(74805),m=a(87460),u=a(87407),x=a(92548),b=a(24490),v=a(99793),h=a(79055),j=a(75636),p=a(70579);const f={control:e=>({...e,padding:".25rem 0 "})},N=e=>{let{setValue:l,getValues:a,register:N,onSubmit:g,handleSubmit:y,errors:A,control:I,isFormSubmitting:V}=e;const{fields:w,append:C,remove:S}=(0,n.jz)({control:I,name:"userInfo"}),[E,z]=(0,s.useState)(!1),{t:F}=(0,i.Bd)(),{location:k,error:G}=(0,j.A)(),{id:L}=(0,o.g)();return(0,p.jsxs)("div",{className:"p-4",children:[(0,p.jsxs)("div",{className:"row",style:{width:"85%"},children:[(0,p.jsx)("div",{children:G&&(0,p.jsx)("p",{children:G})}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:[F("businessGroup"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(n.xI,{name:"businessGroupId",control:I,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,p.jsx)(x.A,{onChange:e=>{l("businessGroupId",e.value)},defaultValue:s,ref:n,name:t,customStyles:f})}}),!a("businessGroupId")&&(0,p.jsx)(c.A,{errorName:A.businessGroupId})]}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,p.jsxs)("label",{className:"form-label",children:[F("companyName")," ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(d.A,{type:"text",register:N,required:!0,label:"Company Name",name:"companyName",defaultValue:a("companyName"),placeholder:""}),(0,p.jsx)(c.A,{errorName:A.companyName})]}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,p.jsx)("label",{className:"form-label",children:F("tradeLicenseNumber")}),(0,p.jsx)(d.A,{type:"text",register:N,label:"tradeLicenseNumber",name:"tradeLicenseNumber",placeholder:"",defaultValue:a("tradeLicenseNumber")}),(0,p.jsx)(c.A,{errorName:A.tradeLicenseNumber})]}),(0,p.jsxs)("span",{className:"absolute",style:{position:"absolute",top:"23%",right:"-42%",overflow:"hidden"},children:[(0,p.jsx)(u.A,{setValue:l,register:N,label:"Business Group Logo",name:"logo",getValue:a,setLoading:z,loading:E,link:a("logo")}),(0,p.jsx)(c.A,{errorName:A.logo})]}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:F("officeNo")}),(0,p.jsx)(d.A,{type:"text",register:N,label:"officeNumber",name:"officeNumber",placeholder:"",defaultValue:a("officeNumber")}),(0,p.jsx)(c.A,{errorName:A.officeNumber})]}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[F("email"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(d.A,{type:"email",register:N,label:"Email",name:"email",placeholder:"",defaultValue:a("email"),disabled:!!L}),(0,p.jsx)(c.A,{errorName:A.email})]}),(0,p.jsx)(h.A,{register:N,setValue:l,errors:A,getValues:a,locationData:k,id:L,showCity:!0,Comptype:"companyId"}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:F("dateFormat")}),(0,p.jsx)(n.xI,{name:"dateFormat",control:I,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,p.jsx)(r.Ay,{onChange:e=>l("dateFormat",null===e||void 0===e?void 0:e.value),options:m.wJ,ref:n,name:t,styles:f,value:{value:s,label:s},defaultValue:m.wJ[1]})}}),(0,p.jsx)(c.A,{errorName:A.dateFormat})]}),(0,p.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:F("timeFormat")}),(0,p.jsx)(n.xI,{name:"timeFormat",control:I,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,p.jsx)(r.Ay,{onChange:e=>l("timeFormat",e.value),options:m.lD,ref:n,name:t,styles:f,value:{value:s,label:s},defaultValue:m.lD[1]})}})]}),(0,p.jsx)(b.A,{heading:F("companyLoginDetails"),register:N,errors:A,id:L,getValues:a}),(0,p.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",margin:"2rem 0"},children:[(0,p.jsx)("h3",{children:F("contactDetails")}),(0,p.jsxs)(t.A,{type:"button",onClick:()=>{C({name:"",designation:"",mobileNumber:null,email:""})},style:{width:"10%"},children:[" ","ADD"]})]}),w.map(((e,l)=>(0,p.jsx)(v.A,{field:e,index:l,register:N,getValues:a,errors:A,fields:w,remove:S,id:L},e.id)))]}),(0,p.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,p.jsx)(t.A,{disabled:E||V,type:"submit",onClick:y(g),style:{width:"10%"},children:F("submit")})})]})}},75636:(e,l,a)=>{a.d(l,{A:()=>n});var s=a(65043),t=a(77154);const n=()=>{const[e,l]=(0,s.useState)(null),[a,n]=(0,s.useState)(null),[r,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{m(!0);const e="bdc_031d6a642ab94e0b8f5376a97ded1793";if(!e)throw new Error("API key is missing.");const a=await t.A.get("https://api.bigdatacloud.net/data/ip-geolocation?key=".concat(e));l(a.data.location.latitude),n(a.data.location.longitude);const s=a.data;c(s),o(null)}catch(r){o("Error getting location data: "+r.message)}finally{m(!1)}})()}),[]),{location:i,lat:e,lng:a,isLoading:d,error:r}}}}]);
//# sourceMappingURL=127.c2439cdf.chunk.js.map