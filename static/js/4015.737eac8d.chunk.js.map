{"version":3,"file":"static/js/4015.737eac8d.chunk.js","mappings":"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","sources":["features/featureTemplate/api.js","features/featureTemplate/components/DropdownList.jsx","components/Tabs/TabCard.jsx","components/Tabs/index.jsx","features/featureTemplate/components/PermissionForm.jsx","features/featureTemplate/pages/Create.jsx"],"sourcesContent":["import { axiosInstance as axios } from \"@/services/api\";\n\nexport const getAllModules = async () => {\n  const { data } = await axios.get(\"/modules\");\n  return data?.data;\n};\n\nexport const getAllTemplates = async (page) => {\n  let url = \"/feature-template\";\n  if (page !== undefined) {\n    url += `?page=${page}&limit=${10}`;\n  }\n  const { data } = await axios.get(url);\n  return {\n    data: data.data.data,\n    totalPage: data.data.totalPage,\n    totalCount: data.data.totalCount,\n  };\n};\n\nexport const deleteTemplate = async (id) => {\n  return await axios.delete(`/feature-template/${id}`);\n};\n\nexport const createTemplate = async (body) => {\n  return await axios.post(\"/feature-template\", body);\n};\n\nexport const updateTemplate = async (body) => {\n  return await axios.patch(\"/feature-template\", body);\n};\n\nexport const getTemplateById = async (id) => {\n  const { data } = await axios.get(`/feature-template/${id}`);\n  return data?.data?.data;\n};","import React, { useEffect, useMemo, useState } from \"react\";\nimport Select from \"react-select\";\nimport { useInfiniteQuery, useQuery } from \"@tanstack/react-query\";\n\nimport usePagination from \"@/hooks/usePagination\";\nimport { getAllTemplates, getTemplateById } from \"../api\";\nimport usePermissions from \"@/hooks/usePermissions\";\nimport Spinner from \"@/components/Loader/Spinner\";\n\nconst TemplateDropdownList = ({\n  onChange,\n  value,\n  customStyles,\n  isDisabled,\n  name,\n  placeholder,\n  defaultValue,\n}) => {\n  const [selectedOption, setSelectedOption] = useState(value);\n  const { page, setPage } = usePagination();\n  const { can } = usePermissions();\n\n  const { data, fetchNextPage, hasNextPage, isFetching, isFetchingNextPage } =\n    useInfiniteQuery({\n      queryKey: [\"templates\"],\n      queryFn: ({ pageParam }) => {\n        setPage(pageParam);\n        return getAllTemplates(pageParam);\n      },\n      initialPageParam: 1,\n      getNextPageParam: (lastPage, pages) =>\n        lastPage.data?.length ? page + 1 : null,\n      enabled: can(\"groups\", \"view\"),\n      staleTime: Infinity,\n    });\n\n  const { refetch } = useQuery({\n    queryKey: [\"template\", defaultValue],\n    queryFn: () => getTemplateById(defaultValue),\n    enabled: false,\n    staleTime: Infinity,\n  });\n\n  const options = useMemo(() => {\n    let flatData = [];\n    data?.pages.forEach((pageData) => {\n      pageData.data.forEach((template) => {\n        flatData.push({\n          value: template._id,\n          label: template.name,\n        });\n      });\n    });\n    return flatData;\n  }, [data]);\n\n  useEffect(() => {\n    if (value?.value != selectedOption?.value) {\n      setSelectedOption(value);\n    }\n\n    return () => {};\n  }, [value, options]);\n\n  useEffect(() => {\n    const initializeValue = async () => {\n      if (defaultValue && !value) {\n        const selected = options.find(\n          (option) => option.value === defaultValue\n        );\n        if (selected) {\n          setSelectedOption(selected);\n          onChange(selected);\n          return;\n        }\n        try {\n          const { data: template } = await refetch();\n          if (template) {\n            const newOption = {\n              label: template.name,\n              value: template._id,\n            };\n            setSelectedOption(newOption);\n            onChange(newOption);\n            return;\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n    initializeValue();\n    return () => {};\n  }, [defaultValue, value]);\n\n  const handleMenuScroll = async (event) => {\n    const bottom =\n      event.target.scrollHeight - event.target.scrollTop ===\n      event.target.clientHeight;\n    if (bottom && !isFetching && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage();\n    }\n  };\n\n  return (\n    <Select\n      options={options}\n      value={selectedOption}\n      onChange={onChange}\n      styles={customStyles}\n      name={name}\n      placeholder={placeholder}\n      isDisabled={isDisabled || !can(\"groups\", \"view\")}\n      onMenuScrollToBottom={handleMenuScroll}\n      menuShouldScrollIntoView={false}\n      isLoading={isFetching}\n      components={{\n        LoadingIndicator: Spinner,\n      }}\n    />\n  );\n};\n\nexport default TemplateDropdownList;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction TabCard(props) {\n  const { onClick, data, isActive } = props;\n  const { title, icon } = data;\n  const {t} = useTranslation();\n\n  return (\n    <div\n      onClick={onClick}\n      className={`card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ${\n        isActive ? \"active-tab\" : \"\"\n      }`}\n      style={{\n        height: \"160px\",\n        width: \"160px\",\n        border: isActive ? \"1px solid #4C9AFF\" : \"1px solid #E6E6E6\",\n      }}\n    >\n      <div className=\"card-body d-flex align-items-center\">\n        <div className=\"d-flex flex-column align-items-center w-100 pb-2\">\n          {icon && (\n            <span className=\"card-text text-primary fs-1 mb-2\">{icon}</span>\n          )}\n          <h6 className=\"card-text text-primary text-center fs-4\">{t(title.toLowerCase())}</h6>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TabCard;\n","import React, { useState } from \"react\";\n\nimport TabCard from \"./TabCard\";\n\nfunction Tabs(props) {\n  const { tabs = [] } = props;\n  const [activeTab, setActiveTab] = useState(tabs[0]);\n\n  const handleTabClick = (clickedTab) => {\n    setActiveTab(clickedTab);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"tabs row w-100\">\n        {tabs.map((tab, index) => (\n          <TabCard\n            key={index}\n            data={tab}\n            isActive={activeTab === tab}\n            onClick={() => handleTabClick(tab)}\n          />\n        ))}\n      </div>\n      {activeTab && <div>{activeTab.component}</div>}\n    </div>\n  );\n}\n\nexport default Tabs;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Table } from \"react-bootstrap\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { notifyError, notifySuccess } from \"@/utils/toast\";\nimport {\n  createTemplate,\n  getAllModules,\n  getAllTemplates,\n  updateTemplate,\n} from \"../api\";\nimport TemplateDropdownList from \"./DropdownList\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nconst PermissionForm = () => {\n  const { t } = useTranslation();\n  const [groupsDataState, setGroupsDataState] = useState([]);\n  const [subModuleIndexArray, setSubModuleIndexArray] = useState([]);\n  const [data, setData] = useState([]);\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const queryClient = useQueryClient();\n  const [newGroupData, setNewGroupData] = useState({\n    name: \"\",\n    permission: {},\n  });\n  const [selectOptions, setSelectOptions] = useState([]);\n\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const handleCopy = () => {\n    if (!selectedTemplate) return;\n\n    // Update permissions for modules directly\n    const updatedData = data.map((module) => {\n      const permission = selectedTemplate.permission.find(\n        (perm) => perm.moduleId === module._id\n      );\n      if (permission) {\n        module.permission = {\n          add: permission?.add,\n          view: permission?.view,\n          modify: permission?.modify,\n          delete: permission?.delete,\n        };\n      }\n\n      module.subModules =\n        module.subModules?.map((subModule) => {\n          const subModulePermission = selectedTemplate.permission.find(\n            (perm) => perm.moduleId === subModule.id\n          );\n          if (subModulePermission) {\n            subModule.permission = {\n              add: subModulePermission?.add,\n              view: subModulePermission?.view,\n              modify: subModulePermission?.modify,\n              delete: subModulePermission?.delete,\n            };\n          }\n          return subModule;\n        }) || [];\n\n      return module;\n    });\n\n    setData(updatedData);\n\n    // Clear subModuleIndexArray\n    setSubModuleIndexArray(\n      selectedTemplate.permission\n        .filter((d) => {\n          return d.delete || d.view || d.modify || d.add;\n        })\n        .map((d) => d.moduleId)\n    );\n  };\n\n  const handleCheckboxChange = (isChecked, id) => {\n    if (isChecked) {\n      setSubModuleIndexArray((prevArray) => [...prevArray, id]);\n    } else {\n      setSubModuleIndexArray((prevArray) =>\n        prevArray.filter((item) => item !== id)\n      );\n\n      setData((prevData) =>\n        prevData.map((module) => {\n          if (module._id === id) {\n            return {\n              ...module,\n              subModules: module.subModules.map((subModule) => {\n                return {\n                  ...subModule,\n                  permission: {\n                    add: false,\n                    view: false,\n                    modify: false,\n                    delete: false,\n                  },\n                };\n              }),\n              permission: {\n                add: false,\n                view: false,\n                modify: false,\n                delete: false,\n              },\n            };\n          }\n          return module;\n        })\n      );\n    }\n  };\n  const handleModulePermisssionChange = (isChecked, name, id) => {\n    let updatedData = [...data];\n    const module = updatedData.find((element) => element._id === id);\n    const modulePermissions = {\n      ...module.permission,\n    };\n\n    if (isChecked) {\n      modulePermissions[name] = true;\n      modulePermissions[\"view\"] = true;\n    } else {\n      if (\n        (name === \"view\" &&\n          Object.entries(modulePermissions).find(\n            ([key, val]) => key !== \"view\" && val\n          )) ||\n        module.subModules.some((subModule) =>\n          Object.entries(subModule.permission).some(([key, val]) => val)\n        )\n      )\n        return;\n      modulePermissions[name] = false;\n    }\n\n    const moduleIndex = updatedData.findIndex((element) => element._id === id);\n    updatedData[moduleIndex].permission = modulePermissions;\n    setData(updatedData);\n  };\n  const handleSubModulePermisssionChange = (\n    isChecked,\n    name,\n    moduleId,\n    subModuleId\n  ) => {\n    const updatedData = data.map((module) => {\n      if (isChecked) {\n        handleModulePermisssionChange(isChecked, \"view\", moduleId);\n      }\n      if (module._id === moduleId) {\n        const subModules = module.subModules.map((subModule) => {\n          if (subModule.id === subModuleId) {\n            const updatedSubModulePermissions = { ...subModule.permission };\n            if (\n              !isChecked &&\n              name === \"view\" &&\n              Object.entries(updatedSubModulePermissions).find(\n                ([key, val]) => key !== \"view\" && val\n              )\n            ) {\n              return subModule;\n            }\n            if (isChecked) updatedSubModulePermissions[\"view\"] = true;\n            updatedSubModulePermissions[name] = isChecked;\n            return {\n              ...subModule,\n              permission: updatedSubModulePermissions,\n            };\n          }\n          return subModule;\n        });\n        return { ...module, subModules };\n      }\n      return module;\n    });\n    setData(updatedData);\n  };\n\n  const handleInputChange = (e) => {\n    setIsErrror(false);\n    const { value } = e.target;\n    setNewGroupData((prev) => ({\n      ...prev,\n      name: value,\n    }));\n  };\n\n  const [isError, setIsErrror] = useState(false);\n\n  useEffect(() => {\n    if (id) {\n      const editData = groupsDataState.filter((item, index) => item._id === id);\n      setNewGroupData({\n        name: editData.name,\n        permission: editData.permission,\n      });\n    }\n  }, [id]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const moduleData = await getAllModules();\n        const permission = {\n          add: false,\n          view: false,\n          modify: false,\n          delete: false,\n        };\n        const newData = [...moduleData].map((obj) => {\n          const subModules = [...obj.subModules].map((submodule) => {\n            return { ...submodule, permission };\n          });\n          return {\n            ...obj,\n            permission,\n            subModules,\n          };\n        });\n\n        setData(newData);\n      } catch (error) {\n        console.error(\"Error fetching template data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const [editGroupName, setEditGroupName] = useState();\n\n  const fetchTemplates = async () => {\n    try {\n      const templateData = await getAllTemplates();\n      if (id) {\n        const moduleData = await getAllModules();\n        // setCurrentTemplate();\n        const filteredData = templateData.data.find((d) => d._id === id);\n        setNewGroupData(filteredData);\n        setEditGroupName(filteredData.name);\n\n        const updatedData = moduleData.map((module) => {\n          // Find the permission for the current module or submodule\n          const permission = filteredData.permission.find(\n            (perm) => perm.moduleId === (module.id || module._id)\n          );\n          if (permission) {\n            // Assign permissions\n            module.permission = {\n              add: permission?.add,\n              view: permission?.view,\n              modify: permission?.modify,\n              delete: permission?.delete,\n            };\n\n            if (module.subModules && module.subModules.length > 0) {\n              module.subModules.forEach((submodule) => {\n                const subModulePermissions = filteredData.permission.find(\n                  (perm) => perm.moduleId === (submodule.id || submodule._id)\n                );\n                if (subModulePermissions) {\n                  submodule.permission = {\n                    add: subModulePermissions.add,\n                    view: subModulePermissions.view,\n                    modify: subModulePermissions.modify,\n                    delete: subModulePermissions.delete,\n                  };\n                }\n              });\n            }\n          }\n          return module;\n        });\n        setData(updatedData);\n        setSubModuleIndexArray(\n          filteredData.permission\n            .filter((d) => {\n              return d.delete || d.view || d.modify || d.add;\n            })\n            .map((d) => d.moduleId)\n        );\n      }\n      setGroupsDataState(templateData.data);\n\n      setSelectOptions(\n        templateData.data.map((template) => ({\n          value: template._id,\n          label: template.name,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error fetching template data:\", error);\n    }\n  };\n\n  const groupNames = groupsDataState.map((e) => e.name);\n\n  const handleSave = async () => {\n    if (!newGroupData.name) {\n      setIsErrror(true);\n      return;\n    }\n\n    if (id) {\n      if (\n        groupNames.includes(newGroupData.name) &&\n        newGroupData.name !== editGroupName\n      ) {\n        notifyError(\"Feature Template name already exists\");\n        return;\n      }\n    } else {\n      if (groupNames.includes(newGroupData.name)) {\n        notifyError(\"Feature Template name already exists\");\n        return;\n      }\n    }\n\n    try {\n      setIsErrror(false);\n      const flattenedPermissions = data.reduce((acc, module) => {\n        const mainModulePermissions = {\n          moduleId: module._id,\n          add: module.permission?.add,\n          view: module.permission?.view,\n          modify: module.permission?.modify,\n          delete: module.permission?.delete,\n        };\n\n        acc.push(mainModulePermissions);\n\n        if (module.subModules && module.subModules.length > 0) {\n          module.subModules.forEach((subModule) => {\n            const subModulePermissions = {\n              moduleId: subModule.id,\n              add: subModule.permission?.add,\n              view: subModule.permission?.view,\n              modify: subModule.permission?.modify,\n              delete: subModule.permission?.delete,\n            };\n            acc.push(subModulePermissions);\n          });\n        }\n\n        return acc;\n      }, []);\n\n      const tempGroupData = {\n        ...newGroupData,\n        permission: flattenedPermissions,\n      };\n\n      setNewGroupData((prev) => ({\n        ...prev,\n        permission: flattenedPermissions,\n      }));\n\n      const method = id ? updateTemplate : createTemplate;\n      await method(tempGroupData);\n      queryClient.invalidateQueries([\"groups\"]);\n\n      setSubModuleIndexArray([]);\n\n      notifySuccess(\"saved\");\n      navigate(\"/groups\");\n    } catch (error) {\n      console.error(\"Error saving data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [id]);\n\n  return (\n    <div>\n      <Card>\n        <Card.Header>\n          <Card.Title>{t(\"permission\")}</Card.Title>\n        </Card.Header>\n\n        <div className=\"d-flex justify-content-between m-2 mt-4 p-3 mb-0 pb-0\">\n          <div>\n            <input\n              value={newGroupData.name}\n              name=\"groupname\"\n              type=\"text\"\n              className=\"p-2\"\n              onChange={(e) => handleInputChange(e)}\n              style={{\n                marginRight: \"1rem\",\n                border: \"#D3D3D3 1px solid\",\n                borderRadius: \"0.3rem\",\n                width: \"15rem\",\n              }}\n              placeholder={t(\"featureTemplateName\")}\n            />\n          </div>\n\n          <div\n            className=\"d-flex justify-content-center\"\n            style={{ width: \"25rem\" }}\n          >\n            <TemplateDropdownList\n              placeholder={t(\"selectFeatureTemplate\")}\n              customStyles={{\n                control: (base) => ({ ...base, width: \"18rem\" }),\n              }}\n              value={{\n                value: selectedTemplate?._id,\n                label: selectedTemplate?.name,\n              }}\n              onChange={(selectedOption) => {\n                const selectedTemplateData = groupsDataState.find(\n                  (template) => template._id === selectedOption.value\n                );\n                setSelectedTemplate(selectedTemplateData);\n              }}\n            />\n            <button\n              className=\"btn btn-primary\"\n              style={{\n                marginLeft: \"1rem\",\n                padding: \"7px 16px\",\n                marginRight: \"1rem\",\n              }}\n              onClick={handleCopy}\n            >\n              {t(\"copy\")}\n            </button>\n          </div>\n        </div>\n        <div className=\"ms-4 pt-0 mt-0\">\n          {isError && (\n            <span\n              className=\"text-danger text-sm pt-0 mt-0\"\n              style={{ marginBottom: \"1rem\" }}\n            >\n              feature template name is required\n            </span>\n          )}\n        </div>\n\n        <Card.Body className=\"d-flex\">\n          <div\n            style={{\n              flex: 0.4,\n              maxHeight: \"50vh\",\n              overflow: \"auto\",\n              border: \"1px solid #D3D3D3  \",\n              borderRadius: \"0.5rem\",\n            }}\n          >\n            <Table>\n              <thead\n                style={{ position: \"sticky\", top: 0, background: \"white\" }}\n              >\n                <tr>\n                  <th scope=\"col\">{t(\"module\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((element, i) => {\n                  if (!element || !element.title) return null;\n                  return (\n                    <React.Fragment key={element._id}>\n                      <tr>\n                        {element.title !== \"Reports\" && (\n                          <td>\n                            <input\n                              type=\"checkbox\"\n                              className=\"form-check-input\"\n                              style={{ marginRight: \"0.2rem\" }}\n                              name=\"create\"\n                              checked={\n                                subModuleIndexArray.includes(element._id) ||\n                                element.subModules.some((submodule) =>\n                                  subModuleIndexArray.includes(submodule.id)\n                                )\n                              }\n                              onChange={(e) =>\n                                handleCheckboxChange(\n                                  e.target.checked,\n                                  element._id\n                                )\n                              }\n                            />\n                            <span style={{ marginRight: \"1.7rem\" }}>\n                              {t(element.title)}\n                            </span>\n                          </td>\n                        )}\n                      </tr>\n                    </React.Fragment>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </div>\n\n          <div\n            style={{\n              flex: 1,\n              maxHeight: \"50vh\",\n              overflow: \"auto\",\n              border: \"1px solid #D3D3D3\",\n              borderRadius: \"0.5rem\",\n              marginLeft: \"0.2rem\",\n            }}\n          >\n            <Table>\n              <thead\n                id=\"feature_template\"\n                style={{ position: \"sticky\", top: 0, background: \"white\" }}\n              >\n                <tr>\n                  <th scope=\"col\" className=\"col-4\" style={{ width: \"150px\" }}>\n                    {t(\"subModules\")}\n                  </th>\n                  <th scope=\"col\">{t(\"add\")}</th>\n                  <th scope=\"col\">{t(\"view\")}</th>\n                  <th scope=\"col\">{t(\"modify\")}</th>\n                  <th scope=\"col\">{t(\"delete\")}</th>\n                </tr>\n              </thead>\n              <TBody\n                subModuleIndexArray={subModuleIndexArray}\n                data={data}\n                handleModulePermisssionChange={handleModulePermisssionChange}\n                handleSubModulePermisssionChange={\n                  handleSubModulePermisssionChange\n                }\n              />\n            </Table>\n          </div>\n        </Card.Body>\n        <div className=\"d-flex justify-content-end  p-3\">\n          <button\n            className=\"btn btn-primary\"\n            style={{ marginLeft: \"1rem\", padding: \"7px 16px\" }}\n            onClick={handleSave}\n          >\n            {t(id ? \"update\" : \"save\")}\n          </button>\n        </div>\n      </Card>\n    </div>\n  );\n};\nexport default PermissionForm;\n\nexport const TBody = ({\n  subModuleIndexArray,\n  data,\n  handleSubModulePermisssionChange,\n  handleModulePermisssionChange,\n}) => {\n  const picked = new Set();\n\n  return (\n    <tbody className=\"feature_template_table\">\n      {subModuleIndexArray.length > 0 &&\n        subModuleIndexArray.map((mindex, index) => {\n          const moduleData = data.find(\n            (module) =>\n              module._id === mindex ||\n              module.subModules.some((el) => el.id === mindex)\n          );\n          if (!moduleData || picked.has(moduleData._id)) return null;\n          picked.add(moduleData._id);\n\n          let isDisabled = false;\n          if (moduleData.title === \"Dashboard\") isDisabled = true;\n\n          return (\n            <React.Fragment key={mindex}>\n              <tr>\n                <td className=\"col-2\" style={{ width: \"130px\" }}>\n                  {\" \"}\n                  {moduleData.title}\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.add} // Use optional chaining to avoid errors if permission is undefined\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    className=\"form-check-input\"\n                    name=\"add\"\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.view}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    name=\"view\"\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.modify}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                    name=\"modify\"\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.delete}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                    name=\"delete\"\n                  />\n                </td>\n              </tr>\n              {moduleData.subModules.map((element, i) => (\n                <tr key={i}>\n                  <td className=\"col-2\"> {element.title}</td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.add}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"add\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.view}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"view\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.modify}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"modify\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.delete}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"delete\"\n                    />\n                  </td>\n                </tr>\n              ))}\n            </React.Fragment>\n          );\n        })}\n    </tbody>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FaUser } from \"react-icons/fa\";\nimport MainPagetitle from \"@/components/MainPagetitle\";\nimport Tabs from \"@/components/Tabs\";\nimport PermissionForm from \"../components/PermissionForm\";\n\nconst CreateTemplate = () => {\n  const { t } = useTranslation();\n\n  const data = [\n    {\n      title: \"Permission\",\n      component: <PermissionForm />,\n      icon: <FaUser />,\n    },\n  ];\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"permission\")}\n        pageTitle={t(\"permission\")}\n        parentTitle={t(\"featureTemplates\")}\n      />\n      <Tabs tabs={data} />\n    </>\n  );\n};\n\nexport default CreateTemplate;\n"],"names":["getAllModules","async","data","axios","get","getAllTemplates","url","undefined","page","concat","totalPage","totalCount","deleteTemplate","delete","id","createTemplate","post","body","updateTemplate","patch","getTemplateById","_data$data","_ref","onChange","value","customStyles","isDisabled","name","placeholder","defaultValue","selectedOption","setSelectedOption","useState","setPage","usePagination","can","usePermissions","fetchNextPage","hasNextPage","isFetching","isFetchingNextPage","useInfiniteQuery","queryKey","queryFn","_ref2","pageParam","initialPageParam","getNextPageParam","lastPage","pages","_lastPage$data","length","enabled","staleTime","Infinity","refetch","useQuery","options","useMemo","flatData","forEach","pageData","template","push","_id","label","useEffect","selected","find","option","newOption","error","console","log","initializeValue","_jsx","Select","styles","onMenuScrollToBottom","event","target","scrollHeight","scrollTop","clientHeight","menuShouldScrollIntoView","isLoading","components","LoadingIndicator","Spinner","props","onClick","isActive","title","icon","t","useTranslation","className","style","height","width","border","children","_jsxs","toLowerCase","tabs","activeTab","setActiveTab","map","tab","index","TabCard","component","PermissionForm","groupsDataState","setGroupsDataState","subModuleIndexArray","setSubModuleIndexArray","setData","navigate","useNavigate","useParams","queryClient","useQueryClient","newGroupData","setNewGroupData","permission","selectOptions","setSelectOptions","selectedTemplate","setSelectedTemplate","handleModulePermisssionChange","isChecked","updatedData","module","element","modulePermissions","Object","entries","key","val","subModules","some","subModule","moduleIndex","findIndex","isError","setIsErrror","editData","filter","item","moduleData","add","view","modify","newData","obj","submodule","fetchData","editGroupName","setEditGroupName","groupNames","e","templateData","filteredData","d","perm","moduleId","subModulePermissions","fetchTemplates","Card","Header","Title","type","prev","handleInputChange","marginRight","borderRadius","TemplateDropdownList","control","base","selectedTemplateData","marginLeft","padding","handleCopy","_module$subModules","subModulePermission","marginBottom","Body","flex","maxHeight","overflow","Table","position","top","background","scope","i","React","checked","includes","handleCheckboxChange","prevArray","prevData","TBody","handleSubModulePermisssionChange","subModuleId","updatedSubModulePermissions","_ref3","notifyError","flattenedPermissions","reduce","acc","_module$permission","_module$permission2","_module$permission3","_module$permission4","mainModulePermissions","_subModule$permission","_subModule$permission2","_subModule$permission3","_subModule$permission4","tempGroupData","method","invalidateQueries","notifySuccess","_ref4","picked","Set","mindex","_moduleData$permissio","_moduleData$permissio2","_moduleData$permissio3","_moduleData$permissio4","el","has","disabled","_element$permission","_element$permission2","_element$permission3","_element$permission4","CreateTemplate","FaUser","_Fragment","MainPagetitle","mainTitle","pageTitle","parentTitle","Tabs"],"sourceRoot":""}