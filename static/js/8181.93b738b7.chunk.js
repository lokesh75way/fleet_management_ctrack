"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[8181],{89957:(e,a,t)=>{t.d(a,{A:()=>r});t(65043);var s=t(6720),n=t(60184),o=t(51359),i=t(70579);const r=e=>{let{tableData:a,onConfirmDelete:t,editDrawerOpen:r,page:d}=e;return console.log(a),(0,i.jsx)(i.Fragment,{children:a.map(((e,a)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:a+1+10*(d-1)})}),(0,i.jsx)("td",{children:(0,i.jsx)("h6",{children:e.name})}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:e.category})}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:e.contactNumber})}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:e.address})}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:e.description})}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{children:e.geofenceAccess})}),(0,i.jsx)("td",{children:(0,i.jsxs)("span",{className:"d-flex justify-content-center",children:[(0,i.jsx)("span",{className:"cursor-pointer",onClick:()=>r(e._id),children:(0,i.jsx)(n.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),(0,i.jsx)(o.A,{className:"cursor-pointer ",onConfirmDelete:t,id:e._id,children:(0,i.jsx)(s.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},a)))})}},972:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(65043),n=t(73216),o=t(28086),i=t(31899),r=t.n(i),d=t(2364),c=(t(9531),t(24858)),l=(t(23764),t(15075)),u=t(272),m=t(70579);const p=(0,s.forwardRef)(((e,a)=>{let{Title:t,editData:i,setEditData:p,setCompanyHandler:y,setDatehandler:h,setBusinessHandler:j,data:x}=e;const{control:v,formState:b}=(0,c.mN)(),[f,C]=(0,s.useState)(!1),[N,g]=(0,s.useState)(new Date(0)),[D,A]=(0,s.useState)(new Date(0)),B=localStorage.getItem("role"),k=localStorage.getItem("loginDetails-name"),M=N.toLocaleDateString(),[J,I]=(0,s.useState)({value:"All Companies",label:"All Companies"}),[G,w]=(0,s.useState)({value:"All Groups",label:"All Groups"});(0,s.useImperativeHandle)(a,(()=>({showModal(){C(!0)}}))),(0,s.useEffect)((()=>{"businessgroup"===B&&(w({value:k,label:k}),j(k)),"company"===B&&(I({value:k,label:k}),y(k));const e=(0,u.UI)(x);g(e.lowestDate),A(e.highestDate),h({startDate:e.lowestDate,endDate:e.highestDate})}),[]);const{register:S,setValue:V,getValues:_,handleSubmit:R}=(0,c.mN)();(0,n.Zp)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(o.A,{show:f,onHide:C,className:"offcanvas-end ",placement:"end",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"#gridSystemModal",children:t}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>C(!1)})]}),(0,m.jsx)("div",{id:"filter_reports",className:"offcanvas-body",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("form",{onSubmit:R((()=>{h({startDate:N,endDate:D}),"admin"===B&&j(G.label),"admin"!==B&&"businessgroup"!==B||y(J.label)})),children:(0,m.jsxs)("div",{className:"container ",children:[(0,m.jsxs)("div",{className:"row w-100 m-2",children:[(0,m.jsxs)("div",{className:"col-12  mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Business Group"}),(0,m.jsx)(c.xI,{name:"Business",control:v,render:e=>{let{field:{onChange:a,value:t,name:s,ref:n}}=e;return(0,m.jsx)(d.Ay,{onChange:e=>{w({value:e.value,label:e.label})},isDisabled:"businessgroup"===B||"company"===B,name:s,menuPosition:"fixed",options:l.Wg,value:G})}})]}),(0,m.jsxs)("div",{className:"col-12  mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Company"}),(0,m.jsx)(c.xI,{name:"company",control:v,render:e=>{let{field:{onChange:a,value:t,name:s,ref:n}}=e;return(0,m.jsx)(d.Ay,{onChange:e=>{I({value:e.value,label:e.label})},name:s,isDisabled:"company"===B,menuPosition:"fixed",options:l.K7,value:J})}})]}),(0,m.jsxs)("div",{className:"col-12 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Date"}),(0,m.jsx)(c.xI,{name:"dateSelection",control:v,render:e=>{let{value:a,name:t}=e;return(0,m.jsx)(r(),{className:"form-control w-100",startDate:N,endDate:D,selectsRange:!0,onChange:e=>{const[a,t]=e;g(a),A(t)},dateFormat:"dd/MM/yy",placeholderText:M})}})]})]}),(0,m.jsx)("div",{className:"row w-100 m-2",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("button",{type:"submit",onClick:()=>C(!1),className:"btn btn-primary me-1 w-100",children:"Apply"})})})]})})})})]})})}))},38181:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(65043),n=t(35475),o=t(62378),i=t(9866),r=t(31412),d=t(972),c=t(89957),l=t(272),u=t(70579);const m={headers:[{label:"Invoice",key:"invoice"},{label:"Customer",key:"customer"},{label:"Date",key:"date"},{label:"Due Date",key:"duedate"},{label:"Amount",key:"amount"},{label:"Discount",key:"discount"},{label:"Open",key:"open"},{label:"Adjustment",key:"adjust"},{label:"Status",key:"status"}],data:[{invoice:"INV-00001",customer:"Ricky Antony",createdDate:"14 May 2023",parentCompany:"Company4",parentBusiness:"Business Group1",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00002",customer:"Jack John",createdDate:"25 May 2023",parentCompany:"Company4",parentBusiness:"Business Group1",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00003",parentCompany:"Company3",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00004",parentCompany:"Company3",parentBusiness:"Business Group2",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00005",parentCompany:"Company2",parentBusiness:"Business Group2",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00006",parentCompany:"Company2",parentBusiness:"Business Group3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00007",parentCompany:"Company1",parentBusiness:"Business Group3",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00008",parentCompany:"Company1",parentBusiness:"Business Group3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00009",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000010",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Jack John",date:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000011",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000012",parentCompany:"Company1",parentBusiness:"Business Group5",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000013",parentCompany:"Company1",parentBusiness:"Business Group5",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000014",parentCompany:"Company2",parentBusiness:"Business Group5",customer:"Jack John",createdDate:"15 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000015",parentCompany:"Company2",parentBusiness:"Business Group5",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000016",parentCompany:"Company3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000017",parentCompany:"Company3",customer:"Ricky Antony",parentBusiness:"Business Group1",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000018",parentCompany:"Company4",parentBusiness:"Business Group1",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000019",parentCompany:"Company4",parentBusiness:"Business Group2",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000020",parentBusiness:"Business Group3",parentCompany:"Company2",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000021",parentCompany:"Company2",customer:"Ricky Antony",parentBusiness:"Business Group3",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000022",parentCompany:"Company5",customer:"Jack John",parentBusiness:"Business Group3",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000023",parentCompany:"Company2",customer:"Ricky Antony",parentBusiness:"Business Group2",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000024",parentCompany:"Company3",customer:"Jack John",parentBusiness:"Business Group1",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"}],filename:"Geofence Address Rep.csv"},p=e=>{const[a,t]=(0,s.useState)({startDate:new Date(0),endDate:new Date(0)}),[p,y]=(0,s.useState)("All Groups"),[h,j]=(0,s.useState)("All Companies"),[x,v]=(0,s.useState)(r.ZL),[b,f]=(0,s.useState)({id:0,status:"",title:"",contact:0,age:0,drivingExperience:0,gender:"",location:""}),[C,N]=(0,s.useState)(document.querySelectorAll("#employee-tbl_wrapper tbody tr")),g=10,D=(0,s.useRef)(0),[A,B]=(0,s.useState)(0),k=(e,a)=>{for(var t=0;t<C.length;++t)t>=e&&t<a?C[t].classList.remove("d-none"):C[t].classList.add("d-none")};(0,s.useEffect)((()=>{if(null!==a&&void 0!==a&&a.startDate&&null!==a&&void 0!==a&&a.endDate){const e=(0,l._o)(null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,h,p,r.ZL);v(e)}}),[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,h,p]),(0,s.useEffect)((()=>{N(document.querySelectorAll("#employee-tbl_wrapper tbody tr"))}),[A]),0===D.current&&k(0,g);let M=Array(Math.ceil(C.length/g)).fill().map(((e,a)=>a+1));const J=e=>{D.current=e,k(D.current*g,(D.current+1)*g),B(e)},I=(0,s.useRef)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{mainTitle:"GeofenceAddress",pageTitle:"GeofenceAddress",parentTitle:"Reports"}),(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-xl-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("div",{className:"card-body p-0",children:(0,u.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,u.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,u.jsx)("h4",{className:"heading mb-0",children:"GeofenceAddress"}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsxs)(o.CSVLink,{...m,className:"btn btn-primary light btn-sm me-1",children:[(0,u.jsx)("i",{className:"fa-solid fa-file-excel"})," Export Report"]}),(0,u.jsx)(n.N_,{to:"#",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",onClick:()=>I.current.showModal(),children:"+ Filter"})," "]})]}),(0,u.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,u.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Geofence ID"}),(0,u.jsx)("th",{children:"Geofence Name"}),(0,u.jsx)("th",{children:"Geofence Type"}),(0,u.jsx)("th",{children:"Contact Number"}),(0,u.jsx)("th",{children:"Address"}),(0,u.jsx)("th",{children:"Description "}),(0,u.jsx)("th",{children:"Address"}),(0,u.jsx)("th",{children:"Action"})]})}),(0,u.jsx)("tbody",{children:(0,u.jsx)(c.A,{editData:b,tableData:x,onConfirmDelete:e=>{const a=x.filter((a=>a.id!==e));v(a)},editDrawerOpen:e=>{x.map((a=>a.id===e&&f(a))),I.current.showModal()},setEditData:f})})]}),(0,u.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,u.jsxs)("div",{className:"dataTables_info",children:["Showing ",D.current*g+1," to"," ",C.length>(D.current+1)*g?(D.current+1)*g:C.length," ","of ",C.length," entries"]}),(0,u.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,u.jsx)(n.N_,{className:"paginate_button previous disabled",to:"/geofenceAddress",onClick:()=>D.current>0&&J(D.current-1),children:(0,u.jsx)("i",{className:"fa-solid fa-angle-left"})}),(0,u.jsx)("span",{children:M.map(((e,a)=>(0,u.jsx)(n.N_,{to:"/settings/geofenceAddress",className:"paginate_button  ".concat(D.current===a?"current":""," "),onClick:()=>J(a),children:e},a)))}),(0,u.jsx)(n.N_,{className:"paginate_button next",to:"/settings/geofenceAddress",onClick:()=>D.current+1<M.length&&J(D.current+1),children:(0,u.jsx)("i",{className:"fa-solid fa-angle-right"})})]})]})]})]})})})})})}),(0,u.jsx)(d.A,{ref:I,data:r.ZL,setBusinessHandler:y,setCompanyHandler:j,setDatehandler:t,editData:b,setEditData:f,handleSubmit:e=>{e.preventDefault();const a=x.map((e=>e.id===b.id?(console.log(e.id),{...e,...b}):e));v(a)},Title:0===b.id?"Add Filter":"Edit Filter"})]})}}}]);
//# sourceMappingURL=8181.93b738b7.chunk.js.map