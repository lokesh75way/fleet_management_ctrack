"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[4246],{5761:(e,a,t)=>{t.d(a,{LD:()=>s,Lb:()=>l,UT:()=>m,Vp:()=>i,aL:()=>c,aW:()=>r,lC:()=>u,vq:()=>d,x1:()=>o});var n=t(94505);const l=async e=>{const{data:a}=await n.S.get("/technicians/".concat(e));return a.data},s=async(e,a,t)=>{const l={page:e||1,limit:a||10,...t},{data:s}=await n.S.get("/technicians",{params:l});return{data:s.data.technicians,totalPage:s.data.totalPage,totalCount:s.data.count}},r=async e=>await n.S.delete("/technicians/".concat(e)),i=async e=>await n.S.post("/technicians",e),c=async(e,a)=>await n.S.patch("/technicians/".concat(a),e),o=async function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a="/technician-tasks?page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,"&limit=").concat(e);const{data:t}=await n.S.get(a);return{data:t.data.data,totalPage:t.data.totalPage,totalCount:t.data.totalCount}},d=async e=>await n.S.delete("/technician-tasks/".concat(e)),m=async e=>await n.S.post("/technician-tasks",e),u=async(e,a)=>await n.S.patch("/technician-tasks/".concat(a),e)},24246:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var n=t(65043),l=t(73216),s=t(44816),r=t(86856),i=t(24858),c=(t(9531),t(18403)),o=t(74117),d=t(63248),m=t(28261),u=t(47097),h=t(70228),x=t(42457),f=t(272),p=t(5761),v=t(40399),b=t(14282),j=t(31899),N=t.n(j),g=(t(43),t(95474)),y=t(74805),w=t(28334),C=t(70579);const E={control:e=>({...e,padding:".25rem 0 "})},A=e=>{var a,t;let{register:l,setValue:s,control:r,errors:c,getValues:d,handleSubmit:m,onSubmit:u,isFormSubmitting:h}=e;const[x,f]=(0,n.useState)(""),[p,v]=(0,n.useState)({}),{t:j}=(0,o.Bd)(),A=e=>{f(e.target.value),s("gender",e.target.value)},S=new Date;S.setFullYear(S.getFullYear()-100);const k=new Date;return(0,C.jsxs)("div",{className:"p-4",children:[(0,C.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,C.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,C.jsxs)("label",{className:"form-label",children:[j("company")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(i.xI,{name:"company",control:r,rules:{required:!0},render:e=>{let{field:{onChange:a,value:t,name:n,ref:l}}=e;return(0,C.jsx)(g.A,{onChange:e=>{s("company",e.value)},defaultValue:t,customStyles:E,ref:l,name:n})}}),(0,C.jsx)(w.A,{errorName:c.company})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,C.jsxs)("label",{className:"form-label",children:[j("firstName")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:l,label:"First Name",name:"firstName",placeholder:""}),(0,C.jsx)(w.A,{errorName:c.firstName})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,C.jsx)("label",{className:"form-label",children:j("middleName")}),(0,C.jsx)(y.A,{type:"text",register:l,label:"middleName",name:"middleName",placeholder:""})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,C.jsxs)("label",{className:"form-label",children:[j("lastName")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:l,label:"Last Name",name:"lastName",placeholder:""}),(0,C.jsx)(w.A,{errorName:c.lastName})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[j("technicianNumber")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"number",register:l,label:"Technician Number",name:"technicianNo",placeholder:""}),(0,C.jsx)(w.A,{errorName:c.technicianNo})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[j("email"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"email",register:l,label:"Email",name:"email",placeholder:""}),(0,C.jsx)(w.A,{errorName:c.email})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{className:"form-label",children:[j("gender"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,C.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,C.jsx)("input",{type:"radio",className:"form-check-input",value:"MALE",checked:"MALE"===(null!==(a=d("gender"))&&void 0!==a?a:x),onChange:A}),(0,C.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:j("male")})]}),(0,C.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,C.jsx)("input",{type:"radio",className:"form-check-input",value:"FEMALE",checked:"FEMALE"===(null!==(t=d("gender"))&&void 0!==t?t:x),onChange:A}),(0,C.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:j("female")})]})]}),!d("gender")&&(0,C.jsx)(w.A,{errorName:c.gender})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[j("mobileNumber")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"number",register:l,label:"Mobile Number",name:"mobileNumber",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:""}),(0,C.jsx)(w.A,{errorName:c.mobileNumber})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[j("emergencyContact")," ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"number",register:l,label:"Emergency Contact",name:"emergencyContact",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:""}),(0,C.jsx)(w.A,{errorName:c.emergencyContact})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,C.jsxs)("label",{className:"form-label",children:[j("dateOfJoin"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(i.xI,{name:"dateOfJoin",control:r,register:l,render:e=>{let{value:a,name:t}=e;return(0,C.jsx)(N(),{selected:d("dateOfJoin")?new Date(d("dateOfJoin")):new Date,className:"form-control customDateHeight",onChange:e=>{v({...p,dateOfJoin:e}),s("dateOfJoin",e.toISOString().split("T")[0])}})}}),!d("dateOfJoin")&&(0,C.jsx)(w.A,{errorName:c.dateOfJoin})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,C.jsxs)("label",{className:"form-label",children:[" ",j("dateOfBirth"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(i.xI,{name:"dateOfBirth",control:r,render:e=>{let{value:a,name:t}=e;return(0,C.jsx)(N(),{selected:d("dateOfBirth")?new Date(d("dateOfBirth")):new Date,minDate:S,maxDate:k,className:"form-control customDateHeight",onChange:e=>{v({...p,dateOfBirth:e}),s("dateOfBirth",e.toISOString().split("T")[0])},showYearDropdown:!0,scrollableYearDropdown:!0,popperClassName:"date-picker-reports",yearDropdownItemNumber:50})}}),!d("dateOfBirth")&&(0,C.jsx)(w.A,{errorName:c.dateOfBirth})]})]}),(0,C.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,C.jsx)(b.A,{type:"submit",disabled:h,onClick:m(u),style:{width:"10%"},children:j("next")})})]})};var S=t(13052);const k=e=>{var a,t,n,s;let{register:r,setValue:c,getValues:d,errors:m,handleSubmit:u,control:h,onSubmit:x,defaultCountry:f,isFormSubmitting:p}=e;const{t:v}=(0,o.Bd)(),{id:j}=(0,l.g)();return(0,C.jsxs)("div",{className:"p-4",children:[(0,C.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[v("street1"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:r,label:"Street1",name:"address.street1",placeholder:""}),(0,C.jsx)(w.A,{errorName:null===(a=m.address)||void 0===a?void 0:a.street1})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:v("street2")}),(0,C.jsx)(y.A,{type:"text",register:r,label:"Street2",name:"address.street2",placeholder:""})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[v("city"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:r,label:"City",name:"address.city",placeholder:""}),(0,C.jsx)(w.A,{errorName:null===(t=m.address)||void 0===t?void 0:t.city})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[v("zipCode"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"number",register:r,label:"Zip Code",name:"address.zipCode",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:""}),(0,C.jsx)(w.A,{errorName:null===(n=m.address)||void 0===n?void 0:n.zipCode})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{className:"form-label",children:[v("country"),(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(S.b3,{onChange:e=>{c("address.country",e.name)},containerClassName:"bg-white",inputClassName:"border border-white customSelectHeight",placeHolder:"Select Country",defaultValue:j&&{name:d("address.country")}}),!d("address.country")&&(0,C.jsx)(w.A,{errorName:null===(s=m.address)||void 0===s?void 0:s.country})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,C.jsx)("label",{className:"form-label",children:v("mediclaimNumber")}),(0,C.jsx)(y.A,{type:"text",register:r,label:"Mediclaim Number",name:"address.mediclaimNumber",placeholder:""})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,C.jsx)("label",{className:"form-label",children:v("mediclaimExpiryDate")}),(0,C.jsx)(i.xI,{name:"address.mediclaimExpiryDate",control:h,render:e=>{let{value:a,name:t}=e;return(0,C.jsx)(N(),{selected:d("address.mediclaimExpiryDate")?new Date(d("address.mediclaimExpiryDate")):new Date,className:"form-control",onChange:e=>c("address.mediclaimExpiryDate",e)})}})]})]}),(0,C.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,C.jsx)(b.A,{type:"submit",disabled:p,onClick:u(x),style:{width:"10%"},children:v("next")})})]})},L=e=>{let{handleNext:a,register:t,setValue:n,handleSubmit:l,onSubmit:s,control:r,errors:i,getValues:c,isFormSubmitting:o}=e;return(0,C.jsxs)("div",{className:"p-4",children:[(0,C.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Casual Leave",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:t,label:"Casual Leave",name:"casualLeave",placeholder:"",defaultValue:"Casual Leave",disabled:!0}),(0,C.jsx)(w.A,{errorName:i.casualLeave})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"No of Days"}),(0,C.jsx)(y.A,{type:"text",register:t,label:"No Of Days",name:"noOfDaysCL",onChange:e=>{n("leave[0].days",e.target.value)}}),(0,C.jsx)(w.A,{errorName:i.noOfDaysCL})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Sick Leave",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:t,label:"Sick Leave",name:"sickLeave",placeholder:"",defaultValue:"Sick Leave",disabled:!0}),(0,C.jsx)(w.A,{errorName:i.sickLeave})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"No of Days"}),(0,C.jsx)(y.A,{type:"text",register:t,label:"No Of DaysSL",name:"noOfDays",placeholder:"",onChange:e=>n("leave[1].days",e.target.value)}),(0,C.jsx)(w.A,{errorName:i.noOfDays})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Privilege Leave",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(y.A,{type:"text",register:t,label:"Privilege Leave",name:"privilegeLeave",placeholder:"",defaultValue:"Privilege Leave",disabled:!0}),(0,C.jsx)(w.A,{errorName:i.privilegeLeave})]}),(0,C.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,C.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"No of Days"}),(0,C.jsx)(y.A,{type:"text",register:t,label:"No Of Days",name:"noOfDaysPL",onChange:e=>{n("leave[2].days",e.target.value)}}),(0,C.jsx)(w.A,{errorName:i.noOfDaysPL})]})]}),(0,C.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,C.jsx)(b.A,{disabled:o,type:"submit",onClick:l(s),style:{width:"10%"},children:"Submit"})})]})};var F=t(15395);const D=()=>{const{id:e}=(0,l.g)(),{t:a}=(0,o.Bd)(),[t,b]=(0,n.useState)(0),j=[a("general"),a("address"),a("leave")],N=[A,k,L],g=(0,l.Zp)(),y=(0,d.jE)(),{data:w,isError:E,isLoading:S}=(0,m.I)({queryKey:["technician",e],queryFn:()=>(0,p.Lb)(e),enabled:!!e,staleTime:1/0}),D=(0,n.useMemo)((()=>{var e,a,t,n,l,s;return{...w,noOfDaysCL:null===w||void 0===w||null===(e=w.leave)||void 0===e||null===(a=e[0])||void 0===a?void 0:a.days,noOfDays:null===w||void 0===w||null===(t=w.leave)||void 0===t||null===(n=t[1])||void 0===n?void 0:n.days,noOfDaysPL:null===w||void 0===w||null===(l=w.leave)||void 0===l||null===(s=l[2])||void 0===s?void 0:s.days}}),[w]);(0,n.useEffect)((()=>{E&&e&&((0,x.U)("Not able to fetch technician data"),g("/not-found"))}),[E&&e]);const O=e=>(0,x.U)((0,f.SU)(e)),{mutate:I,isPending:V}=(0,u.n)({mutationFn:e=>{let{data:a,id:t}=e;return(0,p.aL)(t,a)},onSuccess:()=>{(0,x.V)("Technician Updated Successfully"),y.invalidateQueries(["technicians"]),y.invalidateQueries(["technician",e]),g("/technician")},onError:O}),{register:T,formState:{errors:B},setValue:P,getValues:M,control:H,handleSubmit:J}=(0,i.mN)({resolver:(0,c.t)(0===t?h.w4:1===t?h.Oj:h.LX),values:D}),{mutate:z,isPending:U}=(0,u.n)({mutationFn:p.Vp,onSuccess:()=>{(0,x.V)("New Technician Created"),y.invalidateQueries(["technicians"]),g("/technician")},onError:O}),q=a=>{t!==j.length-1?b((e=>Math.min(e+1,j.length-1))):e?I({id:e,data:a}):z(a)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.A,{mainTitle:a("technician"),pageTitle:a(e?"edit":"create"),parentTitle:a("technician")}),(0,C.jsx)("div",{className:"m-2 p-2",children:(0,C.jsx)(i.Op,{children:(0,C.jsx)("form",{onSubmit:J(q),children:(0,C.jsx)("div",{className:"default-tab",children:(0,C.jsxs)(s.A.Container,{defaultActiveKey:j[0].toLowerCase(),children:[(0,C.jsx)(r.A,{as:"ul",className:"nav-tabs",children:j.map(((e,a)=>(0,C.jsx)(r.A.Item,{as:"li",children:(0,C.jsx)(r.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:a===t,onClick:()=>b(a),children:e})},a)))}),(0,C.jsx)(s.A.Content,{className:"pt-4",children:S?(0,C.jsx)(F.A,{height:500}):j.map(((e,a)=>{const n=N[a];return(0,C.jsx)(s.A.Pane,{eventKey:e.toLowerCase(),active:a===t,children:(0,C.jsx)(n,{data:j,control:H,setValue:P,register:T,getValues:M,errors:B,handleSubmit:J,onSubmit:q,isFormSubmitting:U||V||S})},a)}))})]})})})})})]})}},13052:(e,a,t)=>{var n=t(65043);function l(e,a,t,n){return new(t||(t=Promise))((function(l,s){function r(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var a;e.done?l(e.value):(a=e.value,a instanceof t?a:new t((function(e){e(a)}))).then(r,i)}c((n=n.apply(e,a||[])).next())}))}function s(e,a){var t,n,l,s,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(r=0)),r;)try{if(t=1,n&&(l=2&i[0]?n.return:i[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,i[1])).done)return l;switch(n=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!((l=(l=r.trys).length>0&&l[l.length-1])||6!==i[0]&&2!==i[0])){r=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){r.label=i[1];break}if(6===i[0]&&r.label<l[1]){r.label=l[1],l=i;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(i);break}l[2]&&r.ops.pop(),r.trys.pop();continue}i=a.call(e,r)}catch(e){i=[6,e],n=0}finally{t=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var r=function(){return l(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/countriesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},i=function(){return l(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/languagesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},c=function(e){return l(void 0,void 0,void 0,(function(){var a,t;return s(this,(function(n){switch(n.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/statesminified.json").then((function(e){return e.json()}))];case 1:return a=n.sent(),[2,(t=a.find((function(a){return a.id===e})))&&t.states?t.states:[]]}}))}))},o=function(e,a){return l(void 0,void 0,void 0,(function(){var t,n,l,r;return s(this,(function(s){switch(s.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/citiesminified.json").then((function(e){return e.json()}))];case 1:return t=s.sent(),(n=t.find((function(a){return a.id===e})))?(l=n&&n.states?n.states:[],[2,(r=l.find((function(e){return e.id===a})))&&r.cities?r.cities:[]]):[2,[]]}}))}))},d=function(){return n.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},n.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},m=function(e){var a=e.placeHolder,t=e.options,l=e.onChange,s=e.inputClassName,r=e.onTextChange,i=e.defaultValue,c=e.showFlag,o=void 0===c||c,m=n.useState(!1),u=m[0],h=m[1],x=n.useState(),f=x[0],p=x[1],v=n.useState(""),b=v[0],j=v[1],N=n.useRef(null),g=n.useRef(null);n.useEffect((function(){i&&p(i)}),[i]),n.useEffect((function(){j(""),u&&N.current&&N.current.focus()}),[u]),n.useEffect((function(){var e=function(e){g.current&&!g.current.contains(e.target)&&h(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var y=function(e){return!!f&&f.id===e.id};return n.createElement("div",{className:"stdropdown-container"},n.createElement("div",{ref:g,onClick:function(){h(!0)},className:"stdropdown-input stsearch-box"},n.createElement("input",{className:s,onChange:function(e){j(e.target.value),p(void 0),r&&r(e)},value:f?"".concat(o&&"emoji"in f?f.emoji:""," ").concat(f.name):b||"",placeholder:a,ref:N}),n.createElement("div",{className:"stdropdown-tools"},n.createElement("div",{className:"stdropdown-tool"},n.createElement(d,null)))),u&&n.createElement("div",{className:"stdropdown-menu"},(b?t.filter((function(e){return e.name.toLowerCase().indexOf(b.toLowerCase())>=0})):t).map((function(e){return n.createElement("div",{onClick:function(){return function(e){p(e),l(e)}(e)},key:e.id,className:"".concat("stdropdown-item"," ").concat(y(e)&&"selected")},o&&n.createElement("span",null,"emoji"in e?e.emoji:"")," ",e.name)}))))},u=function(){return n.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},n.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},h=function(e){var a=e.placeHolder,t=e.options,l=e.onChange,s=e.inputClassName,r=e.onTextChange,i=e.defaultValue,c=e.displayNative,o=n.useState(!1),d=o[0],m=o[1],h=n.useState(),x=h[0],f=h[1],p=n.useState(""),v=p[0],b=p[1],j=n.useRef(null),N=n.useRef(null);n.useEffect((function(){i&&f(i)}),[i]),n.useEffect((function(){b(""),d&&j.current&&j.current.focus()}),[d]),n.useEffect((function(){var e=function(e){N.current&&!N.current.contains(e.target)&&m(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var g=function(e){return!!x&&x.code===e.code};return n.createElement("div",{className:"stdropdown-container"},n.createElement("div",{ref:N,onClick:function(){m(!0)},className:"stdropdown-input stsearch-box"},n.createElement("input",{className:s,onChange:function(e){b(e.target.value),f(void 0),r&&r(e)},value:x?"".concat(c?x.native:x.name):v||"",placeholder:a,ref:j}),n.createElement("div",{className:"stdropdown-tools"},n.createElement("div",{className:"stdropdown-tool"},n.createElement(u,null)))),d&&n.createElement("div",{className:"stdropdown-menu"},(v?t.filter((function(e){return e.name.toLowerCase().indexOf(v.toLowerCase())>=0})):t).map((function(e){return n.createElement("div",{onClick:function(){return function(e){f(e),l(e)}(e)},key:e.code,className:"".concat("stdropdown-item"," ").concat(g(e)&&"selected")},c?e.native:e.name)}))))};a.b3=function(e){var a=e.containerClassName,t=e.inputClassName,l=e.onTextChange,s=e.defaultValue,i=e.onChange,c=e.placeHolder,o=e.showFlag,d=n.useState([]),u=d[0],h=d[1];return n.useEffect((function(){r().then((function(e){h(e)}))}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:a,style:{position:"relative"}},n.createElement(m,{placeHolder:c,options:u,onChange:function(e){i&&i(e)},showFlag:o,onTextChange:l,defaultValue:s,inputClassName:t})))},a.xb=r,a.Wm=c}}]);
//# sourceMappingURL=4246.fdfde484.chunk.js.map