"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3523],{24853:(e,t,a)=>{a.d(t,{I7:()=>r,LF:()=>l,Vz:()=>n,Xu:()=>i,ZS:()=>d,ub:()=>c});var s=a(94505);const n=async()=>{const{data:e}=await s.S.get("/modules");return null===e||void 0===e?void 0:e.data},l=async e=>{let t="/feature-template";void 0!==e&&(t+="?page=".concat(e,"&limit=",10));const{data:a}=await s.S.get(t);return{data:a.data.data,totalPage:a.data.totalPage,totalCount:a.data.totalCount}},r=async e=>await s.S.delete("/feature-template/".concat(e)),i=async e=>await s.S.post("/feature-template",e),c=async e=>await s.S.patch("/feature-template",e),d=async e=>{var t;const{data:a}=await s.S.get("/feature-template/".concat(e));return null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data}},3523:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(65043),n=a(63248),l=a(28261),r=a(99723),i=a(47097),c=a(74117),d=a(35475),o=a(18733),m=a(45350),u=a(42457),h=a(272),p=a(24853),x=a(94692),j=a(40399),g=a(19172),f=a(6720),v=a(60184),b=a(95977),N=a(70579);const y=e=>{let{onConfirmDelete:t,currentPage:a,itemsPerPage:s,tableData:n}=e;const{can:l}=(0,m.A)(),r=l("groups","modify"),i=l("groups","delete"),c=(a-1)*s+1;return(0,N.jsx)(N.Fragment,{children:n.map(((e,a)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:"products d-flex justify-content-center",children:(0,N.jsx)("h6",{children:c+a})})}),(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:"products d-flex justify-content-center",children:(0,N.jsx)("h6",{children:e.name})})}),(r||i)&&(0,N.jsx)("td",{children:(0,N.jsxs)("span",{className:"d-flex justify-content-center",children:[r&&(0,N.jsx)(d.N_,{to:"/groups/edit/".concat(null===e||void 0===e?void 0:e._id),children:(0,N.jsx)("span",{className:"cursor-pointer",children:(0,N.jsx)(v.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),i&&(0,N.jsx)(b.A,{className:"cursor-pointer ",onConfirmDelete:t,id:null===e||void 0===e?void 0:e._id,children:(0,N.jsx)(f.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},a)))})},w=()=>{var e;const{t:t}=(0,c.Bd)(),{can:a}=(0,m.A)(),{page:f,goToPage:v,setCount:b,totalCount:w}=(0,x.A)(),T=(0,n.jE)(),[C,S]=(0,s.useState)(-1),{data:P,isLoading:_,isFetching:E}=(0,l.I)({queryKey:["groups",f],queryFn:()=>(0,p.LF)(f),placeholderData:r.rX,staleTime:1/0}),{mutate:F}=(0,i.n)({onError:e=>(0,u.U)((0,h.SU)(e)),onSuccess:()=>{T.invalidateQueries("groups")},mutationFn:p.I7});(0,s.useEffect)((()=>{P&&b(P.totalCount)}),[P]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(j.A,{mainTitle:t("featureTemplates"),pageTitle:t("featureTemplates"),parentTitle:t("home")}),(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-xl-12",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsx)("div",{className:"card-body p-0",children:(0,N.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,N.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,N.jsx)("h4",{className:"heading mb-0",children:t("featureTemplates")}),(0,N.jsx)("div",{children:a("groups","add")&&(0,N.jsxs)(d.N_,{to:"/groups/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",style:{paddingBlock:"9px"},children:["+ ",t("addNew")]})})]}),(0,N.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,N.jsx)("div",{className:"table-responsive",children:_||E?(0,N.jsx)(o.A,{}):(0,N.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"text-center",children:t("serialNumber")}),(0,N.jsx)("th",{className:"text-center",children:t("templateName")}),(a("groups","modify")||a("groups","delete"))&&(0,N.jsx)("th",{className:"text-center",children:t("action")})]})}),(0,N.jsx)("tbody",{children:(0,N.jsx)(y,{isEditTrue:C,setIsEditTrue:S,tableData:null!==(e=null===P||void 0===P?void 0:P.data)&&void 0!==e?e:[],onConfirmDelete:F,currentPage:f,itemsPerPage:10})})]})}),(0,N.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,N.jsxs)("div",{className:"dataTables_info",children:[t("showing")," ",10*(f-1)+1," ",t("to")," ",Math.min(10*f,w)," ",t("of")," ",w," ",t("entries")]}),(0,N.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,N.jsx)(g.A,{totalCount:w,itemsPerPage:10,handlePageClick:e=>{let{selected:t}=e;v(t+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=3523.536ed056.chunk.js.map