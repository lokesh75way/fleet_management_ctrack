"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3196],{50014:(e,s,t)=>{t.d(s,{A:()=>d});var i=t(65043),a=t(70579);const n=function(e){const{onClick:s,data:t,isActive:i}=e,{title:n,icon:d}=t;return(0,a.jsx)("div",{onClick:s,className:"card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ".concat(i?"active-tab":""),style:{height:"160px",width:"160px",border:i?"1px solid #4C9AFF":"1px solid #E6E6E6"},children:(0,a.jsx)("div",{className:"card-body d-flex align-items-center",children:(0,a.jsxs)("div",{className:"d-flex flex-column align-items-center w-100 pb-2",children:[d&&(0,a.jsx)("span",{className:"card-text text-primary fs-1 mb-2",children:d}),(0,a.jsx)("h6",{className:"card-text text-primary text-center fs-4",children:n})]})})})};const d=function(e){const{tabs:s=[]}=e,[t,d]=(0,i.useState)(s[0]);return(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)("div",{className:"tabs row w-100",children:s.map(((e,s)=>(0,a.jsx)(n,{data:e,isActive:t===e,onClick:()=>{d(e)}},s)))}),t&&(0,a.jsx)("div",{children:t.component})]})}},3196:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var i=t(65043),a=t(9866),n=t(50014),d=t(60184),c=t(38628),r=t(64196),o=t(2364);const l=[{name:"Dashboard",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Business Groups",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Companies",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Branches",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Driver",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Vehicle Tracking",submodules:[{name:"Vechicle Tracking",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]},{name:"Reports",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Geofence",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Classify Trips",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Alert",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Expense",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Technician",submodules:[{name:"Technician Details",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Technician Tasks",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]}],m=JSON.parse(JSON.stringify(l));t(33723),t(53536);var p=t(70579);const h=()=>{const e=JSON.parse(localStorage.getItem("templateData"))||[],[s,t]=(0,i.useState)(e),[a,n]=(0,i.useState)([]),[d,h]=(0,i.useState)(l),[x,u]=(0,i.useState)({groupName:"",groupPermissions:{}}),[g,j]=(0,i.useState)([]),f=(e,s,t,i)=>{let a=[...d];e?(a[t].submodules[i].permissions[s]=!0,h(a)):(a[t].submodules[i].permissions[s]=!1,h(a))},y=(e,s,t)=>{let i=[...d];e?(i[t].permissions[s]=!0,h(i)):(i[t].permissions[s]=!1,h(i))};return console.log(x),console.log("data saved",s),console.log("reset data",m),(0,i.useEffect)((()=>{j(s.map((e=>({value:e.index,label:e.groupName})))),localStorage.setItem("templateData",JSON.stringify(s))}),[s]),(0,p.jsx)("div",{children:(0,p.jsxs)(c.A,{children:[(0,p.jsx)(c.A.Header,{children:(0,p.jsx)(c.A.Title,{children:"Permissions"})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between m-2 mt-4 p-3",children:[(0,p.jsx)("input",{value:x.groupName,name:"groupname",type:"text",className:"p-2",onChange:e=>(e=>{const{value:s}=e.target;u((e=>({...e,groupName:s})))})(e),style:{marginRight:"1rem",border:"#D3D3D3 1px solid",borderRadius:"0.3rem",width:"15rem"},placeholder:"Feature Template Name"}),(0,p.jsxs)("div",{className:"d-flex justify-content-center",style:{width:"25rem"},children:[(0,p.jsx)(o.Ay,{options:g,placeholder:"Select a Feature Template",styles:{control:e=>({...e,width:"18rem"})},children:" "})," ",(0,p.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",padding:"7px 16px"},children:"Copy"})]})]}),(0,p.jsxs)(c.A.Body,{className:"d-flex",children:[(0,p.jsx)("div",{style:{flex:.4,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3  ",borderRadius:"0.5rem"},children:(0,p.jsxs)(r.A,{children:[(0,p.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,p.jsx)("tr",{children:(0,p.jsx)("th",{scope:"col",children:"Module"})})}),(0,p.jsx)("tbody",{children:d.map(((e,s)=>(0,p.jsx)("tr",{children:(0,p.jsxs)("td",{children:[" ",(0,p.jsx)("input",{type:"checkbox",className:"form-check-input ",style:{marginRight:"0.2rem"},name:"create",checked:a.includes(s),onChange:e=>{return t=e.target.checked,i=s,void n(t?[...a,i]:a.filter((e=>e!==i)));var t,i}})," ",e.name]})},s)))})]})}),(0,p.jsx)("div",{style:{flex:1,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3",borderRadius:"0.5rem",marginLeft:"0.2rem"},children:(0,p.jsxs)(r.A,{children:[(0,p.jsx)("thead",{id:"feature_template",style:{position:"sticky",top:0,background:"white"},children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",className:"col-4",style:{width:"150px"},children:"SubModules"}),(0,p.jsx)("th",{scope:"col",children:"Add"}),(0,p.jsx)("th",{scope:"col",children:"View"}),(0,p.jsx)("th",{scope:"col",children:"Modify"}),(0,p.jsx)("th",{scope:"col",children:"Delete"})]})}),(0,p.jsx)("tbody",{className:"feature_template_table",children:a.map(((e,s)=>0==d[e].submodules.length?(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{className:"col-2",style:{width:"130px"},children:[" ",d[e].name]}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:d[e].permissions.add,onChange:s=>y(s.target.checked,s.target.name,e),className:"form-check-input",name:"add"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:d[e].permissions.view,className:"form-check-input",onChange:s=>y(s.target.checked,s.target.name,e),name:"view"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:d[e].permissions.modify,className:"form-check-input",onChange:s=>y(s.target.checked,s.target.name,e),name:"modify"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:d[e].permissions.delete,className:"form-check-input",onChange:s=>y(s.target.checked,s.target.name,e),name:"delete"})})]},s):d[e].submodules.map(((s,t)=>(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{className:"col-2",children:[" ",s.name]}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:s.permissions.add,onChange:s=>f(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"add"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:s.permissions.view,onChange:s=>f(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"view"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:s.permissions.modify,onChange:s=>f(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"modify"})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"checkbox",checked:s.permissions.delete,onChange:s=>f(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"delete"})})]},t)))))})]})})]}),(0,p.jsx)("div",{className:"d-flex justify-content-end  p-3",children:(0,p.jsxs)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",padding:"7px 16px"},onClick:()=>{x.groupName&&(console.log("yeeee heeeeee dataaaaaa",d),u((e=>({...e,groupPermissions:d}))),t([...s,x]),u({groupName:"",groupPermissions:{}}),h(JSON.parse(JSON.stringify(m))))},children:[" ","Save"," "]})})]})})},x=()=>{const e=[{title:"Permission",component:(0,p.jsx)(h,{}),icon:(0,p.jsx)(d.x$1,{})}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.A,{mainTitle:"Permission",pageTitle:"Permission",parentTitle:"Home"}),(0,p.jsx)(n.A,{tabs:e})]})}}}]);
//# sourceMappingURL=3196.b4b68192.chunk.js.map