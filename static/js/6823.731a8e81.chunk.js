(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[6823],{61285:(e,a,l)=>{"use strict";l.d(a,{A:()=>b});var s=l(65043),r=l(14282),t=l(13052),n=l(24858),o=l(2364),m=l(23764),c=l(69367),i=l(86151),d=l(59167),u=(l(80360),l(73216)),x=l(74117),h=l(15075),p=l(70579);const b=e=>{let{setValue:a,getValues:l,register:b,onSubmit:j,handleSubmit:N,errors:g,control:f}=e;const[y,v]=(0,s.useState)({name:"Select State"}),{t:C}=(0,x.Bd)(),{checkRole:A,checkUserName:S}=(0,d.A)(),[w,I]=(0,s.useState)(0),[V,F]=(0,s.useState)(0),[D,k]=(0,s.useState)(),[E,J]=(0,s.useState)(!0),L=localStorage.getItem("role"),O={control:e=>({...e,padding:".25rem 0 "})},T=i.filter((e=>"businessgroup"===e.role)).map((e=>({label:e.userName,value:e.id})));i.filter((e=>"company"===e.role)).map((e=>({label:e.userName,value:e.id})));(0,s.useEffect)((()=>{"businessgroup"===L&&(k(localStorage.getItem("loginDetails-name")),a("parent",localStorage.getItem("loginDetails-name")))}),[]);const{id:G}=(0,u.g)(),M=JSON.parse(localStorage.getItem("userJsonData"));let P=[];G&&(P=M.filter((e=>e.id==G)));const[H,z]=(0,s.useState)(P);return(0,p.jsxs)("div",{className:"p-4",children:[(0,p.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("businessGroup"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),"admin"===A()?(0,p.jsx)(n.xI,{name:"parent",control:f,rules:{required:!0},render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,p.jsx)(o.Ay,{onChange:e=>{k(e.label),a("parent",e.label)},options:T,ref:t,name:r,styles:O})}}):(0,p.jsx)(n.xI,{name:"parent",control:f,rules:{required:!0},render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,p.jsx)(o.Ay,{onChange:e=>{k(e.label),a("parent",e.label)},options:[{value:S(),label:S()}],ref:t,isDisabled:"Admin"!==localStorage.getItem("role"),name:r,styles:O,defaultValue:[{value:S(),label:S()}]})}}),!l("parent")&&(0,p.jsx)(m.A,{errorName:g.parent})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("companyName")," ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"text",register:b,required:!0,label:"User Name",name:"userName",placeholder:"",defaultValue:H[0]?H[0].userName:""}),(0,p.jsx)(m.A,{errorName:g.userName})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("username")," ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"text",register:b,required:!0,label:"User Name2",name:"userName2",placeholder:"",defaultValue:H[0]?H[0].userName2:""}),(0,p.jsx)(m.A,{errorName:g.userName2})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("email"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"email",register:b,label:"Email",name:"email",placeholder:"",defaultValue:H[0]?H[0].email:""}),(0,p.jsx)(m.A,{errorName:g.email})]}),!G&&(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("password"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"password",register:b,name:"password",label:"password",placeholder:"",defaultValue:l("password")}),(0,p.jsx)(m.A,{errorName:g.password})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("helpDeskEmail"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"email",register:b,name:"helpDeskEmail",label:"Help Desk Email",placeholder:"",defaultValue:H[0]?H[0].helpDeskEmail:""}),(0,p.jsx)(m.A,{errorName:g.helpDeskEmail})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("helpDeskTelephoneNumber"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"number",register:b,className:"form-control",label:"Help Desk Telephone Number",name:"helpDeskTelephoneNumber",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},defaultValue:H[0]?H[0].helpDeskTelephoneNumber:"",placeholder:""}),(0,p.jsx)(m.A,{errorName:g.helpDeskTelephoneNumber})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("mobileNumber"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"number",register:b,name:"mobileNumber",label:"Mobile Number",placeholder:"",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},defaultValue:H[0]?H[0].mobileNumber:""}),(0,p.jsx)(m.A,{errorName:g.mobileNumber})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:C("whatsappContactNumber")}),(0,p.jsx)(c.A,{type:"number",register:b,className:"form-control",label:"Whatsapp Contact Number",name:"whatsappContactNumber",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:H[0]?H[0].whatsappContactNumber:""}),(0,p.jsx)(m.A,{errorName:g.whatsappContactNumber})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:[C("country"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(t.b3,{onChange:e=>{console.log(e),v({name:"Select State"}),I(e.id),a("country",e.name),J(!1)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select Country"}),!l("country")&&(0,p.jsx)(m.A,{errorName:g.country})]}),(0,p.jsxs)("div",{className:"".concat(E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,p.jsx)("label",{className:"form-label",children:C("state")}),(0,p.jsx)("div",{style:{background:"white"},children:(0,p.jsx)(t.QO,{countryid:w,onChange:e=>{F(e.id),a("state",e.name)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select State",defaultValue:y})}),!l("state")&&(0,p.jsx)(m.A,{errorName:g.state})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[C("city"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"text",register:b,label:"City",name:"city",placeholder:"",defaultValue:H[0]?H[0].city:""}),(0,p.jsx)(m.A,{errorName:g.city})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:C("zipCode")}),(0,p.jsx)(c.A,{type:"number",register:b,label:"Zip Code",name:"zipCode",placeholder:"",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},defaultValue:H[0]?H[0].zipCode:""}),(0,p.jsx)(m.A,{errorName:g.zipCode})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:C("storageCapacity")}),(0,p.jsx)(n.xI,{name:"storageCapacity",control:f,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,p.jsx)(o.Ay,{onChange:e=>a("storageCapacity",e.value),options:h.my,ref:t,name:r,styles:O,defaultValue:h.my[1]})}}),(0,p.jsxs)("p",{style:{fontStyle:"italic"},children:[C("forMoreThan120DaysPlease")," ",(0,p.jsx)("a",{href:"#",class:"link-primary",children:C("contact")})," ",C("yourAccountManager")]})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[C("street1"),(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.A,{type:"text",register:b,label:"Street1",name:"street1",placeholder:"",defaultValue:H[0]?H[0].street1:""}),(0,p.jsx)(m.A,{errorName:g.street1})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:C("street2")}),(0,p.jsx)(c.A,{type:"text",register:b,label:"Street2",name:"street2",placeholder:""})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,p.jsx)("label",{className:"form-label",children:C("contactPerson")}),(0,p.jsx)(c.A,{type:"text",register:b,label:"Contact Person",name:"contactPerson",placeholder:""})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:C("faxNumber")}),(0,p.jsx)(c.A,{type:"number",register:b,label:"Fax Number",name:"faxNumber",placeholder:""})]}),(0,p.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:C("uploadLogo")}),(0,p.jsx)("input",{type:"file",...b("businessGroupLogo"),label:"Business Group Logo",name:"businessGroupLogo",className:"form-control"}),(0,p.jsx)(m.A,{errorName:g.businessGroupLogo})]})]}),(0,p.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,p.jsxs)(r.A,{type:"submit",onClick:N(j),style:{width:"10%"},children:[" ",C("submit")]})})]})}},26313:(e,a,l)=>{"use strict";l.d(a,{A:()=>x});var s=l(65043),r=l(14282),t=l(69367),n=l(24858),o=l(2364),m=l(88712),c=l(15075),i=l(74117),d=l(23764),u=l(70579);const x=e=>{let{setValue:a,handleSubmit:l,onSubmit:x,errors:h,control:p,register:b}=e;const{t:j}=(0,i.Bd)(),[N,g]=(0,s.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),f={control:e=>({...e,padding:".25rem 0 "})};return(0,u.jsxs)("div",{className:"p-4",children:[(0,u.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("dateFormat")}),(0,u.jsx)(n.xI,{name:"dateFormat",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("dateFormat",e.value),options:c.wJ,ref:t,name:r,styles:f,defaultValue:c.wJ[0]})}}),(0,u.jsx)(d.A,{errorName:h.dateFormat})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("timeFormat")}),(0,u.jsx)(n.xI,{name:"timeFormat",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("timeFormat",e.value),options:c.lD,ref:t,name:r,styles:f,defaultValue:c.lD[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("unitOfDistance")}),(0,u.jsx)(n.xI,{name:"fuelEconomyScaling",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("unitOfDistance",e.value),options:c.jZ,ref:t,name:r,styles:f,defaultValue:c.EE[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("unitOfFuel")}),(0,u.jsx)(n.xI,{name:"unitOfFuel",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("unitOfFuel",e.value),options:c.CG,ref:t,name:r,styles:f,defaultValue:c.CG[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("language")}),(0,u.jsx)(n.xI,{name:"language",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("language",e.value),options:c.Po,ref:t,name:r,styles:f,defaultValue:c.Po[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("status")}),(0,u.jsx)(n.xI,{name:"status",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("status",e.value),options:c.FJ,ref:t,name:r,styles:f,defaultValue:c.FJ[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("worksStartDay")}),(0,u.jsx)(n.xI,{name:"worksstartday",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("worksstartday",e.value),options:c.XH,ref:t,name:r,styles:f,defaultValue:c.XH[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsx)("label",{className:"form-label",children:j("currency")}),(0,u.jsx)(n.xI,{name:"currency",control:p,render:e=>{let{field:{onChange:l,value:s,name:r,ref:t}}=e;return(0,u.jsx)(o.Ay,{onChange:e=>a("currency",e.value),options:c.Ib,ref:t,name:r,styles:f,defaultValue:c.Ib[0]})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,u.jsxs)("label",{className:"form-label",children:[j("timeZone")," "]}),(0,u.jsx)(n.xI,{name:"timezone",control:p,render:e=>{let{field:{onChange:a,value:l,name:s,ref:r}}=e;return(0,u.jsx)(m.Ay,{onChange:g,ref:r,name:s,styles:f,defaultValue:c.CG[0],value:N})}})]}),(0,u.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:j("uploadFile")}),(0,u.jsx)(t.A,{type:"file",register:b,label:"Company Logo",name:"companyLogo",className:"form-control"}),(0,u.jsx)(d.A,{errorName:h.companyLogo})]})]}),(0,u.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,u.jsxs)(r.A,{type:"submit",onClick:l(x),style:{width:"10%"},children:[" ",j("submit")]})})]})}},32690:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>N});var s=l(65043),r=l(44816),t=l(86856),n=l(24858),o=(l(9531),l(9866)),m=l(61285),c=l(26313),i=l(18403),d=l(87742),u=l(59167),x=l(42457),h=l(73216),p=l(11131),b=l(74117),j=l(70579);const N=()=>{const{t:e}=(0,b.Bd)(),{saveData:a}=(0,u.A)(),l=(0,h.Zp)(),{id:N}=(0,h.g)(),[g,f]=(0,s.useState)(0);let y=[e("newCompany"),e("settings"),e("changePassword")],v=[m.A,c.A,p.A];N||(y.pop(),v.pop());const C=y.length,{register:A,formState:{errors:S},setValue:w,getValues:I,control:V,handleSubmit:F}=(0,n.mN)({resolver:(0,i.t)(1===g?d.vE:d.QB)}),D=e=>{if(g===C-1)try{if(N){const a=JSON.parse(localStorage.getItem("userJsonData"));console.log("Id is needed",N,e);const s=a.findIndex((e=>e.id==N));return void(-1!==s&&(a[s]={...e,id:N,role:"company"},localStorage.setItem("userJsonData",JSON.stringify(a)),(0,x.V)("Company Updated!"),l("/company")))}{e={...e,role:"company"};const a=JSON.parse(localStorage.getItem("userJsonData"));return e.id=a.length+1,a.push(e),localStorage.setItem("userJsonData",JSON.stringify(a)),(0,x.V)("New Company Created!"),void l("/company")}}catch(a){(0,x.U)("Some error occured !!")}f((e=>Math.min(e+1,C-1))),(0,x.V)("Saved !")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.A,{mainTitle:e("company"),pageTitle:e(N?"edit":"create"),parentTitle:e("company")}),(0,j.jsx)("div",{className:"m-2 p-2",children:(0,j.jsx)(n.Op,{children:(0,j.jsx)("form",{onSubmit:F(D),children:(0,j.jsx)("div",{className:"default-tab",children:(0,j.jsxs)(r.A.Container,{defaultActiveKey:y[0].toLowerCase(),children:[(0,j.jsx)(t.A,{as:"ul",className:"nav-tabs",children:y.map(((e,a)=>(0,j.jsx)(t.A.Item,{as:"li",children:(0,j.jsx)(t.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:a===g,onClick:()=>f(a),children:e})},a)))}),(0,j.jsx)(r.A.Content,{className:"pt-4",children:y.map(((e,a)=>{const l=v[a];return(0,j.jsx)(r.A.Pane,{eventKey:e.toLowerCase(),active:a===g,children:(0,j.jsx)(l,{data:y,control:V,setValue:w,register:A,getValues:I,errors:S,onSubmit:D,handleSubmit:F})},a)}))})]})})})})})]})}},42634:()=>{}}]);
//# sourceMappingURL=6823.731a8e81.chunk.js.map