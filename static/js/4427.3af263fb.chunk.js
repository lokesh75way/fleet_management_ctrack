"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[4427],{84427:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var s=a(65043),r=a(35475),n=(a(62378),a(71232),a(9866)),t=(a(96610),a(31412)),c=a(6720),o=a(60184),i=a(51359),m=a(70579);const d=e=>{let{tableData:l,onConfirmDelete:a,editDrawerOpen:s}=e;return(0,m.jsx)(m.Fragment,{children:l.map(((e,l)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.id})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"products",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h6",{children:e.vehicle}),(0,m.jsx)("span",{children:"Web Designer"})]})})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.expenseDate})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.amount})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.description})}),(0,m.jsx)("td",{children:(0,m.jsxs)("span",{className:"d-flex justify-content-center",children:[(0,m.jsx)("span",{onClick:()=>s(e.id),className:"cursor-pointer",children:(0,m.jsx)(o.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),(0,m.jsx)(i.A,{className:"cursor-pointer ",onConfirmDelete:a,id:e.id,children:(0,m.jsx)(c.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},l)))})};var x=a(73216),h=a(28086),j=a(31899),b=a.n(j),u=a(2364),p=(a(9531),a(24858)),f=a(23764),N=a(15075),g=a(69367);const v=(0,s.forwardRef)(((e,l)=>{let{Title:a,editData:n,setEditData:t,register:c,setValue:o,getValues:i,handleSubmit:d,onSubmit:j,errors:v,control:y,clearErrors:k}=e;const[D,C]=(0,s.useState)(new Date),[A,w]=(0,s.useState)(new Date),[S,F]=(0,s.useState)(!1),[E,I]=(0,s.useState)(null),[T,_]=(0,s.useState)(!1),[V,B]=(0,s.useState)(null),[M,O]=(0,s.useState)(null),[H,R]=(0,s.useState)();(0,s.useImperativeHandle)(l,(()=>({showModal(){F(!0)}})));(0,x.Zp)();const q=e=>{I(e.target.value),o("category",e.target.value)},L=e=>{B(e.target.value),o("jobAllocation",e.target.value)};(0,s.useEffect)((()=>{!0===S&&(k("branch"),k("category"),k("type"),k("amount"),k("referenceNumber"),o("amount",""),o("referenceNumber",""),o("description",""))}),[S]);const P={control:e=>({...e,padding:".25rem 0 "})};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(h.A,{show:S,onHide:F,className:"offcanvas-end customeoff",placement:"end",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"#gridSystemModal",children:a}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>F(!1),children:(0,m.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,m.jsx)("div",{className:"offcanvas-body",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)(p.Op,{children:(0,m.jsxs)("form",{onSubmit:d(j),children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsxs)("label",{className:"form-label",children:["Branch",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"branch",control:y,render:e=>{let{field:{onChange:l,value:a,name:s,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>{R(e.value),o("branch",e.value)},options:N.V,ref:r,name:s,styles:P,defaultValue:N.V[0]})}}),!i("branch")&&(0,m.jsx)(f.A,{errorName:v.branch})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:["Category",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,m.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"variable",checked:"variable"===E,onChange:q}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:"Variable"})]}),(0,m.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"fix",checked:"fix"===E,onChange:q}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:"Fix"})]})]}),!i("category")&&(0,m.jsx)(f.A,{errorName:v.category})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Consider Job"}),(0,m.jsx)("div",{className:"".concat("variable"!==E?"form-check custom-checkbox mb-3 pe-none":"form-check custom-checkbox mb-3"),children:(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",onClick:()=>_(!T)})})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Job Allocation"}),(0,m.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,m.jsxs)("div",{className:"".concat(T?"form-check custom-checkbox form-check-inline":"form-check custom-checkbox form-check-inline pe-none"),children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"inProgress",checked:"inProgress"===V,onChange:L}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:"In-Progress"})]}),(0,m.jsxs)("div",{className:"".concat(T?"form-check custom-checkbox form-check-inline":"form-check custom-checkbox form-check-inline pe-none"),children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"completed",checked:"completed"===V,onChange:L}),(0,m.jsx)("label",{className:"form-check-label",style:{marginBottom:"0"},children:"Completed"})]})]})]}),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Completed Till"}),(0,m.jsxs)("div",{className:"".concat("completed"!==V?"d-flex align-items-center pe-none":"fd-flex align-items-center"),children:[(0,m.jsx)(p.xI,{name:"startDate",control:y,render:e=>{let{value:l,name:a}=e;return(0,m.jsx)(b(),{selected:i("startDate")||new Date,className:"form-control",onChange:e=>o("startDate",e)})}}),(0,m.jsx)("span",{className:"mx-2",children:"To"}),(0,m.jsx)(p.xI,{name:"endDate",control:y,render:e=>{let{value:l,name:a}=e;return(0,m.jsx)(b(),{selected:i("endDate")||new Date,className:"form-control",onChange:e=>o("endDate",e)})}})]})]})}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Job"}),(0,m.jsx)(p.xI,{name:"job",control:y,render:e=>{let{field:{onChange:l,value:a,name:s,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>o("job",e.value),options:N.wq,ref:r,name:s,styles:P,defaultValue:N.wq[0]})}})]})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,m.jsxs)("label",{className:"form-label",children:["Type",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"type",control:y,render:e=>{let{field:{onChange:l,value:a,name:s,ref:r}}=e;return(0,m.jsx)(u.Ay,{onChange:e=>{R(e.value),o("type",e.value)},options:N.r5,ref:r,name:s,styles:P,defaultValue:N.r5[0]})}}),!i("type")&&(0,m.jsx)(f.A,{errorName:v.type})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"".concat("fix"!==E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:["From Date ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"fromDate",control:y,render:e=>{let{value:l,name:a}=e;return(0,m.jsx)(b(),{selected:i("fromDate")||new Date,className:"form-control",onChange:e=>{R(e),o("fromDate",e)}})}}),!i("fromDate")&&(0,m.jsx)(f.A,{errorName:v.fromDate})]}),(0,m.jsxs)("div",{className:"".concat("fix"!==E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:["To Date ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"toDate",control:y,render:e=>{let{value:l,name:a}=e;return(0,m.jsx)(b(),{selected:i("toDate")||new Date,className:"form-control",onChange:e=>{R(e),o("toDate",e)}})}}),!i("toDate")&&(0,m.jsx)(f.A,{errorName:v.toDate})]})]}),(0,m.jsxs)("div",{className:"".concat("fix"!==E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsxs)("label",{className:"form-label",children:["Expense Date ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(p.xI,{name:"expenseDate",control:y,render:e=>{let{value:l,name:a}=e;return(0,m.jsx)(b(),{selected:i("expenseDate")||new Date,className:"form-control",onChange:e=>o("expenseDate",e)})}}),!i("expenseDate")&&(0,m.jsx)(f.A,{errorName:v.expenseDate})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Amount ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Amount",name:"amount",placeholder:""}),(0,m.jsx)(f.A,{errorName:v.amount})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:["Reference Number ",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Reference Number",name:"referenceNumber",placeholder:""}),(0,m.jsx)(f.A,{errorName:v.referenceNumber})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"".concat("variable"!==E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Odometer"}),(0,m.jsx)(g.A,{type:"number",register:c,label:"Odometer",name:"odometer",placeholder:""})]}),(0,m.jsxs)("div",{className:"".concat("variable"!==E?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Work Hour"}),(0,m.jsx)(g.A,{type:"time",register:c,label:"Work Hour",name:"workHour",placeholder:""})]})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Bill Upload"}),(0,m.jsx)(g.A,{type:"file",register:c,label:"Bill Upload",name:"billUpload",placeholder:""})]}),(0,m.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Description"}),(0,m.jsx)(g.A,{type:"textarea",register:c,label:"Description",name:"description",placeholder:""})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{type:"submit",onClick:()=>{d(j)},className:"btn btn-primary me-1",children:"Submit"}),(0,m.jsx)(r.N_,{to:"#",onClick:()=>F(!1),className:"btn btn-danger light ms-1",children:"Cancel"})]})]})})})})]})})}));var y=a(18403),k=a(87742);const D=e=>{const[l,a]=(0,s.useState)(t.PM),{register:c,setValue:o,getValues:i,handleSubmit:x,clearErrors:h,formState:{errors:j},control:b}=(0,p.mN)({resolver:(0,y.t)(k.gZ)}),[u,f]=(0,s.useState)({id:0,status:"",title:"",contact:0,age:0,drivingExperience:0,gender:"",location:""}),[N,g]=(0,s.useState)(document.querySelectorAll("#employee-tbl_wrapper tbody tr")),D=10,C=(0,s.useRef)(0),[A,w]=(0,s.useState)(0),S=(e,l)=>{for(var a=0;a<N.length;++a)a>=e&&a<l?N[a].classList.remove("d-none"):N[a].classList.add("d-none")};(0,s.useEffect)((()=>{g(document.querySelectorAll("#employee-tbl_wrapper tbody tr"))}),[A]),0===C.current&&S(0,D);let F=Array(Math.ceil(N.length/D)).fill().map(((e,l)=>l+1));const E=e=>{C.current=e,S(C.current*D,(C.current+1)*D),w(e)},I=(0,s.useRef)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{mainTitle:"Expense",pageTitle:"Expense",parentTitle:"Settings"}),(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body p-0",children:(0,m.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,m.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,m.jsx)("h4",{className:"heading mb-0",children:"Expense"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(r.N_,{to:"#",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",onClick:()=>{I.current.showModal(),console.log(I)},children:"+ Add Expense"})," "]})]}),(0,m.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,m.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"ID"}),(0,m.jsx)("th",{children:"Vehicle Name"}),(0,m.jsx)("th",{children:"Expense Date"}),(0,m.jsx)("th",{children:"Amount"}),(0,m.jsx)("th",{children:"Description"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:(0,m.jsx)(d,{editData:u,tableData:l,onConfirmDelete:e=>{const s=l.filter((l=>l.id!==e));a(s)},editDrawerOpen:e=>{l.map((l=>l.id===e&&f(l))),I.current.showModal()},setEditData:f})})]}),(0,m.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,m.jsxs)("div",{className:"dataTables_info",children:["Showing ",C.current*D+1," to"," ",N.length>(C.current+1)*D?(C.current+1)*D:N.length," ","of ",N.length," entries"]}),(0,m.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,m.jsx)(r.N_,{className:"paginate_button previous disabled",to:"/expense",onClick:()=>C.current>0&&E(C.current-1),children:(0,m.jsx)("i",{className:"fa-solid fa-angle-left"})}),(0,m.jsx)("span",{children:F.map(((e,l)=>(0,m.jsx)(r.N_,{to:"/expense",className:"paginate_button  ".concat(C.current===l?"current":""," "),onClick:()=>E(l),children:e},l)))}),(0,m.jsx)(r.N_,{className:"paginate_button next",to:"/expense",onClick:()=>C.current+1<F.length&&E(C.current+1),children:(0,m.jsx)("i",{className:"fa-solid fa-angle-right"})})]})]})]})]})})})})})}),(0,m.jsx)(v,{ref:I,editData:u,register:c,onSubmit:e=>{console.log(e)},setValue:o,getValues:i,setEditData:f,handleSubmit:x,errors:j,control:b,clearErrors:h,Title:0===u.id?"Add Expense":"Edit Expense"})]})}}}]);
//# sourceMappingURL=4427.3af263fb.chunk.js.map