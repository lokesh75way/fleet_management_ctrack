"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[1240],{71240:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(65043),n=t(35475),o=t(9866),i=t(62378),r=t(272),d=(t(15075),t(972)),c=t(74117),u=t(70579);const l=[{invoice:"INV-00001",customer:"Ricky Antony",createdDate:"14 May 2023",parentCompany:"Company4",parentBusiness:"Business Group1",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00002",customer:"Jack John",createdDate:"25 May 2023",parentCompany:"Company4",parentBusiness:"Business Group1",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00003",parentCompany:"Company3",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00004",parentCompany:"Company3",parentBusiness:"Business Group2",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00005",parentCompany:"Company2",parentBusiness:"Business Group2",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00006",parentCompany:"Company2",parentBusiness:"Business Group3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00007",parentCompany:"Company1",parentBusiness:"Business Group3",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-00008",parentCompany:"Company1",parentBusiness:"Business Group3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-00009",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000010",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Jack John",date:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000011",parentCompany:"Company5",parentBusiness:"Business Group4",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000012",parentCompany:"Company1",parentBusiness:"Business Group5",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000013",parentCompany:"Company1",parentBusiness:"Business Group5",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000014",parentCompany:"Company2",parentBusiness:"Business Group5",customer:"Jack John",createdDate:"15 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000015",parentCompany:"Company2",parentBusiness:"Business Group5",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000016",parentCompany:"Company3",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000017",parentCompany:"Company3",customer:"Ricky Antony",parentBusiness:"Business Group1",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000018",parentCompany:"Company4",parentBusiness:"Business Group1",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000019",parentCompany:"Company4",parentBusiness:"Business Group2",customer:"Ricky Antony",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000020",parentBusiness:"Business Group3",parentCompany:"Company2",customer:"Jack John",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000021",parentCompany:"Company2",customer:"Ricky Antony",parentBusiness:"Business Group3",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000022",parentCompany:"Company5",customer:"Jack John",parentBusiness:"Business Group3",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"},{invoice:"INV-000023",parentCompany:"Company2",customer:"Ricky Antony",parentBusiness:"Business Group2",createdDate:"14 May 2023",duedate:"25 May 2023",amount:"105",discount:"5",open:"120",adjust:"0.00",status:"Active"},{invoice:"INV-000024",parentCompany:"Company3",customer:"Jack John",parentBusiness:"Business Group1",createdDate:"25 May 2023",duedate:"01 June 2023",amount:"230",discount:"10",open:"150",adjust:"0.00",status:"Pending"}],m={headers:[{label:"Invoice",key:"invoice"},{label:"Customer",key:"customer"},{label:"Date",key:"date"},{label:"Due Date",key:"duedate"},{label:"Amount",key:"amount"},{label:"Discount",key:"discount"},{label:"Open",key:"open"},{label:"Adjustment",key:"adjust"},{label:"Status",key:"status"}],data:l,filename:"Reports.csv"},p=()=>{const[e,a]=(0,s.useState)({startDate:new Date(0),endDate:new Date(0)}),[t,p]=(0,s.useState)("All Groups"),[y,h]=(0,s.useState)("All Companies"),[j,x]=(0,s.useState)(l),[v,b]=(0,s.useState)(document.querySelectorAll("#report-tblwrapper tbody tr"));(0,s.useEffect)((()=>{if(null!==e&&void 0!==e&&e.startDate&&null!==e&&void 0!==e&&e.endDate){const a=(0,r._o)(null===e||void 0===e?void 0:e.startDate,null===e||void 0===e?void 0:e.endDate,y,t,l);x(a)}}),[null===e||void 0===e?void 0:e.startDate,null===e||void 0===e?void 0:e.endDate,y,t]),(0,s.useEffect)((()=>{x(l)}),[]);const N=10,C=(0,s.useRef)(0),[g,f]=(0,s.useState)(0),D=(e,a)=>{for(var t=0;t<v.length;++t)t>=e&&t<a?v[t].classList.remove("d-none"):v[t].classList.add("d-none")};(0,s.useEffect)((()=>{b(document.querySelectorAll("#report-tblwrapper tbody tr"))}),[g]),0===C.current&&D(0,N);let B=Array(Math.ceil(v.length/N)).fill().map(((e,a)=>a+1));const k=e=>{C.current=e,D(C.current*N,(C.current+1)*N),f(e)},A=(0,s.useRef)(),{t:M}=(0,c.Bd)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{mainTitle:M("reports"),pageTitle:M("generatedReport"),parentTitle:M("home")}),(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-xl-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("div",{className:"card-body p-0",children:(0,u.jsxs)("div",{className:"table-responsive active-projects manage-client",children:[(0,u.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,u.jsx)("h4",{className:"heading mb-0",children:M("generatedReport")}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsxs)(i.CSVLink,{...m,className:"btn btn-primary light btn-sm me-1",children:[(0,u.jsx)("i",{className:"fa-solid fa-file-excel"})," ",M("exportReport")]}),(0,u.jsxs)(n.N_,{to:"#",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",onClick:()=>A.current.showModal(),children:["+ ",M("filter")]})," "]})]}),(0,u.jsxs)("div",{id:"report-tblwrapper",className:"dataTables_wrapper no-footer",children:[(0,u.jsxs)("table",{id:"reports-tbl",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsxs)("th",{children:[M("invoice")," #"]}),(0,u.jsx)("th",{children:M("customer")}),(0,u.jsx)("th",{children:M("date")}),(0,u.jsx)("th",{children:M("dueDate")}),(0,u.jsx)("th",{children:M("amount")}),(0,u.jsx)("th",{children:M("discount")}),(0,u.jsx)("th",{children:M("amountOpen")}),(0,u.jsx)("th",{children:M("adjustment")}),(0,u.jsx)("th",{children:M("status")})]})}),(0,u.jsx)("tbody",{children:j.map(((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(n.N_,{to:"#",className:"text-primary",children:e.invoice})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{children:e.customer})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{children:e.createdDate})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{children:e.duedate})}),(0,u.jsx)("td",{children:(0,u.jsxs)("span",{className:"text-secondary",children:[e.amount," $"]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("span",{className:"text-secondary",children:[e.discount," $"]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("span",{className:"text-secondary",children:[e.open," $"]})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{className:"text-secondary",children:e.adjust})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{className:"badge light border-0 ".concat("Active"===e.status?"badge-success":"badge-danger"),style:{width:"5rem"},children:e.status})})]},a)))})]}),(0,u.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,u.jsxs)("div",{className:"dataTables_info",children:["Showing ",C.current*N+1," to"," ",v.length>(C.current+1)*N?(C.current+1)*N:v.length," ","of ",v.length," entries"]}),(0,u.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,u.jsx)(n.N_,{className:"paginate_button previous disabled",to:"/reports",onClick:()=>C.current>0&&k(C.current-1),children:(0,u.jsx)("i",{className:"fa-solid fa-angle-left"})}),(0,u.jsx)("span",{children:B.map(((e,a)=>(0,u.jsx)(n.N_,{to:"/reports/generated",className:"paginate_button  ".concat(C.current===a?"current":""," "),onClick:()=>k(a),children:e},a)))}),(0,u.jsx)(n.N_,{className:"paginate_button next",to:"/reports/generated",onClick:()=>C.current+1<B.length&&k(C.current+1),children:(0,u.jsx)("i",{className:"fa-solid fa-angle-right"})})]})]})]})]})})})})})}),(0,u.jsx)(d.A,{data:l,ref:A,setBusinessHandler:p,setCompanyHandler:h,setDatehandler:a,Title:"Add Filter"})]})}},972:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(65043),n=t(73216),o=t(28086),i=t(31899),r=t.n(i),d=t(42297),c=(t(9531),t(24858)),u=(t(23764),t(15075)),l=t(272),m=t(70579);const p=(0,s.forwardRef)(((e,a)=>{let{Title:t,editData:i,setEditData:p,setCompanyHandler:y,setDatehandler:h,setBusinessHandler:j,data:x}=e;const{control:v,formState:b}=(0,c.mN)(),[N,C]=(0,s.useState)(!1),[g,f]=(0,s.useState)(new Date(0)),[D,B]=(0,s.useState)(new Date(0)),k=localStorage.getItem("role"),A=localStorage.getItem("loginDetails-name"),M=g.toLocaleDateString(),[J,I]=(0,s.useState)({value:"All Companies",label:"All Companies"}),[w,V]=(0,s.useState)({value:"All Groups",label:"All Groups"});(0,s.useImperativeHandle)(a,(()=>({showModal(){C(!0)}}))),(0,s.useEffect)((()=>{"businessgroup"===k&&(V({value:A,label:A}),j(A)),"company"===k&&(I({value:A,label:A}),y(A));const e=(0,l.UI)(x);f(e.lowestDate),B(e.highestDate),h({startDate:e.lowestDate,endDate:e.highestDate})}),[]);const{register:G,setValue:S,getValues:R,handleSubmit:_}=(0,c.mN)();(0,n.Zp)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(o.A,{show:N,onHide:C,className:"offcanvas-end ",placement:"end",children:[(0,m.jsxs)("div",{className:"offcanvas-header",children:[(0,m.jsx)("h5",{className:"modal-title",id:"#gridSystemModal",children:t}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>C(!1)})]}),(0,m.jsx)("div",{id:"filter_reports",className:"offcanvas-body",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("form",{onSubmit:_((()=>{h({startDate:g,endDate:D}),"admin"===k&&j(w.label),"admin"!==k&&"businessgroup"!==k||y(J.label)})),children:(0,m.jsxs)("div",{className:"container ",children:[(0,m.jsxs)("div",{className:"row w-100 m-2",children:[(0,m.jsxs)("div",{className:"col-12  mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Business Group"}),(0,m.jsx)(c.xI,{name:"Business",control:v,render:e=>{let{field:{onChange:a,value:t,name:s,ref:n}}=e;return(0,m.jsx)(d.Ay,{onChange:e=>{V({value:e.value,label:e.label})},isDisabled:"businessgroup"===k||"company"===k,name:s,menuPosition:"fixed",options:u.Wg,value:w})}})]}),(0,m.jsxs)("div",{className:"col-12  mb-3 ",children:[(0,m.jsx)("label",{className:"form-label",children:"Company"}),(0,m.jsx)(c.xI,{name:"company",control:v,render:e=>{let{field:{onChange:a,value:t,name:s,ref:n}}=e;return(0,m.jsx)(d.Ay,{onChange:e=>{I({value:e.value,label:e.label})},name:s,isDisabled:"company"===k,menuPosition:"fixed",options:u.K7,value:J})}})]}),(0,m.jsxs)("div",{className:"col-12 mb-3",children:[(0,m.jsx)("label",{className:"form-label",children:"Date"}),(0,m.jsx)(c.xI,{name:"dateSelection",control:v,render:e=>{let{value:a,name:t}=e;return(0,m.jsx)(r(),{className:"form-control w-100",startDate:g,endDate:D,selectsRange:!0,onChange:e=>{const[a,t]=e;f(a),B(t)},dateFormat:"dd/MM/yy",placeholderText:M})}})]})]}),(0,m.jsx)("div",{className:"row w-100 m-2",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("button",{type:"submit",onClick:()=>C(!1),className:"btn btn-primary me-1 w-100",children:"Apply"})})})]})})})})]})})}))}}]);
//# sourceMappingURL=1240.6797049a.chunk.js.map