(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[1730],{61730:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>B});var s=t(65043),n=t(73216),l=t(44816),r=t(86856),i=t(24858),c=(t(9531),t(18403)),o=t(74117),d=t(63248),u=t(28261),m=t(47097),x=t(40399),h=t(14282),f=t(77360),b=t(28334),v=t(74805),p=t(92548),j=t(95474),N=t(4437),g=t(70579);const y={control:e=>({...e,padding:".25rem 0 "})},D=e=>{let{setValue:a,register:t,handleSubmit:n,onSubmit:l,getValues:r,errors:c,control:d,isFormSubmitting:u,watch:m}=e;const[x,D]=(0,s.useState)({name:""}),[A,I]=(0,s.useState)(0),[C,$]=(0,s.useState)(!0),{t:w}=(0,o.Bd)(),[S,M]=(0,s.useState)(),[k,O]=(0,s.useState)();return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("businessGroup")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"businessGroupId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:n,ref:l}}=e;return(0,g.jsx)(p.A,{onChange:e=>{e.value!=r("businessGroupId")&&(a("businessGroupId",e.value),M(null),O(null),a("companyId",""),a("branchId",""))},defaultValue:s,customStyles:y,ref:l,name:n})}}),(0,g.jsx)(b.A,{errorName:c.businessGroupId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("company")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"companyId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:n,ref:l}}=e;return(0,g.jsx)(j.A,{groupId:m("businessGroupId"),onChange:e=>{e.value!=r("companyId")&&(a("companyId",e.value),M(e),O(null),a("branchId",""))},defaultValue:s,value:S,customStyles:y,ref:l,name:n})}}),(0,g.jsx)(b.A,{errorName:c.companyId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:w("branch")}),(0,g.jsx)(i.xI,{name:"branchId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:n,ref:l}}=e;return(0,g.jsx)(N.A,{companyId:m("companyId"),groupId:m("businessGroupId"),onChange:e=>{(null===e||void 0===e?void 0:e.value)!=r("branchId")&&(a("branchId",null===e||void 0===e?void 0:e.value),O(e))},defaultValue:s,value:k,customStyles:y,ref:l,isDisabled:!1,name:n})}}),(0,g.jsx)(b.A,{errorName:c.branchId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("firstName"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"text",register:t,label:"First Name",name:"firstName",placeholder:w("firstName"),defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.firstName})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("lastName")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"text",register:t,label:"Last Name",name:"lastName",placeholder:w("lastName"),defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.lastName})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("employeeNumber")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"number",register:t,label:"Employee Number",name:"employeeNumber",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.employeeNumber})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("country")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(f.CountrySelect,{onChange:e=>{D({name:"Select State"}),I(e.id),a("country",e.name),$(!1)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select Country"}),!r("country")&&(0,g.jsx)(b.A,{errorName:c.country})]}),(0,g.jsxs)("div",{className:"".concat(C?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,g.jsx)("label",{className:"form-label",children:w("state")}),(0,g.jsx)("div",{style:{background:"white"},children:(0,g.jsx)(f.StateSelect,{countryid:C?0:A,onChange:e=>{a("state",e.name)},containerClassName:"bg-white",inputClassName:"border border-white customSelectHeight",placeHolder:"Select State",defaultValue:x})})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("city")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"text",register:t,label:"City",name:"city",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.city})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:w("zipCode")}),(0,g.jsx)(v.A,{type:"number",register:t,label:"zipCode",name:"zipCode",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.zipCode})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("street1")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"text",register:t,label:"Street1",name:"street1",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.street1})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:w("street2")}),(0,g.jsx)(v.A,{type:"text",register:t,label:"Street2",name:"street2",placeholder:"",defaultValue:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[w("contactNumber1")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"number",register:t,label:"Contact Number1",name:"contact1",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.contact1})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[w("contactNumber2")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"number",register:t,label:"Contact Number2",name:"contact2",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.contact2})]})]}),(0,g.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",onClick:n(l),style:{width:"10%"},disabled:u,children:[" ",w("next")]})})]})};var A=t(31899),I=t.n(A),C=t(42297),$=t(60446),w=t.n($),S=t(87460);t(43);const M={control:e=>({...e,padding:".25rem 0 "})},k=e=>{let{setValue:a,register:t,handleSubmit:s,onSubmit:n,getValues:l,control:r,errors:c,isFormSubmitting:d,watch:u}=e;const{t:m}=(0,o.Bd)(),x=e=>{const t="yes"===e.target.value;a("licenseAvailable",t)},f=new Date;f.setFullYear(f.getFullYear()-100);const p=new Date,j=e=>{const t=(e=>{if(!e)return null;const a=w()(),t=w()(e);return a.diff(t,"year")})(e);a("age",t)};return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("dateOfBirth"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"dateOfBirth",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("dateOfBirth")?new Date(l("dateOfBirth")):new Date,minDate:f,maxDate:p,className:"form-control customDateHeight",onChange:e=>{a("dateOfBirth",e),j(e)},showYearDropdown:!0,scrollableYearDropdown:!0,popperClassName:"date-picker-reports",yearDropdownItemNumber:50})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("age"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"number",register:t,label:"Age",name:"age",placeholder:"",value:l("age"),disabled:!0}),(0,g.jsx)(b.A,{errorName:c.age})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("dateOfJoining")}),(0,g.jsx)(i.xI,{name:"dateOfJoining",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("dateOfJoining")?new Date(l("dateOfJoining")):new Date,className:"form-control customDateHeight",onChange:e=>{a("dateOfJoining",e)},maxDate:l("dateOfLeaving")})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("dateOfLeaving")}),(0,g.jsx)(i.xI,{name:"dateOfLeaving",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("dateOfLeaving")?new Date(l("dateOfLeaving")):new Date,className:"form-control customDateHeight",onChange:e=>{a("dateOfLeaving",e)},minDate:l("dateOfJoining")})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("drivingExperienceSince"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(v.A,{type:"number",register:t,label:"Driving Experience Since",name:"drivingExperience",placeholder:""}),(0,g.jsx)(b.A,{errorName:c.drivingExperience})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseAvailable"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,g.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,g.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox987",name:"optradioCustom1",value:"yes",checked:u("licenseAvailable"),onChange:x}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox987",style:{marginBottom:"0"},children:m("yes")})]}),(0,g.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,g.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox988",value:"no",checked:!u("licenseAvailable"),onChange:x,name:"optradioCustom1"}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox988",style:{marginBottom:"0"},children:m("no")})]})]})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("licenseNumber")}),(0,g.jsxs)("div",{className:"".concat(l("licenseAvailable")?"d-flex align-items-center":"d-flex align-items-center pe-none"),children:[(0,g.jsx)(v.A,{type:"number",register:t,label:"License Number",style:{marginRight:".5rem"},name:"licenseNumber",placeholder:""}),(0,g.jsx)(b.A,{errorName:c.licenseNumber})]})]}),(0,g.jsxs)("div",{className:"".concat(l("licenseAvailable")?"col-xl-6 mb-3 ":"col-xl-6 mb-3  pe-none"),children:[(0,g.jsx)("label",{className:"form-label",children:m("licenseToDrive")}),(0,g.jsx)(i.xI,{name:"licenseToDrive",control:r,render:e=>{let{field:{onChange:t,value:s,name:n,ref:r}}=e;return(0,g.jsx)(C.Ay,{onChange:e=>a("licenseToDrive",e.value),options:S.rG,ref:r,name:n,styles:M,defaultValue:{value:l("licenseToDrive"),label:l("licenseToDrive")}})}}),!l("licenseToDrive")&&(0,g.jsx)(b.A,{errorName:c.licenseToDrive})]}),(0,g.jsxs)("div",{className:"".concat(l("licenseAvailable")?"col-xl-6 mb-3 d-flex flex-column":"col-xl-6 mb-3 d-flex flex-column  pe-none"),children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseIssueDate"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"licenseIssueDate",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("licenseIssueDate")?new Date(l("licenseIssueDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("licenseIssueDate",e)}})}}),(0,g.jsx)(b.A,{errorName:c.licenseNumber})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseExpiryDate"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"licenseExpiryDate",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("licenseExpiryDate")?new Date(l("licenseExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("licenseExpiryDate",e)}})}})]})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("lifeInsuranceNumber")}),(0,g.jsx)(v.A,{type:"text",register:t,label:"Life Insurance Number",name:"lifeInsuranceNumber",placeholder:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("lifeInsuranceExpiry")}),(0,g.jsx)(i.xI,{name:"lifeInsuranceExpiry",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("lifeInsuranceExpiry")?new Date(l("lifeInsuranceExpiry")):new Date,className:"form-control customDateHeight",onChange:e=>{a("lifeInsuranceExpiry",e)}})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("mediclaimNumber")}),(0,g.jsx)(v.A,{type:"text",register:t,label:"Mediclaim Number",name:"mediclaimNumber",placeholder:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("mediclaimExpiryDate")}),(0,g.jsx)(i.xI,{name:"mediclaimExpiryDate",control:r,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(I(),{selected:l("mediclaimExpiryDate")?new Date(l("mediclaimExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("mediclaimExpiryDate",e)}})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{className:"form-label",children:m("active")}),(0,g.jsx)("div",{className:"d-flex align-items-center",children:(0,g.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",name:"active",checked:u("active"),onClick:()=>{a("active",!l("active"))}})})]})]}),(0,g.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",onClick:s(n),style:{width:"10%"},disabled:d,children:[" ",m("next")]})})]})};var O=t(87407);const F={control:e=>({...e,padding:".25rem 0 "})},E=e=>{let{setValue:a,handleSubmit:t,onSubmit:n,getValues:l,control:r,errors:c,register:d,isFormSubmitting:u}=e;const{fields:m,append:x}=(0,i.jz)({control:r,name:"documents"}),[f,v]=(0,s.useState)(!1),[p,j]=(0,s.useState)([]),{t:N}=(0,o.Bd)(),y=[{value:"DRIVING_LICENSE",label:"DRIVING_LICENSE"},{value:"AADHAR_CARD",label:"AADHAR_CARD"},{value:"PAN_CARD",label:"PAN_CARD"},{value:"BANK_ACCOUNT",label:"BANK_ACCOUNT"},{value:"MEDICLAIM",label:"MEDICLAIM"}];return(0,g.jsx)("div",{className:"p-4",children:(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsx)("div",{className:"col-xl-12 d-flex align-items-center mb-4",children:(0,g.jsxs)(h.A,{onClick:()=>{x({documentType:"",file:null,issueDate:new Date,expireDate:new Date})},className:"ms-auto",children:["+ ",N("addDocument")]})}),m.map(((e,t)=>{var s,n,o,u,m,x,h,D,A;return console.log({item:e}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"row mb-4 ",children:[(0,g.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,g.jsxs)("label",{className:"form-label",children:[N("selectDocument"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"documents.".concat(t,".documentType"),control:r,render:e=>{var s,n;let{field:{value:r,name:i,ref:c}}=e;return(0,g.jsx)(C.Ay,{onChange:e=>{a("documents[".concat(t,"].documentType"),e.value)},options:y,ref:c,name:i,styles:F,defaultValue:{value:null!==(s=l("documents.".concat(t,".documentType")))&&void 0!==s?s:y[1].value,label:null!==(n=l("documents.".concat(t,".documentType")))&&void 0!==n?n:y[1].label}})}}),!l("documents.".concat(t,".documentType"))&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(s=c.documents)||void 0===s||null===(n=s[t])||void 0===n?void 0:n.documentType})]}),(0,g.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,g.jsxs)("label",{className:"form-label",children:[N("uploadFile"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(O.A,{getValue:l,link:null!==(o=l("documents.".concat(t,".file")))&&void 0!==o&&o,register:d,name:"documents.".concat(t,".file"),label:"Select File",defaultValue:"",setValue:a,setLoading:v,loading:f}),(0,g.jsx)(b.A,{errorName:null!==c&&void 0!==c&&null!==(u=c.documents)&&void 0!==u&&null!==(m=u[t])&&void 0!==m&&m.file?"File is required":""})]}),(0,g.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2 ",children:[(0,g.jsx)("label",{className:"form-label",children:N("issueDate")}),(0,g.jsx)(i.xI,{name:"documents.".concat(t,".issueDate"),control:r,render:e=>{let{value:s,name:n}=e;return(0,g.jsx)(I(),{selected:new Date(l("documents.".concat(t,".issueDate"))),className:"form-control customDateHeight",onChange:e=>{if(a("documents.".concat(t,".issueDate"),e),p[t]){let a=[...p];a[t].issueDate=e,j(a)}else{let a=[...p];a[t]={documentType:l("documents.".concat(t,".fieldName")),file:l("documents.".concat(t,".file")),issueDate:e,expireDate:l("documents.".concat(t,".expireDate"))},j(a)}}})}}),!l("documents.".concat(t,".issueDate"))&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(x=c.documents)||void 0===x||null===(h=x[t])||void 0===h?void 0:h.issueDate})]}),(0,g.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2",children:[(0,g.jsx)("label",{className:"form-label",children:N("expiryDate")}),(0,g.jsx)(i.xI,{name:"documents.".concat(t,".expireDate"),control:r,render:e=>{let{value:s,name:n}=e;return(0,g.jsx)(I(),{selected:new Date(l("documents.".concat(t,".expireDate"))),className:"form-control customDateHeight",onChange:e=>{if(a("documents.".concat(t,".expireDate"),e),p[t]){let a=[...p];a[t].expireDate=e,j(a)}else{[...p][t]={documentType:l("documents.".concat(t,".fieldName")),file:l("documents.".concat(t,".file")),issueDate:l("documents.".concat(t,".IssueDate")),expireDate:e}}}})}}),!l("documents.".concat(t,".expireDate"))&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(D=c.documents)||void 0===D||null===(A=D[t])||void 0===A?void 0:A.expireDate})]})]},e.id)})})),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",disabled:u||f,onClick:t(n),children:[" ",N("submit")]})})]})})};var T=t(70228),V=t(42457),L=t(50377),_=t(272),H=t(15395);const B=()=>{const{t:e}=(0,o.Bd)(),a=(0,n.Zp)(),[t,h]=(0,s.useState)(0),f=[e("profile"),e("additionalInfo"),e("document")],b=[D,k,E],v=f.length,{id:p}=(0,n.g)(),j=(0,d.jE)(),{data:N,isError:y,isLoading:A}=(0,u.I)({queryKey:["driver",p],queryFn:()=>(0,L.jF)(p),enabled:!!p,staleTime:1/0}),I=(0,s.useMemo)((()=>{var e,a,t;return{...N,businessGroupId:null===N||void 0===N||null===(e=N.businessGroupId)||void 0===e?void 0:e._id,companyId:null===N||void 0===N||null===(a=N.companyId)||void 0===a?void 0:a._id,branchId:null===N||void 0===N||null===(t=N.branchId)||void 0===t?void 0:t._id}}),[N]);(0,s.useEffect)((()=>{y&&p&&((0,V.U)("Not able to fetch driver data"),a("/not-found"))}),[y&&p]);const C=(0,s.useCallback)((e=>{switch(e){case 0:return T.no;case 1:return T.Ez;case 2:return T.zP}}),[]),{register:$,formState:{errors:w},setValue:S,getValues:M,control:O,handleSubmit:F,watch:B}=(0,i.mN)({resolver:(0,c.t)(C(t)),values:I}),Y=e=>(0,V.U)((0,_.SU)(e)),{mutate:R,isPending:G}=(0,m.n)({mutationFn:L.fO,onSuccess:()=>{(0,V.V)("New Driver Created"),j.invalidateQueries(["drivers"]),a("/driver")},onError:Y}),{mutate:U,isPending:z}=(0,m.n)({mutationFn:e=>{let{data:a,id:t}=e;return(0,L.cI)(t,a)},onSuccess:()=>{(0,V.V)("Driver Updated Successfully"),j.invalidateQueries(["drivers"]),a("/driver")},onError:Y}),J=async e=>{if(t===v-1){const a=(async e=>{for(let t=0;t<v;t++){const s=C(t);try{await s.validate(e)}catch(a){return(0,V.U)("Please check all the fields are filled"),!1}}return!0})(e);if(!a)return;p?U({id:p,data:e}):R(e)}else h((e=>Math.min(e+1,v-1)))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.A,{mainTitle:e("driver"),pageTitle:e(p?"edit":"create"),parentTitle:e("driver")}),(0,g.jsx)("div",{className:"m-2 p-2",children:(0,g.jsx)(i.Op,{children:(0,g.jsx)("form",{onSubmit:F(J),children:(0,g.jsx)("div",{className:"default-tab",children:(0,g.jsxs)(l.A.Container,{defaultActiveKey:f[0].toLowerCase(),children:[(0,g.jsx)(r.A,{as:"ul",className:"nav-tabs",children:f.map(((e,a)=>(0,g.jsx)(r.A.Item,{as:"li",children:(0,g.jsx)(r.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:a===t,onClick:()=>h(a),children:e})},a)))}),(0,g.jsx)(l.A.Content,{className:"pt-4",children:A?(0,g.jsx)(H.A,{height:500}):f.map(((e,a)=>{const s=b[a];return(0,g.jsx)(l.A.Pane,{eventKey:e.toLowerCase(),active:a===t,children:(0,g.jsx)(s,{data:f,control:O,setValue:S,register:$,getValues:M,errors:w,handleSubmit:F,onSubmit:J,isFormSubmitting:z||G,watch:B})},a)}))})]})})})})})]})}},60446:function(e){e.exports=function(){"use strict";var e=1e3,a=6e4,t=36e5,s="millisecond",n="second",l="minute",r="hour",i="day",c="week",o="month",d="quarter",u="year",m="date",x="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var a=["th","st","nd","rd"],t=e%100;return"["+e+(a[(t-20)%10]||a[t]||a[0])+"]"}},v=function(e,a,t){var s=String(e);return!s||s.length>=a?e:""+Array(a+1-s.length).join(t)+e},p={s:v,z:function(e){var a=-e.utcOffset(),t=Math.abs(a),s=Math.floor(t/60),n=t%60;return(a<=0?"+":"-")+v(s,2,"0")+":"+v(n,2,"0")},m:function e(a,t){if(a.date()<t.date())return-e(t,a);var s=12*(t.year()-a.year())+(t.month()-a.month()),n=a.clone().add(s,o),l=t-n<0,r=a.clone().add(s+(l?-1:1),o);return+(-(s+(t-n)/(l?n-r:r-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:u,w:c,d:i,D:m,h:r,m:l,s:n,ms:s,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",N={};N[j]=b;var g="$isDayjsObject",y=function(e){return e instanceof C||!(!e||!e[g])},D=function e(a,t,s){var n;if(!a)return j;if("string"==typeof a){var l=a.toLowerCase();N[l]&&(n=l),t&&(N[l]=t,n=l);var r=a.split("-");if(!n&&r.length>1)return e(r[0])}else{var i=a.name;N[i]=a,n=i}return!s&&n&&(j=n),n||!s&&j},A=function(e,a){if(y(e))return e.clone();var t="object"==typeof a?a:{};return t.date=e,t.args=arguments,new C(t)},I=p;I.l=D,I.i=y,I.w=function(e,a){return A(e,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var C=function(){function b(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var v=b.prototype;return v.parse=function(e){this.$d=function(e){var a=e.date,t=e.utc;if(null===a)return new Date(NaN);if(I.u(a))return new Date;if(a instanceof Date)return new Date(a);if("string"==typeof a&&!/Z$/i.test(a)){var s=a.match(h);if(s){var n=s[2]-1||0,l=(s[7]||"0").substring(0,3);return t?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,l)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,l)}}return new Date(a)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return I},v.isValid=function(){return!(this.$d.toString()===x)},v.isSame=function(e,a){var t=A(e);return this.startOf(a)<=t&&t<=this.endOf(a)},v.isAfter=function(e,a){return A(e)<this.startOf(a)},v.isBefore=function(e,a){return this.endOf(a)<A(e)},v.$g=function(e,a,t){return I.u(e)?this[a]:this.set(t,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,a){var t=this,s=!!I.u(a)||a,d=I.p(e),x=function(e,a){var n=I.w(t.$u?Date.UTC(t.$y,a,e):new Date(t.$y,a,e),t);return s?n:n.endOf(i)},h=function(e,a){return I.w(t.toDate()[e].apply(t.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(a)),t)},f=this.$W,b=this.$M,v=this.$D,p="set"+(this.$u?"UTC":"");switch(d){case u:return s?x(1,0):x(31,11);case o:return s?x(1,b):x(0,b+1);case c:var j=this.$locale().weekStart||0,N=(f<j?f+7:f)-j;return x(s?v-N:v+(6-N),b);case i:case m:return h(p+"Hours",0);case r:return h(p+"Minutes",1);case l:return h(p+"Seconds",2);case n:return h(p+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,a){var t,c=I.p(e),d="set"+(this.$u?"UTC":""),x=(t={},t[i]=d+"Date",t[m]=d+"Date",t[o]=d+"Month",t[u]=d+"FullYear",t[r]=d+"Hours",t[l]=d+"Minutes",t[n]=d+"Seconds",t[s]=d+"Milliseconds",t)[c],h=c===i?this.$D+(a-this.$W):a;if(c===o||c===u){var f=this.clone().set(m,1);f.$d[x](h),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else x&&this.$d[x](h);return this.init(),this},v.set=function(e,a){return this.clone().$set(e,a)},v.get=function(e){return this[I.p(e)]()},v.add=function(s,d){var m,x=this;s=Number(s);var h=I.p(d),f=function(e){var a=A(x);return I.w(a.date(a.date()+Math.round(e*s)),x)};if(h===o)return this.set(o,this.$M+s);if(h===u)return this.set(u,this.$y+s);if(h===i)return f(1);if(h===c)return f(7);var b=(m={},m[l]=a,m[r]=t,m[n]=e,m)[h]||1,v=this.$d.getTime()+s*b;return I.w(v,this)},v.subtract=function(e,a){return this.add(-1*e,a)},v.format=function(e){var a=this,t=this.$locale();if(!this.isValid())return t.invalidDate||x;var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=I.z(this),l=this.$H,r=this.$m,i=this.$M,c=t.weekdays,o=t.months,d=t.meridiem,u=function(e,t,n,l){return e&&(e[t]||e(a,s))||n[t].slice(0,l)},m=function(e){return I.s(l%12||12,e,"0")},h=d||function(e,a,t){var s=e<12?"AM":"PM";return t?s.toLowerCase():s};return s.replace(f,(function(e,s){return s||function(e){switch(e){case"YY":return String(a.$y).slice(-2);case"YYYY":return I.s(a.$y,4,"0");case"M":return i+1;case"MM":return I.s(i+1,2,"0");case"MMM":return u(t.monthsShort,i,o,3);case"MMMM":return u(o,i);case"D":return a.$D;case"DD":return I.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return u(t.weekdaysMin,a.$W,c,2);case"ddd":return u(t.weekdaysShort,a.$W,c,3);case"dddd":return c[a.$W];case"H":return String(l);case"HH":return I.s(l,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return h(l,r,!0);case"A":return h(l,r,!1);case"m":return String(r);case"mm":return I.s(r,2,"0");case"s":return String(a.$s);case"ss":return I.s(a.$s,2,"0");case"SSS":return I.s(a.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(s,m,x){var h,f=this,b=I.p(m),v=A(s),p=(v.utcOffset()-this.utcOffset())*a,j=this-v,N=function(){return I.m(f,v)};switch(b){case u:h=N()/12;break;case o:h=N();break;case d:h=N()/3;break;case c:h=(j-p)/6048e5;break;case i:h=(j-p)/864e5;break;case r:h=j/t;break;case l:h=j/a;break;case n:h=j/e;break;default:h=j}return x?h:I.a(h)},v.daysInMonth=function(){return this.endOf(o).$D},v.$locale=function(){return N[this.$L]},v.locale=function(e,a){if(!e)return this.$L;var t=this.clone(),s=D(e,a,!0);return s&&(t.$L=s),t},v.clone=function(){return I.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},b}(),$=C.prototype;return A.prototype=$,[["$ms",s],["$s",n],["$m",l],["$H",r],["$W",i],["$M",o],["$y",u],["$D",m]].forEach((function(e){$[e[1]]=function(a){return this.$g(a,e[0],e[1])}})),A.extend=function(e,a){return e.$i||(e(a,C,A),e.$i=!0),A},A.locale=D,A.isDayjs=y,A.unix=function(e){return A(1e3*e)},A.en=N[j],A.Ls=N,A.p={},A}()}}]);
//# sourceMappingURL=1730.8d7e8d43.chunk.js.map