(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[9574],{9574:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>B});var s=t(78109),l=t(67236),r=t(36145),n=t(93576),i=t(86554),c=(t(1682),t(53252)),o=t(34571),d=t(4900),u=t(67889),m=t(6986),x=t(32343),h=t(85389),f=t(96004),b=t(75542),p=t(91197),v=t(4860),j=t(63226),N=t(68973),g=t(47337);const y={control:e=>({...e,padding:".25rem 0 "})},D=e=>{let{setValue:a,register:t,handleSubmit:l,onSubmit:r,getValues:n,errors:c,control:d,isFormSubmitting:u,watch:m}=e;const[x,D]=(0,s.useState)({name:""}),[$,A]=(0,s.useState)(0),[I,C]=(0,s.useState)(!0),{t:w}=(0,o.Bd)(),[S,M]=(0,s.useState)(),[k,O]=(0,s.useState)();return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("businessGroup")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"businessGroupId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:l,ref:r}}=e;return(0,g.jsx)(v.A,{onChange:e=>{e.value!=n("businessGroupId")&&(a("businessGroupId",e.value),M(null),O(null),a("companyId",""),a("branchId",""))},defaultValue:s,customStyles:y,ref:r,name:l})}}),(0,g.jsx)(b.A,{errorName:c.businessGroupId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("company")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"companyId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:l,ref:r}}=e;return(0,g.jsx)(j.A,{groupId:m("businessGroupId"),onChange:e=>{e.value!=n("companyId")&&(a("companyId",e.value),M(e),O(null),a("branchId",""))},defaultValue:s,value:S,customStyles:y,ref:r,name:l})}}),(0,g.jsx)(b.A,{errorName:c.companyId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:w("branch")}),(0,g.jsx)(i.xI,{name:"branchId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:t,value:s,name:l,ref:r}}=e;return(0,g.jsx)(N.A,{companyId:m("companyId"),onChange:e=>{e.value!=n("branchId")&&(a("branchId",e.value),O(e))},defaultValue:s,value:k,customStyles:y,ref:r,isDisabled:!1,name:l})}}),(0,g.jsx)(b.A,{errorName:c.branchId})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("firstName"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"text",register:t,label:"First Name",name:"firstName",placeholder:w("firstName"),defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.firstName})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("lastName")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"text",register:t,label:"Last Name",name:"lastName",placeholder:w("lastName"),defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.lastName})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("employeeNumber")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"number",register:t,label:"Employee Number",name:"employeeNumber",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.employeeNumber})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{className:"form-label",children:[w("country")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(f.b3,{onChange:e=>{D({name:"Select State"}),A(e.id),a("country",e.name),C(!1)},containerClassName:"bg-white",inputClassName:"border border-white",placeHolder:"Select Country"}),!n("country")&&(0,g.jsx)(b.A,{errorName:c.country})]}),(0,g.jsxs)("div",{className:""+(I?"col-xl-6 mb-3 pe-none":"col-xl-6 mb-3"),children:[(0,g.jsx)("label",{className:"form-label",children:w("state")}),(0,g.jsx)("div",{style:{background:"white"},children:(0,g.jsx)(f.QO,{countryid:I?0:$,onChange:e=>{a("state",e.name)},containerClassName:"bg-white",inputClassName:"border border-white customSelectHeight",placeHolder:"Select State",defaultValue:x})})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("city")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"text",register:t,label:"City",name:"city",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.city})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:w("zipCode")}),(0,g.jsx)(p.A,{type:"number",register:t,label:"zipCode",name:"zipCode",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.zipCode})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[w("street1")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"text",register:t,label:"Street1",name:"street1",placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.street1})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:w("street2")}),(0,g.jsx)(p.A,{type:"text",register:t,label:"Street2",name:"street2",placeholder:"",defaultValue:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[w("contactNumber1")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"number",register:t,label:"Contact Number1",name:"contact1",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.contact1})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[w("contactNumber2")," ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"number",register:t,label:"Contact Number2",name:"contact2",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},placeholder:"",defaultValue:""}),(0,g.jsx)(b.A,{errorName:c.contact2})]})]}),(0,g.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",onClick:l(r),style:{width:"10%"},disabled:u,children:[" ",w("next")]})})]})};var $=t(75889),A=t.n($),I=t(74563),C=t(38686),w=t.n(C),S=t(20460);t(7804);const M={control:e=>({...e,padding:".25rem 0 "})},k=e=>{let{setValue:a,register:t,handleSubmit:s,onSubmit:l,getValues:r,control:n,errors:c,isFormSubmitting:d,watch:u}=e;const{t:m}=(0,o.Bd)(),x=e=>{const t="yes"===e.target.value;a("licenseAvailable",t)},f=new Date;f.setFullYear(f.getFullYear()-100);const v=new Date,j=e=>{const t=(e=>{if(!e)return null;const a=w()(),t=w()(e);return a.diff(t,"year")})(e);a("age",t)};return(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("dateOfBirth"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"dateOfBirth",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("dateOfBirth")?new Date(r("dateOfBirth")):new Date,minDate:f,maxDate:v,className:"form-control customDateHeight",onChange:e=>{a("dateOfBirth",e),j(e)},showYearDropdown:!0,scrollableYearDropdown:!0,popperClassName:"date-picker-reports",yearDropdownItemNumber:50})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("age"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"number",register:t,label:"Age",name:"age",placeholder:"",value:r("age"),disabled:!0}),(0,g.jsx)(b.A,{errorName:c.age})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("dateOfJoining")}),(0,g.jsx)(i.xI,{name:"dateOfJoining",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("dateOfJoining")?new Date(r("dateOfJoining")):new Date,className:"form-control customDateHeight",onChange:e=>{a("dateOfJoining",e)},maxDate:r("dateOfLeaving")})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("dateOfLeaving")}),(0,g.jsx)(i.xI,{name:"dateOfLeaving",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("dateOfLeaving")?new Date(r("dateOfLeaving")):new Date,className:"form-control customDateHeight",onChange:e=>{a("dateOfLeaving",e)},minDate:r("dateOfJoining")})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("drivingExperienceSince"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(p.A,{type:"number",register:t,label:"Driving Experience Since",name:"drivingExperience",placeholder:""}),(0,g.jsx)(b.A,{errorName:c.drivingExperience})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseAvailable"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,g.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,g.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox987",name:"optradioCustom1",value:"yes",checked:u("licenseAvailable"),onChange:x}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox987",style:{marginBottom:"0"},children:m("yes")})]}),(0,g.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,g.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox988",value:"no",checked:!u("licenseAvailable"),onChange:x,name:"optradioCustom1"}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox988",style:{marginBottom:"0"},children:m("no")})]})]})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("licenseNumber")}),(0,g.jsxs)("div",{className:""+(r("licenseAvailable")?"d-flex align-items-center":"d-flex align-items-center pe-none"),children:[(0,g.jsx)(p.A,{type:"number",register:t,label:"License Number",style:{marginRight:".5rem"},name:"licenseNumber",placeholder:""}),(0,g.jsx)(b.A,{errorName:c.licenseNumber})]})]}),(0,g.jsxs)("div",{className:""+(r("licenseAvailable")?"col-xl-6 mb-3 ":"col-xl-6 mb-3  pe-none"),children:[(0,g.jsx)("label",{className:"form-label",children:m("licenseToDrive")}),(0,g.jsx)(i.xI,{name:"licenseToDrive",control:n,render:e=>{let{field:{onChange:t,value:s,name:l,ref:n}}=e;return(0,g.jsx)(I.Ay,{onChange:e=>a("licenseToDrive",e.value),options:S.rG,ref:n,name:l,styles:M,defaultValue:{value:r("licenseToDrive"),label:r("licenseToDrive")}})}}),!r("licenseToDrive")&&(0,g.jsx)(b.A,{errorName:c.licenseToDrive})]}),(0,g.jsxs)("div",{className:""+(r("licenseAvailable")?"col-xl-6 mb-3 d-flex flex-column":"col-xl-6 mb-3 d-flex flex-column  pe-none"),children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseIssueDate"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"licenseIssueDate",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("licenseIssueDate")?new Date(r("licenseIssueDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("licenseIssueDate",e)}})}}),(0,g.jsx)(b.A,{errorName:c.licenseNumber})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsxs)("label",{className:"form-label",children:[m("licenseExpiryDate"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:"licenseExpiryDate",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("licenseExpiryDate")?new Date(r("licenseExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("licenseExpiryDate",e)}})}})]})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("lifeInsuranceNumber")}),(0,g.jsx)(p.A,{type:"text",register:t,label:"Life Insurance Number",name:"lifeInsuranceNumber",placeholder:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("lifeInsuranceExpiry")}),(0,g.jsx)(i.xI,{name:"lifeInsuranceExpiry",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("lifeInsuranceExpiry")?new Date(r("lifeInsuranceExpiry")):new Date,className:"form-control customDateHeight",onChange:e=>{a("lifeInsuranceExpiry",e)}})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,g.jsx)("label",{className:"form-label",children:m("mediclaimNumber")}),(0,g.jsx)(p.A,{type:"text",register:t,label:"Mediclaim Number",name:"mediclaimNumber",placeholder:""})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,g.jsx)("label",{className:"form-label",children:m("mediclaimExpiryDate")}),(0,g.jsx)(i.xI,{name:"mediclaimExpiryDate",control:n,render:e=>{let{value:t,name:s}=e;return(0,g.jsx)(A(),{selected:r("mediclaimExpiryDate")?new Date(r("mediclaimExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{a("mediclaimExpiryDate",e)}})}})]}),(0,g.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,g.jsx)("label",{className:"form-label",children:m("active")}),(0,g.jsx)("div",{className:"d-flex align-items-center",children:(0,g.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",name:"active",checked:u("active"),onClick:()=>{a("active",!r("active"))}})})]})]}),(0,g.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",onClick:s(l),style:{width:"10%"},disabled:d,children:[" ",m("next")]})})]})};var O=t(75383);const F={control:e=>({...e,padding:".25rem 0 "})},E=e=>{let{setValue:a,handleSubmit:t,onSubmit:l,getValues:r,control:n,errors:c,register:d,isFormSubmitting:u}=e;const{fields:m,append:x}=(0,i.jz)({control:n,name:"documents"}),[f,p]=(0,s.useState)(!1),[v,j]=(0,s.useState)([]),{t:N}=(0,o.Bd)(),y=[{value:"DRIVING_LICENSE",label:"DRIVING_LICENSE"},{value:"AADHAR_CARD",label:"AADHAR_CARD"},{value:"PAN_CARD",label:"PAN_CARD"},{value:"BANK_ACCOUNT",label:"BANK_ACCOUNT"},{value:"MEDICLAIM",label:"MEDICLAIM"}];return(0,g.jsx)("div",{className:"p-4",children:(0,g.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,g.jsx)("div",{className:"col-xl-12 d-flex align-items-center mb-4",children:(0,g.jsxs)(h.A,{onClick:()=>{x({documentType:"",file:null,issueDate:new Date,expireDate:new Date})},className:"ms-auto",children:["+ ",N("addDocument")]})}),m.map(((e,t)=>{var s,l,o,u,m,x,h,D,$;return console.log({item:e}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"row mb-4 ",children:[(0,g.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,g.jsxs)("label",{className:"form-label",children:[N("selectDocument"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(i.xI,{name:`documents.${t}.documentType`,control:n,render:e=>{var s,l;let{field:{value:n,name:i,ref:c}}=e;return(0,g.jsx)(I.Ay,{onChange:e=>{a(`documents[${t}].documentType`,e.value)},options:y,ref:c,name:i,styles:F,defaultValue:{value:null!==(s=r(`documents.${t}.documentType`))&&void 0!==s?s:y[1].value,label:null!==(l=r(`documents.${t}.documentType`))&&void 0!==l?l:y[1].label}})}}),!r(`documents.${t}.documentType`)&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(s=c.documents)||void 0===s||null===(l=s[t])||void 0===l?void 0:l.documentType})]}),(0,g.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,g.jsxs)("label",{className:"form-label",children:[N("uploadFile"),(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(O.A,{getValue:r,link:null!==(o=r(`documents.${t}.file`))&&void 0!==o&&o,register:d,name:`documents.${t}.file`,label:"Select File",defaultValue:"",setValue:a,setLoading:p,loading:f}),(0,g.jsx)(b.A,{errorName:null!==c&&void 0!==c&&null!==(u=c.documents)&&void 0!==u&&null!==(m=u[t])&&void 0!==m&&m.file?"File is required":""})]}),(0,g.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2 ",children:[(0,g.jsx)("label",{className:"form-label",children:N("issueDate")}),(0,g.jsx)(i.xI,{name:`documents.${t}.issueDate`,control:n,render:e=>{let{value:s,name:l}=e;return(0,g.jsx)(A(),{selected:new Date(r(`documents.${t}.issueDate`)),className:"form-control customDateHeight",onChange:e=>{if(a(`documents.${t}.issueDate`,e),v[t]){let a=[...v];a[t].issueDate=e,j(a)}else{let a=[...v];a[t]={documentType:r(`documents.${t}.fieldName`),file:r(`documents.${t}.file`),issueDate:e,expireDate:r(`documents.${t}.expireDate`)},j(a)}}})}}),!r(`documents.${t}.issueDate`)&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(x=c.documents)||void 0===x||null===(h=x[t])||void 0===h?void 0:h.issueDate})]}),(0,g.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2",children:[(0,g.jsx)("label",{className:"form-label",children:N("expiryDate")}),(0,g.jsx)(i.xI,{name:`documents.${t}.expireDate`,control:n,render:e=>{let{value:s,name:l}=e;return(0,g.jsx)(A(),{selected:new Date(r(`documents.${t}.expireDate`)),className:"form-control customDateHeight",onChange:e=>{if(a(`documents.${t}.expireDate`,e),v[t]){let a=[...v];a[t].expireDate=e,j(a)}else{[...v][t]={documentType:r(`documents.${t}.fieldName`),file:r(`documents.${t}.file`),issueDate:r(`documents.${t}.IssueDate`),expireDate:e}}}})}}),!r(`documents.${t}.expireDate`)&&(0,g.jsx)(b.A,{errorName:null===c||void 0===c||null===(D=c.documents)||void 0===D||null===($=D[t])||void 0===$?void 0:$.expireDate})]})]},e.id)})})),(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,g.jsxs)(h.A,{type:"submit",disabled:u||f,onClick:t(l),children:[" ",N("submit")]})})]})})};var T=t(44988),V=t(70529),L=t(97937),_=t(96152),H=t(20811);const B=()=>{const{t:e}=(0,o.Bd)(),a=(0,l.Zp)(),[t,h]=(0,s.useState)(0),f=[e("profile"),e("additionalInfo"),e("document")],b=[D,k,E],p=f.length,{id:v}=(0,l.g)(),j=(0,d.jE)(),{data:N,isError:y,isLoading:$}=(0,u.I)({queryKey:["driver",v],queryFn:()=>(0,L.jF)(v),enabled:!!v,staleTime:1/0}),A=(0,s.useMemo)((()=>{var e,a,t;return{...N,businessGroupId:null===N||void 0===N||null===(e=N.businessGroupId)||void 0===e?void 0:e._id,companyId:null===N||void 0===N||null===(a=N.companyId)||void 0===a?void 0:a._id,branchId:null===N||void 0===N||null===(t=N.branchId)||void 0===t?void 0:t._id}}),[N]);(0,s.useEffect)((()=>{y&&v&&((0,V.U)("Not able to fetch driver data"),a("/not-found"))}),[y&&v]);const I=(0,s.useCallback)((e=>{switch(e){case 0:return T.no;case 1:return T.Ez;case 2:return T.zP}}),[]),{register:C,formState:{errors:w},setValue:S,getValues:M,control:O,handleSubmit:F,watch:B}=(0,i.mN)({resolver:(0,c.t)(I(t)),values:A}),Y=e=>(0,V.U)((0,_.SU)(e)),{mutate:R,isPending:U}=(0,m.n)({mutationFn:L.fO,onSuccess:()=>{(0,V.V)("New Driver Created"),j.invalidateQueries(["drivers"]),a("/driver")},onError:Y}),{mutate:G,isPending:z}=(0,m.n)({mutationFn:e=>{let{data:a,id:t}=e;return(0,L.cI)(t,a)},onSuccess:()=>{(0,V.V)("Driver Updated Successfully"),j.invalidateQueries(["drivers"]),a("/driver")},onError:Y}),J=async e=>{if(t===p-1){const a=(async e=>{for(let t=0;t<p;t++){const s=I(t);try{await s.validate(e)}catch(a){return(0,V.U)("Please check all the fields are filled"),!1}}return!0})(e);if(!a)return;v?G({id:v,data:e}):R(e)}else h((e=>Math.min(e+1,p-1)))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.A,{mainTitle:e("driver"),pageTitle:e(v?"edit":"create"),parentTitle:e("driver")}),(0,g.jsx)("div",{className:"m-2 p-2",children:(0,g.jsx)(i.Op,{children:(0,g.jsx)("form",{onSubmit:F(J),children:(0,g.jsx)("div",{className:"default-tab",children:(0,g.jsxs)(r.A.Container,{defaultActiveKey:f[0].toLowerCase(),children:[(0,g.jsx)(n.A,{as:"ul",className:"nav-tabs",children:f.map(((e,a)=>(0,g.jsx)(n.A.Item,{as:"li",children:(0,g.jsx)(n.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:a===t,onClick:()=>h(a),children:e})},a)))}),(0,g.jsx)(r.A.Content,{className:"pt-4",children:$?(0,g.jsx)(H.A,{height:500}):f.map(((e,a)=>{const s=b[a];return(0,g.jsx)(r.A.Pane,{eventKey:e.toLowerCase(),active:a===t,children:(0,g.jsx)(s,{data:f,control:O,setValue:S,register:C,getValues:M,errors:w,handleSubmit:F,onSubmit:J,isFormSubmitting:z||U,watch:B})},a)}))})]})})})})})]})}},38686:function(e){e.exports=function(){"use strict";var e=1e3,a=6e4,t=36e5,s="millisecond",l="second",r="minute",n="hour",i="day",c="week",o="month",d="quarter",u="year",m="date",x="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var a=["th","st","nd","rd"],t=e%100;return"["+e+(a[(t-20)%10]||a[t]||a[0])+"]"}},p=function(e,a,t){var s=String(e);return!s||s.length>=a?e:""+Array(a+1-s.length).join(t)+e},v={s:p,z:function(e){var a=-e.utcOffset(),t=Math.abs(a),s=Math.floor(t/60),l=t%60;return(a<=0?"+":"-")+p(s,2,"0")+":"+p(l,2,"0")},m:function e(a,t){if(a.date()<t.date())return-e(t,a);var s=12*(t.year()-a.year())+(t.month()-a.month()),l=a.clone().add(s,o),r=t-l<0,n=a.clone().add(s+(r?-1:1),o);return+(-(s+(t-l)/(r?l-n:n-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:u,w:c,d:i,D:m,h:n,m:r,s:l,ms:s,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",N={};N[j]=b;var g="$isDayjsObject",y=function(e){return e instanceof I||!(!e||!e[g])},D=function e(a,t,s){var l;if(!a)return j;if("string"==typeof a){var r=a.toLowerCase();N[r]&&(l=r),t&&(N[r]=t,l=r);var n=a.split("-");if(!l&&n.length>1)return e(n[0])}else{var i=a.name;N[i]=a,l=i}return!s&&l&&(j=l),l||!s&&j},$=function(e,a){if(y(e))return e.clone();var t="object"==typeof a?a:{};return t.date=e,t.args=arguments,new I(t)},A=v;A.l=D,A.i=y,A.w=function(e,a){return $(e,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var I=function(){function b(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=b.prototype;return p.parse=function(e){this.$d=function(e){var a=e.date,t=e.utc;if(null===a)return new Date(NaN);if(A.u(a))return new Date;if(a instanceof Date)return new Date(a);if("string"==typeof a&&!/Z$/i.test(a)){var s=a.match(h);if(s){var l=s[2]-1||0,r=(s[7]||"0").substring(0,3);return t?new Date(Date.UTC(s[1],l,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],l,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(a)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return A},p.isValid=function(){return!(this.$d.toString()===x)},p.isSame=function(e,a){var t=$(e);return this.startOf(a)<=t&&t<=this.endOf(a)},p.isAfter=function(e,a){return $(e)<this.startOf(a)},p.isBefore=function(e,a){return this.endOf(a)<$(e)},p.$g=function(e,a,t){return A.u(e)?this[a]:this.set(t,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,a){var t=this,s=!!A.u(a)||a,d=A.p(e),x=function(e,a){var l=A.w(t.$u?Date.UTC(t.$y,a,e):new Date(t.$y,a,e),t);return s?l:l.endOf(i)},h=function(e,a){return A.w(t.toDate()[e].apply(t.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(a)),t)},f=this.$W,b=this.$M,p=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case u:return s?x(1,0):x(31,11);case o:return s?x(1,b):x(0,b+1);case c:var j=this.$locale().weekStart||0,N=(f<j?f+7:f)-j;return x(s?p-N:p+(6-N),b);case i:case m:return h(v+"Hours",0);case n:return h(v+"Minutes",1);case r:return h(v+"Seconds",2);case l:return h(v+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,a){var t,c=A.p(e),d="set"+(this.$u?"UTC":""),x=(t={},t[i]=d+"Date",t[m]=d+"Date",t[o]=d+"Month",t[u]=d+"FullYear",t[n]=d+"Hours",t[r]=d+"Minutes",t[l]=d+"Seconds",t[s]=d+"Milliseconds",t)[c],h=c===i?this.$D+(a-this.$W):a;if(c===o||c===u){var f=this.clone().set(m,1);f.$d[x](h),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else x&&this.$d[x](h);return this.init(),this},p.set=function(e,a){return this.clone().$set(e,a)},p.get=function(e){return this[A.p(e)]()},p.add=function(s,d){var m,x=this;s=Number(s);var h=A.p(d),f=function(e){var a=$(x);return A.w(a.date(a.date()+Math.round(e*s)),x)};if(h===o)return this.set(o,this.$M+s);if(h===u)return this.set(u,this.$y+s);if(h===i)return f(1);if(h===c)return f(7);var b=(m={},m[r]=a,m[n]=t,m[l]=e,m)[h]||1,p=this.$d.getTime()+s*b;return A.w(p,this)},p.subtract=function(e,a){return this.add(-1*e,a)},p.format=function(e){var a=this,t=this.$locale();if(!this.isValid())return t.invalidDate||x;var s=e||"YYYY-MM-DDTHH:mm:ssZ",l=A.z(this),r=this.$H,n=this.$m,i=this.$M,c=t.weekdays,o=t.months,d=t.meridiem,u=function(e,t,l,r){return e&&(e[t]||e(a,s))||l[t].slice(0,r)},m=function(e){return A.s(r%12||12,e,"0")},h=d||function(e,a,t){var s=e<12?"AM":"PM";return t?s.toLowerCase():s};return s.replace(f,(function(e,s){return s||function(e){switch(e){case"YY":return String(a.$y).slice(-2);case"YYYY":return A.s(a.$y,4,"0");case"M":return i+1;case"MM":return A.s(i+1,2,"0");case"MMM":return u(t.monthsShort,i,o,3);case"MMMM":return u(o,i);case"D":return a.$D;case"DD":return A.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return u(t.weekdaysMin,a.$W,c,2);case"ddd":return u(t.weekdaysShort,a.$W,c,3);case"dddd":return c[a.$W];case"H":return String(r);case"HH":return A.s(r,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return h(r,n,!0);case"A":return h(r,n,!1);case"m":return String(n);case"mm":return A.s(n,2,"0");case"s":return String(a.$s);case"ss":return A.s(a.$s,2,"0");case"SSS":return A.s(a.$ms,3,"0");case"Z":return l}return null}(e)||l.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,m,x){var h,f=this,b=A.p(m),p=$(s),v=(p.utcOffset()-this.utcOffset())*a,j=this-p,N=function(){return A.m(f,p)};switch(b){case u:h=N()/12;break;case o:h=N();break;case d:h=N()/3;break;case c:h=(j-v)/6048e5;break;case i:h=(j-v)/864e5;break;case n:h=j/t;break;case r:h=j/a;break;case l:h=j/e;break;default:h=j}return x?h:A.a(h)},p.daysInMonth=function(){return this.endOf(o).$D},p.$locale=function(){return N[this.$L]},p.locale=function(e,a){if(!e)return this.$L;var t=this.clone(),s=D(e,a,!0);return s&&(t.$L=s),t},p.clone=function(){return A.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},b}(),C=I.prototype;return $.prototype=C,[["$ms",s],["$s",l],["$m",r],["$H",n],["$W",i],["$M",o],["$y",u],["$D",m]].forEach((function(e){C[e[1]]=function(a){return this.$g(a,e[0],e[1])}})),$.extend=function(e,a){return e.$i||(e(a,I,$),e.$i=!0),$},$.locale=D,$.isDayjs=y,$.unix=function(e){return $(1e3*e)},$.en=N[j],$.Ls=N,$.p={},$}()}}]);
//# sourceMappingURL=9574.c5833013.chunk.js.map