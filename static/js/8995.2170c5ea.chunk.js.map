{"version":3,"file":"static/js/8995.2170c5ea.chunk.js","mappings":"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","sources":["jsx/components/Tables/SubCompanyTable.jsx","jsx/pages/company/Branch.js"],"sourcesContent":["import React from 'react'\nimport { MdDelete } from 'react-icons/md'\nimport { FaEdit } from 'react-icons/fa'\nimport DeleteModal from '../Modal/DeleteModal'\nimport { Link } from 'react-router-dom'\nimport { IMAGES,SVGICON} from '../../constant/theme'; \nimport useStorage from '../../../hooks/useStorage'\nimport { usePermissions } from '../../../context/PermissionContext'\n\nconst SubCompanyTable = ({onConfirmDelete,params, tempValue,tempValue2,tableData,editDrawerOpen, setDataLength}) => {\n  var filterData = tableData;\n\n  const {can} = usePermissions()\n  const editPermission = can('branch','modify');\n  const deletePermission = can('branch','delete');\n  if(tempValue!=='All Companies'){\n    filterData = tableData.filter((item)=> item.role === 'branch' && item.parentCompany === tempValue)\n  }\n  if(tempValue2!=='All Branches'){\n    filterData = tableData.filter((item)=> item.role === 'branch' && item.parentBranch === tempValue2)\n  }\n  // console.log(\"this is data after filter\",filterData,tempValue,tempValue2);\n  var branchCount = []\n  for(var i=0;i<filterData.length;i++){\n    const branchName = filterData[i].userName\n    branchCount[i] = filterData.filter((item)=> item.parentBranch === branchName).length\n  }\n  // setDataLength(filterData.length)\n    return (\n      <>\n        {filterData.map((item, index) => (\n          <tr key={index}>\n            <td>\n              <span>{index + 1}</span>\n            </td>\n            <td>\n              <span className=\"text-primary\">{item.branchName}</span>\n            </td>\n            <td>\n              <span >{item.parentBranchId?.branchName ? item.parentBranchId?.branchName :<span className='ps-4'>-</span> }</span>\n            </td>\n            <td>\n              <span >{item.companyId?.companyName ? item.companyId?.companyName : <span className='ps-4'>-</span> }</span>\n            </td>\n            <td>\n              <span >{item.businessGroupId?.groupName ? item.businessGroupId?.groupName : <span className='ps-4'>-</span> }</span>\n            </td>\n            {/* <td>\n              <span>{item.mobileNumber}</span>\n            </td> */}\n            <td>\n              <span>{item.city}</span>\n            </td>\n\n            <td>\n            <Link\n              to={`/branch/bid/${item.id}`}\n              className=\"text-primary badge light border-0 badge-count\"\n            >\n              {branchCount[index]}\n            </Link>\n          </td>\n            {(editPermission || deletePermission) && <td>\n              <span className=\"d-flex justify-content-center\">\n                {editPermission && <span\n                  className=\"cursor-pointer\"\n                  onClick={() => editDrawerOpen(item._id)}\n                >\n                  <FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} />\n                </span>}\n                {deletePermission && <DeleteModal\n                  className=\"cursor-pointer \"\n                  onConfirmDelete={onConfirmDelete}\n                  id={item._id}\n                >\n                  <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                </DeleteModal>}\n              </span>\n            </td>}\n          </tr>\n        ))}\n      </>\n    );\n}\n\nexport default SubCompanyTable","import React, { useState, useRef, useEffect } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport MainPagetitle from \"../../layouts/MainPagetitle\";\nimport SubCompanyTable from \"../../components/Tables/SubCompanyTable\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport AsyncSelect from \"react-select/async\";\nimport useStorage from \"../../../hooks/useStorage\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { clsx } from \"clsx\";\n\nimport { useContext } from \"react\";\nimport { ThemeContext } from \"../../../context/ThemeContext\";\nimport { usePermissions } from \"../../../context/PermissionContext\";\nimport {\n  getAllBranch,\n  createBranch,\n  deleteBranch,\n} from \"../../../services/api/BranchServices\";\nimport { notifySuccess } from \"../../../utils/toast\";\nimport usePagination from \"../../../hooks/usePagination\";\nimport { getCompany } from \"../../../services/api/CompanyServices\";\nimport CompanyDropdown from \"../../components/CompanyDropdown\";\nimport BranchDropdown from \"../../components/BranchDropdown\";\nimport { getSelectValues } from \"../../../utils/helper\";\nimport ParentBranchDropdown from \"../../components/ParentBranch\";\n\n// import { SubCompanyData } from '../../components/Tables/Tables';\n\nconst Branch = () => {\n  const { isRtl } = useContext(ThemeContext);\n  const arrowleft = clsx({\n    \"fa-solid fa-angle-right\": isRtl,\n    \"fa-solid fa-angle-left\": !isRtl,\n  });\n  const arrowright = clsx({\n    \"fa-solid fa-angle-left\": isRtl,\n    \"fa-solid fa-angle-right\": !isRtl,\n  });\n  const { can, setUserPermission } = usePermissions();\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const params = useParams();\n\n  const [selectFilter, setFilter] = useState({\n    value: \"All Companies\",\n    label: \"All Companies\",\n  });\n  const [selectFilter2, setFilter2] = useState({\n    value: \"All Branches\",\n    label: \"All Branches\",\n  });\n  const [tempValue, setTempValue] = useState(\"All Companies\");\n  const [tempValue2, setTempValue2] = useState(\"All Branches\");\n  const [data, setData] = useState(\n    document.querySelectorAll(\"#employee-tbl_wrapper tbody tr\")\n  );\n  const customStyles = {\n    control: (base) => ({\n      ...base,\n      marginRight: \"1rem\",\n      marginLeft: \"1rem\",\n      width: \"15rem\",\n      height: \"0.6rem\",\n      menuPortal: (provided) => ({ ...provided, zIndex: 9999 }),\n      menu: (provided) => ({ ...provided, zIndex: 9999 }),\n    }),\n  };\n  const loggedinUser = localStorage.getItem(\"loginDetails-name\");\n  // const SubCompanyData = JSON.parse( localStorage.getItem('branchData'));\n  const role = localStorage.getItem(\"role\");\n  const { control, setValue, getValues, watch } = useForm();\n  const userData = JSON.parse(localStorage.getItem(\"userJsonData\"));\n  const SubCompanyData = userData.filter((item) => item.role === \"branch\");\n  const [companyId, setCompanyId] = useState(null);\n  const [tableData, setTableData] = useState([]);\n  const [editData, setEditData] = useState({\n    id: 0,\n    reseller: \"\",\n    contact: 0,\n    username: \"\",\n    status: \"\",\n    location: \"\",\n    usergroup: \"\",\n    branches: 0,\n  });\n  const [companyDropdown, setCompanyDropdown] = useState({\n    label: \"All Companies\",\n    value: \"All Companies\",\n  });\n  const [branchDropdown, setBranchDropdown] = useState({\n    label: \"All Branches\",\n    value: \"All Branches\",\n  });\n  const [companies, setCompanies] = useState([]);\n  const [branches, setBranches] = useState([]);\n  const [selectedCompany, setSelectedCompany] = useState(null);\n  const [selectedBranch, setSelectedBranch] = useState(null);\n  const defaultValues = getSelectValues();\n  const { page, nextPage, prevPage, goToPage, setCount, totalCount, setPage } =\n    usePagination();\n\n  const fetchAllBranch = async (page, CompanyId, branchId) => {\n    try {\n      if (CompanyId) {\n        const { data, success } = await getAllBranch(undefined, CompanyId);\n        setTableData(data.data);\n        setCount(data.totalCount);\n        setBranches(data.data);\n      } else if (branchId) {\n        const { data, success } = await getAllBranch(\n          undefined,\n          undefined,\n          branchId\n        );\n        setTableData(data.data);\n        setCount(data.totalCount);\n        setBranches(data.data);\n      } else {\n        const { data, success } = await getAllBranch(page);\n        const permissions = JSON.parse(localStorage.getItem('permission'));\n        setUserPermission(permissions?.[0]?.permission);\n        setTableData(data.data);\n        setCount(data.totalCount);\n        // setBranches(data.data);\n      }\n    } catch (error) {\n      console.log(\"Error in fetching data\", error);\n    }\n  };\n  useEffect(() => {\n    fetchAllBranch(page);\n  }, [page]);\n\n  const filteredBranches = branches.filter(\n    (branch) =>\n      selectedCompany && branch.companyId._id === selectedCompany.value\n  );\n\n  const branchOptions = filteredBranches.map((branch) => ({\n    value: branch._id,\n    label: branch.branchName,\n  }));\n\n  const handleCompanyChange = (selectedOption) => {\n\n    setSelectedCompany(selectedOption);\n    setFilter(selectedOption);\n    setCompanyId(selectedOption.value);\n    setPage(1);\n    fetchAllBranch(1, selectedOption.value);\n  };\n\n  // Handler function for branch selection\n  const handleBranchChange = (branchOption) => {\n\n    setSelectedBranch(branchOption);\n    setFilter2(branchOption);\n    setPage(1);\n    fetchAllBranch(1, undefined, branchOption.value);\n  };\n  const handleClearFilter = () => {\n    fetchAllBranch();\n    setCompanyId(null);\n    setValue(\"company\", \"\");\n    setValue(\"parent\", \"\");\n    setCompanyDropdown({\n      label : \"All companies\",\n      value : \"All companies\"\n    })\n  };\n\n  const onConfirmDelete = async (id) => {\n    await deleteBranch(id);\n    notifySuccess(\"Branch Deleted\");\n    await fetchAllBranch();\n  };\n\n  const editDrawerOpen = (item) => {\n    const filteredData = tableData.filter((data) => data._id === item);\n    navigate(`edit/${item}`, { state: filteredData });\n    \n  };\n\n  const d = JSON.parse(localStorage.getItem(\"userJsonData\"));\n\n  useEffect(() => {\n    if (role === \"admin\") return;\n    else if (role === \"businessgroup\") {\n      const filteredData = SubCompanyData.filter(\n        (item) => item.parentBusinessGroup === loggedinUser\n      );\n      setTableData(filteredData);\n    } else if (role === \"company\") {\n      const filteredData = SubCompanyData.filter(\n        (item) => item.parentCompany === loggedinUser\n      );\n      setTableData(filteredData);\n    }\n  }, [loggedinUser, role, SubCompanyData]);\n\n  return (\n    <>\n      <MainPagetitle\n        mainTitle=\"Branch\"\n        pageTitle={\"Branch\"}\n        parentTitle={\"Home\"}\n      />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"branches\")}</h4>\n                    <div className=\"d-flex align-items-center\">\n                      <Link\n                        className=\"btn  btn-xxs\"\n                        data-bs-toggle=\"offcanvas\"\n                        onClick={handleClearFilter}\n                        style={{\n                          background: \"gray\",\n                          border: \"gray\",\n                          color: \"white\",\n                        }}\n                      >\n                        Clear\n                      </Link>\n                      <Controller\n                        name=\"company\"\n                        control={control}\n                        rules={{ required: true }}\n                        render={({ field: { onChange, value, name, ref } }) => (\n                          <CompanyDropdown\n                          \n                            onChange={async (newValue) => {\n                              setValue(\"company\", newValue.value);\n                              setCompanyId(newValue.value);\n                              handleCompanyChange(newValue);\n\n                            }}\n                            key={companyId}\n                            value={value? value : companyDropdown}\n                            customStyles={customStyles}\n                            name={name}\n                            ref={ref}\n                            isDisabled={false}\n                          />\n                        )}\n                      />\n                      <Controller\n                        name=\"parent\"\n                        control={control}\n                        rules={{ required: true }}\n                        render={({ field: { onChange, value, name, ref } }) => (\n                          <ParentBranchDropdown\n                            key={companyId}\n                            onChange={(newValue) => {\n                              setValue(\"parent\", newValue.value);\n                              \n                              handleBranchChange(newValue);\n                            }}\n                            companyId={companyId}\n                            // value={[{\n                            //   label: \"Choose Branch\",\n                            //   value: \"Choose Branch\",\n                            // }]}\n                            value={value? value : branchDropdown}\n                            customStyles={customStyles}\n                            ref={ref}\n                            name={name}\n                            isDisabled={false}\n                          />\n                        )}\n                      />\n                      {can(\"branch\", \"add\") && (\n                        <Link\n                          to={\"/branch/create\"}\n                          className=\"btn btn-primary btn-sm ms-1\"\n                          style={{ paddingBlock: \"9px\" }}\n                          data-bs-toggle=\"offcanvas\"\n                          // onClick={()=>subCompany.current.showModal()}\n                        >\n                          + {t(\"addBranch\")}\n                        </Link>\n                      )}{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    <table\n                      id=\"empoloyees-tblwrapper\"\n                      className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                    >\n                      <thead>\n                        <tr>\n                          <th>{t(\"id\")}</th>\n                          <th>{t(\"branchName\")}</th>\n                          <th>{t(\"parentBranch\")}</th>\n                          <th>{t(\"companyName\")}</th>\n                          <th>{t(\"businessGroup\")}</th>\n                          {/* <th>{t('mobileNumber')}</th> */}\n                          <th>{t(\"location\")}</th>\n                          <th>{t(\"childBranches\")}</th>\n                          {(can(\"branch\", \"modify\") ||\n                            can(\"branch\", \"delete\")) && <th>{t(\"action\")}</th>}\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <SubCompanyTable\n                          key={tableData}\n                          tempValue={tempValue}\n                          // setDataLength={setDataLength}\n                          tempValue2={tempValue2}\n                          editData={editData}\n                          tableData={tableData}\n                          onConfirmDelete={onConfirmDelete}\n                          editDrawerOpen={editDrawerOpen}\n                          setEditData={setEditData}\n                        />\n                      </tbody>\n                    </table>\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Link\n                          className={`paginate_button ${\n                            page === 1 ? \"previous disabled\" : \"previous\"\n                          }`}\n                          to=\"/branch\"\n                          onClick={() => prevPage(page - 1)}\n                        >\n                          <i className={arrowleft} />\n                        </Link>\n                        <span>\n                          {[...Array(Math.ceil(totalCount / 10)).keys()].map(\n                            (number) => (\n                              <Link\n                                key={number}\n                                className={`paginate_button ${\n                                  page === number + 1 ? \"current\" : \"\"\n                                }`}\n                                onClick={() => goToPage(number + 1)}\n                              >\n                                {number + 1}\n                              </Link>\n                            )\n                          )}\n                        </span>\n                        <Link\n                          className={`paginate_button ${\n                            page * 10 >= totalCount ? \"next disabled\" : \"next\"\n                          }`}\n                          to=\"/branch\"\n                          onClick={() => nextPage(page + 1)}\n                        >\n                          <i className={arrowright} />\n                        </Link>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* <SubCompanyOffcanvas\n                ref={subCompany}\n                editData={editData}\n                setEditData={setEditData}\n                handleSubmit={handleSubmit}\n                Title={ editData.id === 0 ? \"Add Branch\" : \"Edit Branch\"}\n            /> */}\n    </>\n  );\n};\nexport default Branch;\n"],"names":["_ref","onConfirmDelete","params","tempValue","tempValue2","tableData","editDrawerOpen","setDataLength","filterData","can","usePermissions","editPermission","deletePermission","filter","item","role","parentCompany","parentBranch","branchCount","i","length","branchName","userName","_jsx","_Fragment","children","map","index","_item$parentBranchId","_item$parentBranchId2","_item$companyId","_item$companyId2","_item$businessGroupId","_item$businessGroupId2","_jsxs","className","parentBranchId","companyId","companyName","businessGroupId","groupName","city","Link","to","concat","id","onClick","_id","FaEdit","style","color","fontSize","DeleteModal","MdDelete","Branch","isRtl","useContext","ThemeContext","arrowleft","clsx","arrowright","setUserPermission","t","useTranslation","navigate","useNavigate","selectFilter","setFilter","useParams","useState","value","label","selectFilter2","setFilter2","setTempValue","setTempValue2","data","setData","document","querySelectorAll","customStyles","control","base","marginRight","marginLeft","width","height","menuPortal","provided","zIndex","menu","loggedinUser","localStorage","getItem","setValue","getValues","watch","useForm","SubCompanyData","JSON","parse","setCompanyId","setTableData","editData","setEditData","reseller","contact","username","status","location","usergroup","branches","companyDropdown","setCompanyDropdown","branchDropdown","setBranchDropdown","companies","setCompanies","setBranches","selectedCompany","setSelectedCompany","selectedBranch","setSelectedBranch","page","nextPage","prevPage","goToPage","setCount","totalCount","setPage","getSelectValues","usePagination","fetchAllBranch","async","CompanyId","branchId","success","getAllBranch","undefined","_permissions$","permissions","permission","error","console","log","useEffect","branch","filteredData","parentBusinessGroup","MainPagetitle","mainTitle","pageTitle","parentTitle","handleClearFilter","background","border","Controller","name","rules","required","render","field","onChange","ref","CompanyDropdown","selectedOption","newValue","isDisabled","_ref2","ParentBranchDropdown","branchOption","paddingBlock","SubCompanyTable","deleteBranch","notifySuccess","state","Math","min","Array","ceil","keys","number"],"sourceRoot":""}