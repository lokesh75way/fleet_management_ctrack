"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[2604],{52604:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var t=a(65043),l=a(35475),n=a(9866),i=a(73216),r=a(6720),c=a(60184),d=a(51359),o=(a(71232),a(10966)),m=a(70579);const p=e=>{let{tableData:s,currentPage:a,itemsPerPage:t,onConfirmDelete:l,editDrawerOpen:n}=e;const{can:i}=(0,o.S)(),p=i("subUser","modify"),h=i("subUser","delete"),x=(a-1)*t+1;return(0,m.jsx)(m.Fragment,{children:s.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:x+s})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"text-primary",children:e.userName})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.mobileNumber})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.email})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.country})}),(p||h)&&(0,m.jsx)("td",{children:(0,m.jsxs)("span",{className:"d-flex justify-content-center",children:[p&&(0,m.jsx)("span",{className:"cursor-pointer",onClick:()=>n(e._id),children:(0,m.jsx)(c.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),h&&(0,m.jsx)(d.A,{className:"cursor-pointer ",onConfirmDelete:l,id:e._id,children:(0,m.jsx)(r.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},s)))})};var h=a(58387),x=a(74117),g=a(78919),j=a(33723),u=(a(42457),a(59167)),b=a(94692),f=a(92157),N=a.n(f);const v=()=>{const{t:e}=(0,x.Bd)(),{isRtl:s}=(0,t.useContext)(j.D),{can:a,setUserPermission:r}=(0,o.S)(),[c,d]=((0,h.$)({"fa-solid fa-angle-right":s,"fa-solid fa-angle-left":!s}),(0,h.$)({"fa-solid fa-angle-left":s,"fa-solid fa-angle-right":!s}),(0,t.useState)(!0)),{page:f,nextPage:v,prevPage:y,goToPage:S,setCount:C,totalCount:U}=(0,b.A)();(0,t.useEffect)((()=>{(async()=>{var e;d(!0);const{data:s,count:a}=await(0,g.wz)(f),t=JSON.parse(localStorage.getItem("permission"));r(null===t||void 0===t||null===(e=t[0])||void 0===e?void 0:e.permission),I(s),C(a),d(!1)})()}),[f]);const k=(0,i.Zp)(),{checkRole:w,checkUserName:P}=(0,u.A)(),D=(w(),P()),T=JSON.parse(localStorage.getItem("userJsonData")),_=JSON.parse(localStorage.getItem("userDetails"));"COMPANY"===w()?T.filter((e=>"USER"===e.role&&"STAFF"===e.type&&e.companyId===_.user.companyId)):"BUSINESS_GROUP"===w()?T.filter((e=>"user"===e.role&&"businessgroup"===e.type&&e.parent===D)):"SUPER_ADMIN"===w()?T.filter((e=>"USER"===e.role&&"STAFF"===e.type)):"USER"===w()&&T.filter((e=>"USER"===e.role&&"STAFF"===e.type&&e.companyId===_.user.companyId));const[E,I]=(0,t.useState)([]),F=10*(f-1);E.slice(F,F+10);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{mainTitle:"User",pageTitle:"User",parentTitle:"Home"}),(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body p-0",children:(0,m.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,m.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,m.jsx)("h4",{className:"heading mb-0",children:e("users")}),(0,m.jsxs)("div",{children:[a("subUser","add")&&(0,m.jsxs)(l.N_,{to:"/subUser/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",children:["+ ",e("addUser")]})," "]})]}),(0,m.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,m.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:e("id")}),(0,m.jsx)("th",{children:e("username")}),(0,m.jsx)("th",{children:e("mobileNumber")}),(0,m.jsx)("th",{children:e("email")}),(0,m.jsx)("th",{children:e("location")}),(a("subUser","modify")||a("subUser","delete"))&&(0,m.jsx)("th",{children:e("action")})]})}),(0,m.jsx)("tbody",{children:(0,m.jsx)(p,{currentPage:f,itemsPerPage:10,tableData:E,onConfirmDelete:async e=>{await(0,g.hG)(e)},editDrawerOpen:e=>{k("/subUser/edit/".concat(e))}},E)})]}),(0,m.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,m.jsxs)("div",{className:"dataTables_info",children:[e("showing")," ",10*(f-1)+1," ",e("to")," ",Math.min(10*f,U)," ",e("of")," ",U," ",e("entries")]}),(0,m.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,m.jsx)(N(),{previousLabel:(0,m.jsx)("i",{className:"fa-solid fa-angle-left"}),nextLabel:(0,m.jsx)("i",{className:"fa-solid fa-angle-right"}),breakLabel:"...",pageCount:Math.ceil(U/10),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e=>{let{selected:s}=e;S(s+1)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=2604.2df1847d.chunk.js.map