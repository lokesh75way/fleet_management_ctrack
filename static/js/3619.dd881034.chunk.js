"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3619],{23619:(e,a,s)=>{s.r(a),s.d(a,{default:()=>S});var l=s(65043),r=(s(16295),s(2364)),t=(s(84391),s(99419)),n=s(12023),c=s(76036),o=s(13318),i=s(62559),d=s(22816),m=s(70579);const x=()=>{const[e,a]=l.useState({type:"FeatureCollection",features:[]});return(0,m.jsx)("div",{style:{display:"flex",height:"85vh"},children:(0,m.jsx)("div",{style:{width:"100%"},children:(0,m.jsxs)(t.W,{center:[25.2233,55.2869],zoom:14,zoomControl:!1,children:[(0,m.jsx)(n.e,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),(0,m.jsxs)(c.p,{styles:{background:"red"},position:[25.2233,55.2869],children:[(0,m.jsx)(o.z,{children:"Dubai Trade Center"}),(0,m.jsx)(i.m,{children:"Dubai Trade Center"})]}),(0,m.jsx)(d.A,{geojson:e,setGeojson:a})]})})})};var u=s(69367),h=s(24858),g=s(18403),p=s(87742),f=s(15075),j=s(14282),b=s(23764),N=s(42457),v=s(73216),y=s(74117);const S=()=>{const[e,a]=(0,l.useState)(null),[s,t]=(0,l.useState)(),n=(0,v.Zp)(),{id:c}=(0,v.g)(),o={control:e=>({...e,padding:".25rem 0 "})},i={lat:-3.745,lng:-38.523},[d,S]=(0,l.useState)(null),{register:C,formState:{errors:k},setValue:A,getValues:F,control:D,handleSubmit:w}=(l.useCallback((function(e){const a=new window.google.maps.LatLngBounds(i);e.fitBounds(a),S(e)}),[i]),l.useCallback((function(e){S(null)}),[]),(0,h.mN)({resolver:(0,g.t)(p._8)})),V=e=>{a(e.target.value),A("geofenceAccess",e.target.value)},I=e=>{try{if(c){const a=JSON.parse(localStorage.getItem("geofenceData")),s=a.findIndex((e=>e.id==c));return void(-1!==s&&(a[s]={...e,id:c},localStorage.setItem("geofenceData",JSON.stringify(a)),(0,N.V)("Geofence Updated!"),n("/vehicle-tracking")))}{e={...e};const a=JSON.parse(localStorage.getItem("geofenceData"));return e.id=a.length+1,a.push(e),localStorage.setItem("geofenceData",JSON.stringify(a)),(0,N.V)("New Geofence Created!"),void n("/vehicle-tracking")}}catch(a){(0,N.U)("Some error occured !!")}},O=JSON.parse(localStorage.getItem("geofenceData")).filter((e=>e.id==c)),[z,J]=(0,l.useState)(O),{t:L}=(0,y.Bd)();return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{style:{padding:"10px",backgroundColor:"#FFFDFD"},children:(0,m.jsxs)("h2",{style:{fontSize:"20px"},children:[L("geofenceDetail"),"l"]})}),(0,m.jsxs)("div",{className:"",style:{display:"flex",height:"88vh"},children:[(0,m.jsx)("div",{className:"col-md-3",style:{padding:"15px",boxShadow:"9px 0 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff",overflow:"auto"},children:(0,m.jsx)(h.Op,{children:(0,m.jsxs)("form",{onSubmit:w(I),children:[(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsxs)("label",{htmlFor:"company",className:"form-label",children:[L("company"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(u.A,{type:"text",name:"company",register:C,label:"Company",defaultValue:z[0]?z[0].company:""}),(0,m.jsx)(b.A,{errorName:k.company})]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsxs)("label",{htmlFor:"company",className:"form-label",children:[L("name"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(u.A,{type:"text",label:"Name",register:C,name:"name",defaultValue:z[0]?z[0].name:""}),(0,m.jsx)(b.A,{errorName:k.name})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:[L("category"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(h.xI,{name:"category",control:D,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:l,ref:n}}=e;return(0,m.jsx)(r.Ay,{onChange:e=>{t(e.value),A("category",e.value)},options:f.rF,ref:n,name:l,styles:o,defaultValue:z[0]?z[0].name:f.rF[0]})}}),!F("category")&&(0,m.jsx)(b.A,{errorName:k.category})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:[L("geofenceAccess"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5rem"},children:[(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"public",checked:"public"===e,onChange:V}),(0,m.jsx)("label",{className:"form-check-label",children:L("public")})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",value:"private",checked:"private"===e,onChange:V}),(0,m.jsx)("label",{className:"form-check-label",children:L("private")})]})]}),!F("geofenceAccess")&&(0,m.jsx)(b.A,{errorName:k.geofenceAccess})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"contactNumber",className:"form-label",children:[L("contactNumber"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(u.A,{type:"number",register:C,label:"Contact Number",name:"contactNumber",min:"0",onInput:e=>{const a=Math.max(0,e.target.value);e.target.value=a<1?"":a},defaultValue:z[0]?z[0].contactNumber:""}),(0,m.jsx)(b.A,{errorName:k.contactNumber})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"address",className:"form-label",children:[L("address"),":"]}),(0,m.jsx)("textarea",{className:"form-control",...C("address"),label:"Address",name:"address",defaultValue:z[0]?z[0].address:""})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:[L("tolerance"),":",(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),(0,m.jsx)(h.xI,{name:"tolerance",control:D,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:l,ref:n}}=e;return(0,m.jsx)(r.Ay,{onChange:e=>{t(e.value),A("tolerance",e.value)},options:f.gY,ref:n,name:l,styles:o,defaultValue:z[0]?z[0].name:f.gY[0]})}}),!F("tolerance")&&(0,m.jsx)(b.A,{errorName:k.tolerance})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{className:"form-label",children:[L("description"),":"]}),(0,m.jsx)("textarea",{className:"form-control",...C("description"),name:"description",label:"Description",defaultValue:z[0]?z[0].description:""})]}),(0,m.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,m.jsxs)(j.A,{type:"submit",onClick:w(I),children:[" ",L("next")]})})]})})}),(0,m.jsx)("div",{className:"col-md-9",style:{paddingLeft:"15px"},children:(0,m.jsx)(x,{})})]})]})}}}]);
//# sourceMappingURL=3619.dd881034.chunk.js.map