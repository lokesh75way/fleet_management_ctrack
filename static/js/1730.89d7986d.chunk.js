(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[1730],{79055:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var n=a(65043),l=a(13052),s=a(28334),r=a(74805),i=a(42297),c=a(85756),o=a(74117),u=a(70579);const d=e=>{let{countryCode:t,customStyle:a,setValue:l,id:s,dValues:r,Comptype:d}=e;const{t:m}=(0,o.Bd)(),[h,x]=(0,n.useState)([]),[f,v]=(0,n.useState)(null);(0,n.useEffect)((()=>{const e=c.Ay.getCountry(t);if(e){const t=e.timezones;t&&t.length>0&&(x(t.map((e=>({label:"(GMT ".concat(b(e),") ").concat(e," "),value:e})))),v({label:"(GMT ".concat(b(t[0]),") ").concat(t[0]," "),value:t[0]}),l("timezone",t[0]))}}),[t]),(0,n.useEffect)((()=>{if(r&&s){var e,t;const a="companyId"===d?null===(e=r.companyId)||void 0===e?void 0:e.timezone:"businessGroupId"===d?null===(t=r.businessGroupId)||void 0===t?void 0:t.timezone:r.timezone;l("timezone",a),a&&(v({label:"(GMT ".concat(b(a),") ").concat(a),value:a}),console.log(f,"hi"))}}),[r,s]);const b=e=>{const t=c.Ay.getTimezone(e).utcOffset,a=Math.abs(Math.floor(t/60)),n=Math.abs(t%60);return"".concat(t>=0?"+":"-").concat(a,":").concat(n.toString().padStart(2,"0"))};return(0,u.jsxs)("div",{className:"col-xl-3",children:[(0,u.jsxs)("label",{htmlFor:"timezone",children:[m("timezone"),":"]}),(0,u.jsx)(i.Ay,{id:"timezone",value:f,styles:a,onChange:e=>{l("timezone",e.value),v(e)},options:h})]})},m={control:e=>({...e,padding:".25rem 0 "})},h=e=>{let{register:t,setValue:a,errors:c,getValues:h,locationData:x,dValues:f,id:v,showCity:b,Comptype:p,showtimeZone:j=!0}=e;const{t:g}=(0,o.Bd)(),[y,N]=(0,n.useState)(null),[D,A]=(0,n.useState)(null),[I,S]=(0,n.useState)([]),[C,w]=(0,n.useState)([]),[$,M]=(0,n.useState)("IND");(0,n.useEffect)((()=>{(0,l.xb)().then((e=>{S(e)}))}),[]),(0,n.useEffect)((()=>{if(v){if(null!==f&&void 0!==f&&f.city&&a("city",f.city),null!==f&&void 0!==f&&f.country){a("country",f.country);const e=V.find((e=>e.value==(null===f||void 0===f?void 0:f.country)));e&&k(e)}null!==f&&void 0!==f&&f.state&&(a("state",f.state||""),A({value:f.state,label:f.state||""}))}else{var e,t,n,s,r,i,c,o;N({value:null===x||void 0===x||null===(e=x.country)||void 0===e?void 0:e.isoAlpha3,label:null===x||void 0===x||null===(t=x.country)||void 0===t?void 0:t.isoName}),a("country",null===x||void 0===x||null===(n=x.country)||void 0===n?void 0:n.isoAlpha3),M(null===x||void 0===x||null===(s=x.country)||void 0===s?void 0:s.isoAlpha2),A({value:null===x||void 0===x||null===(r=x.location)||void 0===r?void 0:r.principalSubdivision,label:(null===x||void 0===x||null===(i=x.location)||void 0===i?void 0:i.principalSubdivision)||""}),a("state",(null===x||void 0===x||null===(c=x.location)||void 0===c?void 0:c.principalSubdivision)||"");const u=E(null===x||void 0===x||null===(o=x.country)||void 0===o?void 0:o.isoAlpha3);(0,l.Wm)(u).then((e=>{w(e)}))}}),[x,v,f]);const E=e=>{const t=I.find((t=>t.iso3===e));return t?t.id:null},k=async e=>{const t=e.value,n=E(t),s=I.find((e=>e.iso3===t));M(s.iso2),a("country",t),N({value:t,label:s.name}),w([]),A({value:"",label:""});const r=await(0,l.Wm)(n);w(r)},O=e=>"United Arab Emirates"===(null===y||void 0===y?void 0:y.label)&&e.name.endsWith(" Emirate")?e.name.replace(" Emirate",""):e.name,V=I.map((e=>({value:e.iso3,label:e.name}))),T=C.map((e=>({value:e.name,label:O(e)})));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:g("country")}),(0,u.jsx)(i.Ay,{options:V,value:y,styles:m,onChange:k},y),!y&&(0,u.jsx)(s.A,{errorName:c.country})]}),(0,u.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:g("state")}),(0,u.jsx)(i.Ay,{options:T,value:D,styles:m,onChange:e=>{const t=e.value,n=C.find((e=>e.name===t));"United Arab Emirates"===(null===y||void 0===y?void 0:y.label)&&null!==n&&void 0!==n&&n.name.endsWith(" Emirate")&&(n.name=n.name.replace(" Emirate","")),a("state",n.name),A({value:n.name,label:n.name})}},D),!D&&(0,u.jsx)(s.A,{errorName:c.state})]}),b&&(0,u.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:g("city")}),(0,u.jsx)(r.A,{type:"text",register:t,label:"City",name:"city",placeholder:"",defaultValue:h("city")}),(0,u.jsx)(s.A,{errorName:c.city})]}),b&&j&&(0,u.jsx)(d,{setValue:a,id:v,countryCode:$,customStyle:m,Comptype:p})]})}},61730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(65043),l=a(73216),s=a(44816),r=a(86856),i=a(24858),c=(a(9531),a(18403)),o=a(74117),u=a(63248),d=a(28261),m=a(47097),h=a(40399),x=a(14282),f=a(28334),v=a(74805),b=a(92548),p=a(95474),j=a(4437),g=a(79055),y=a(75636),N=a(70579);const D={control:e=>({...e,padding:".25rem 0 "})},A=e=>{let{setValue:t,register:a,handleSubmit:s,onSubmit:r,getValues:c,errors:u,control:d,isFormSubmitting:m,watch:h}=e;const[A,I]=(0,n.useState)({name:""}),[S,C]=(0,n.useState)(0),[w,$]=(0,n.useState)(!0),{t:M}=(0,o.Bd)(),[E,k]=(0,n.useState)(),[O,V]=(0,n.useState)(),{location:T,error:F}=(0,y.A)(),{id:L}=(0,l.g)();return(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,N.jsx)("div",{children:F&&(0,N.jsx)("p",{children:F})}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[M("businessGroup")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"businessGroupId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:a,value:n,name:l,ref:s}}=e;return(0,N.jsx)(b.A,{onChange:e=>{e.value!=c("businessGroupId")&&(t("businessGroupId",e.value),k(null),V(null),t("companyId",""),t("branchId",""))},defaultValue:n,customStyles:D,ref:s,name:l})}}),(0,N.jsx)(f.A,{errorName:u.businessGroupId})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[M("company")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"companyId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:a,value:n,name:l,ref:s}}=e;return(0,N.jsx)(p.A,{groupId:h("businessGroupId"),onChange:e=>{e.value!=c("companyId")&&(t("companyId",e.value),k(e),V(null),t("branchId",""))},defaultValue:n,value:E,customStyles:D,ref:s,name:l})}}),(0,N.jsx)(f.A,{errorName:u.companyId})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsx)("label",{className:"form-label",children:M("branch")}),(0,N.jsx)(i.xI,{name:"branchId",control:d,rules:{required:!0},render:e=>{let{field:{onChange:a,value:n,name:l,ref:s}}=e;return(0,N.jsx)(j.A,{companyId:h("companyId"),groupId:h("businessGroupId"),onChange:e=>{(null===e||void 0===e?void 0:e.value)!=c("branchId")&&(t("branchId",null===e||void 0===e?void 0:e.value),V(e))},defaultValue:n,value:O,customStyles:D,ref:s,isDisabled:!1,name:l})}}),(0,N.jsx)(f.A,{errorName:u.branchId})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[M("firstName"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"text",register:a,label:"First Name",name:"firstName",placeholder:M("firstName"),defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.firstName})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[M("lastName")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"text",register:a,label:"Last Name",name:"lastName",placeholder:M("lastName"),defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.lastName})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[M("employeeNumber")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"number",register:a,label:"Employee Number",name:"employeeNumber",placeholder:"",defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.employeeNumber})]}),(0,N.jsx)(g.A,{register:a,setValue:t,dValues:{country:c("country"),state:c("state"),city:c("city")},errors:u,getValues:c,locationData:T,id:L,showCity:!0,showtimeZone:!1,Comptype:""}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsx)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:M("zipCode")}),(0,N.jsx)(v.A,{type:"number",register:a,label:"zipCode",name:"zipCode",min:"0",onInput:e=>{const t=Math.max(0,e.target.value);e.target.value=t<1?"":t},placeholder:"",defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.zipCode})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsxs)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:[M("street1")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"text",register:a,label:"Street1",name:"street1",placeholder:"",defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.street1})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:M("street2")}),(0,N.jsx)(v.A,{type:"text",register:a,label:"Street2",name:"street2",placeholder:"",defaultValue:""})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[M("contactNumber1")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"number",register:a,label:"Contact Number1",name:"contact1",min:"0",onInput:e=>{const t=Math.max(0,e.target.value);e.target.value=t<1?"":t},placeholder:"",defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.contact1})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsxs)("label",{htmlFor:"exampleFormControlInput4",className:"form-label",children:[M("contactNumber2")," ",(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"number",register:a,label:"Contact Number2",name:"contact2",min:"0",onInput:e=>{const t=Math.max(0,e.target.value);e.target.value=t<1?"":t},placeholder:"",defaultValue:""}),(0,N.jsx)(f.A,{errorName:u.contact2})]})]}),(0,N.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,N.jsxs)(x.A,{type:"submit",onClick:s(r),style:{width:"10%"},disabled:m,children:[" ",M("next")]})})]})};var I=a(31899),S=a.n(I),C=a(42297),w=a(60446),$=a.n(w),M=a(87460);a(43);const E={control:e=>({...e,padding:".25rem 0 "})},k=e=>{let{setValue:t,register:a,handleSubmit:n,onSubmit:l,getValues:s,control:r,errors:c,isFormSubmitting:u,watch:d}=e;const{t:m}=(0,o.Bd)(),h=e=>{const a="yes"===e.target.value;t("licenseAvailable",a)},b=new Date;b.setFullYear(b.getFullYear()-100);const p=new Date,j=e=>{const a=(e=>{if(!e)return null;const t=$()(),a=$()(e);return t.diff(a,"year")})(e);t("age",a)};return(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsxs)("label",{className:"form-label",children:[m("dateOfBirth"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"dateOfBirth",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("dateOfBirth")?new Date(s("dateOfBirth")):new Date,minDate:b,maxDate:p,className:"form-control customDateHeight",onChange:e=>{t("dateOfBirth",e),j(e)},showYearDropdown:!0,scrollableYearDropdown:!0,popperClassName:"date-picker-reports",yearDropdownItemNumber:50})}})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[m("age"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"number",register:a,label:"Age",name:"age",placeholder:"",value:s("age"),disabled:!0}),(0,N.jsx)(f.A,{errorName:c.age})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsx)("label",{className:"form-label",children:m("dateOfJoining")}),(0,N.jsx)(i.xI,{name:"dateOfJoining",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("dateOfJoining")?new Date(s("dateOfJoining")):new Date,className:"form-control customDateHeight",onChange:e=>{t("dateOfJoining",e)},maxDate:s("dateOfLeaving")})}})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsx)("label",{className:"form-label",children:m("dateOfLeaving")}),(0,N.jsx)(i.xI,{name:"dateOfLeaving",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("dateOfLeaving")?new Date(s("dateOfLeaving")):new Date,className:"form-control customDateHeight",onChange:e=>{t("dateOfLeaving",e)},minDate:s("dateOfJoining")})}})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsxs)("label",{className:"form-label",children:[m("drivingExperienceSince"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(v.A,{type:"number",register:a,label:"Driving Experience Since",name:"drivingExperience",placeholder:""}),(0,N.jsx)(f.A,{errorName:c.drivingExperience})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsxs)("label",{className:"form-label",children:[m("licenseAvailable"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsxs)("div",{className:"basic-form",style:{marginTop:".5rem"},children:[(0,N.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,N.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox987",name:"optradioCustom1",value:"yes",checked:d("licenseAvailable"),onChange:h}),(0,N.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox987",style:{marginBottom:"0"},children:m("yes")})]}),(0,N.jsxs)("div",{className:"form-check custom-checkbox form-check-inline",children:[(0,N.jsx)("input",{type:"radio",className:"form-check-input",id:"customRadioBox988",value:"no",checked:!d("licenseAvailable"),onChange:h,name:"optradioCustom1"}),(0,N.jsx)("label",{className:"form-check-label",htmlFor:"customRadioBox988",style:{marginBottom:"0"},children:m("no")})]})]})]}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsx)("label",{className:"form-label",children:m("licenseNumber")}),(0,N.jsxs)("div",{className:"".concat(s("licenseAvailable")?"d-flex align-items-center":"d-flex align-items-center pe-none"),children:[(0,N.jsx)(v.A,{type:"number",register:a,label:"License Number",style:{marginRight:".5rem"},name:"licenseNumber",placeholder:""}),(0,N.jsx)(f.A,{errorName:c.licenseNumber})]})]}),(0,N.jsxs)("div",{className:"".concat(s("licenseAvailable")?"col-xl-6 mb-3 ":"col-xl-6 mb-3  pe-none"),children:[(0,N.jsx)("label",{className:"form-label",children:m("licenseToDrive")}),(0,N.jsx)(i.xI,{name:"licenseToDrive",control:r,render:e=>{let{field:{onChange:a,value:n,name:l,ref:r}}=e;return(0,N.jsx)(C.Ay,{onChange:e=>t("licenseToDrive",e.value),options:M.rG,ref:r,name:l,styles:E,defaultValue:{value:s("licenseToDrive"),label:s("licenseToDrive")}})}}),!s("licenseToDrive")&&(0,N.jsx)(f.A,{errorName:c.licenseToDrive})]}),(0,N.jsxs)("div",{className:"".concat(s("licenseAvailable")?"col-xl-6 mb-3 d-flex flex-column":"col-xl-6 mb-3 d-flex flex-column  pe-none"),children:[(0,N.jsxs)("label",{className:"form-label",children:[m("licenseIssueDate"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"licenseIssueDate",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("licenseIssueDate")?new Date(s("licenseIssueDate")):new Date,className:"form-control customDateHeight",onChange:e=>{t("licenseIssueDate",e)}})}}),(0,N.jsx)(f.A,{errorName:c.licenseNumber})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsxs)("label",{className:"form-label",children:[m("licenseExpiryDate"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"licenseExpiryDate",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("licenseExpiryDate")?new Date(s("licenseExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{t("licenseExpiryDate",e)}})}})]})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsx)("label",{className:"form-label",children:m("lifeInsuranceNumber")}),(0,N.jsx)(v.A,{type:"text",register:a,label:"Life Insurance Number",name:"lifeInsuranceNumber",placeholder:""})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsx)("label",{className:"form-label",children:m("lifeInsuranceExpiry")}),(0,N.jsx)(i.xI,{name:"lifeInsuranceExpiry",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("lifeInsuranceExpiry")?new Date(s("lifeInsuranceExpiry")):new Date,className:"form-control customDateHeight",onChange:e=>{t("lifeInsuranceExpiry",e)}})}})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 ",children:[(0,N.jsx)("label",{className:"form-label",children:m("mediclaimNumber")}),(0,N.jsx)(v.A,{type:"text",register:a,label:"Mediclaim Number",name:"mediclaimNumber",placeholder:""})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3 d-flex flex-column",children:[(0,N.jsx)("label",{className:"form-label",children:m("mediclaimExpiryDate")}),(0,N.jsx)(i.xI,{name:"mediclaimExpiryDate",control:r,render:e=>{let{value:a,name:n}=e;return(0,N.jsx)(S(),{selected:s("mediclaimExpiryDate")?new Date(s("mediclaimExpiryDate")):new Date,className:"form-control customDateHeight",onChange:e=>{t("mediclaimExpiryDate",e)}})}})]}),(0,N.jsxs)("div",{className:"col-xl-6 mb-3",children:[(0,N.jsx)("label",{className:"form-label",children:m("active")}),(0,N.jsx)("div",{className:"d-flex align-items-center",children:(0,N.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",name:"active",checked:d("active"),onClick:()=>{t("active",!s("active"))}})})]})]}),(0,N.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,N.jsxs)(x.A,{type:"submit",onClick:n(l),style:{width:"10%"},disabled:u,children:[" ",m("next")]})})]})};var O=a(87407);const V={control:e=>({...e,padding:".25rem 0 "})},T=e=>{let{setValue:t,handleSubmit:a,onSubmit:l,getValues:s,control:r,errors:c,register:u,isFormSubmitting:d}=e;const{fields:m,append:h}=(0,i.jz)({control:r,name:"documents"}),[v,b]=(0,n.useState)(!1),[p,j]=(0,n.useState)([]),{t:g}=(0,o.Bd)(),y=[{value:"DRIVING_LICENSE",label:"DRIVING_LICENSE"},{value:"AADHAR_CARD",label:"AADHAR_CARD"},{value:"PAN_CARD",label:"PAN_CARD"},{value:"BANK_ACCOUNT",label:"BANK_ACCOUNT"},{value:"MEDICLAIM",label:"MEDICLAIM"}];return(0,N.jsx)("div",{className:"p-4",children:(0,N.jsxs)("div",{className:"row",style:{width:"70%",margin:"auto"},children:[(0,N.jsx)("div",{className:"col-xl-12 d-flex align-items-center mb-4",children:(0,N.jsxs)(x.A,{onClick:()=>{h({documentType:"",file:null,issueDate:new Date,expireDate:new Date})},className:"ms-auto",children:["+ ",g("addDocument")]})}),m.map(((e,a)=>{var n,l,o,d,m,h,x,D,A;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"row mb-4 ",children:[(0,N.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,N.jsxs)("label",{className:"form-label",children:[g("selectDocument"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(i.xI,{name:"documents.".concat(a,".documentType"),control:r,render:e=>{var n,l;let{field:{value:r,name:i,ref:c}}=e;return(0,N.jsx)(C.Ay,{onChange:e=>{t("documents[".concat(a,"].documentType"),e.value)},options:y,ref:c,name:i,styles:V,defaultValue:{value:null!==(n=s("documents.".concat(a,".documentType")))&&void 0!==n?n:y[1].value,label:null!==(l=s("documents.".concat(a,".documentType")))&&void 0!==l?l:y[1].label}})}}),!s("documents.".concat(a,".documentType"))&&(0,N.jsx)(f.A,{errorName:null===c||void 0===c||null===(n=c.documents)||void 0===n||null===(l=n[a])||void 0===l?void 0:l.documentType})]}),(0,N.jsxs)("div",{className:"col-xl-3 mb-2",children:[(0,N.jsxs)("label",{className:"form-label",children:[g("uploadFile"),(0,N.jsx)("span",{className:"text-danger",children:"*"})]}),(0,N.jsx)(O.A,{getValue:s,link:null!==(o=s("documents.".concat(a,".file")))&&void 0!==o&&o,register:u,name:"documents.".concat(a,".file"),label:"Select File",defaultValue:"",setValue:t,setLoading:b,loading:v}),(0,N.jsx)(f.A,{errorName:null!==c&&void 0!==c&&null!==(d=c.documents)&&void 0!==d&&null!==(m=d[a])&&void 0!==m&&m.file?"File is required":""})]}),(0,N.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2 ",children:[(0,N.jsx)("label",{className:"form-label",children:g("issueDate")}),(0,N.jsx)(i.xI,{name:"documents.".concat(a,".issueDate"),control:r,render:e=>{let{value:n,name:l}=e;return(0,N.jsx)(S(),{selected:new Date(s("documents.".concat(a,".issueDate"))),className:"form-control customDateHeight",onChange:e=>{if(t("documents.".concat(a,".issueDate"),e),p[a]){let t=[...p];t[a].issueDate=e,j(t)}else{let t=[...p];t[a]={documentType:s("documents.".concat(a,".fieldName")),file:s("documents.".concat(a,".file")),issueDate:e,expireDate:s("documents.".concat(a,".expireDate"))},j(t)}}})}}),!s("documents.".concat(a,".issueDate"))&&(0,N.jsx)(f.A,{errorName:null===c||void 0===c||null===(h=c.documents)||void 0===h||null===(x=h[a])||void 0===x?void 0:x.issueDate})]}),(0,N.jsxs)("div",{className:"col-xl-3 d-flex flex-column mb-2",children:[(0,N.jsx)("label",{className:"form-label",children:g("expiryDate")}),(0,N.jsx)(i.xI,{name:"documents.".concat(a,".expireDate"),control:r,render:e=>{let{value:n,name:l}=e;return(0,N.jsx)(S(),{selected:new Date(s("documents.".concat(a,".expireDate"))),className:"form-control customDateHeight",onChange:e=>{if(t("documents.".concat(a,".expireDate"),e),p[a]){let t=[...p];t[a].expireDate=e,j(t)}else{[...p][a]={documentType:s("documents.".concat(a,".fieldName")),file:s("documents.".concat(a,".file")),issueDate:s("documents.".concat(a,".IssueDate")),expireDate:e}}}})}}),!s("documents.".concat(a,".expireDate"))&&(0,N.jsx)(f.A,{errorName:null===c||void 0===c||null===(D=c.documents)||void 0===D||null===(A=D[a])||void 0===A?void 0:A.expireDate})]})]},e.id)})})),(0,N.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,N.jsxs)(x.A,{type:"submit",disabled:d||v,onClick:a(l),children:[" ",g("submit")]})})]})})};var F=a(70228),L=a(42457),_=a(50377),H=a(272),z=a(15395);const B=()=>{const{t:e}=(0,o.Bd)(),t=(0,l.Zp)(),[a,x]=(0,n.useState)(0),f=[e("profile"),e("additionalInfo"),e("document")],v=[A,k,T],b=f.length,{id:p}=(0,l.g)(),j=(0,u.jE)(),{data:g,isError:y,isLoading:D}=(0,d.I)({queryKey:["driver",p],queryFn:()=>(0,_.jF)(p),enabled:!!p,staleTime:1/0}),I=(0,n.useMemo)((()=>{var e,t,a;return{...g,businessGroupId:null===g||void 0===g||null===(e=g.businessGroupId)||void 0===e?void 0:e._id,companyId:null===g||void 0===g||null===(t=g.companyId)||void 0===t?void 0:t._id,branchId:null===g||void 0===g||null===(a=g.branchId)||void 0===a?void 0:a._id}}),[g]);(0,n.useEffect)((()=>{y&&p&&((0,L.U)("Not able to fetch driver data"),t("/not-found"))}),[y&&p]);const S=(0,n.useCallback)((e=>{switch(e){case 0:return F.no;case 1:return F.Ez;case 2:return F.zP}}),[]),{register:C,formState:{errors:w},setValue:$,getValues:M,control:E,handleSubmit:O,watch:V}=(0,i.mN)({resolver:(0,c.t)(S(a)),values:I}),B=e=>(0,L.U)((0,H.SU)(e)),{mutate:G,isPending:Y}=(0,m.n)({mutationFn:_.fO,onSuccess:()=>{(0,L.V)("New Driver Created"),j.invalidateQueries(["drivers"]),t("/driver")},onError:B}),{mutate:U,isPending:R}=(0,m.n)({mutationFn:e=>{let{data:t,id:a}=e;return(0,_.cI)(a,t)},onSuccess:()=>{(0,L.V)("Driver Updated Successfully"),j.invalidateQueries(["drivers"]),t("/driver")},onError:B}),W=async e=>{if(a===b-1){const t=(async e=>{for(let a=0;a<b;a++){const n=S(a);try{await n.validate(e)}catch(t){return(0,L.U)("Please check all the fields are filled"),!1}}return!0})(e);if(!t)return;p?U({id:p,data:e}):G(e)}else x((e=>Math.min(e+1,b-1)))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.A,{mainTitle:e("driver"),pageTitle:e(p?"edit":"create"),parentTitle:e("driver")}),(0,N.jsx)("div",{className:"m-2 p-2",children:(0,N.jsx)(i.Op,{children:(0,N.jsx)("form",{onSubmit:O(W),children:(0,N.jsx)("div",{className:"default-tab",children:(0,N.jsxs)(s.A.Container,{defaultActiveKey:f[0].toLowerCase(),children:[(0,N.jsx)(r.A,{as:"ul",className:"nav-tabs",children:f.map(((e,t)=>(0,N.jsx)(r.A.Item,{as:"li",children:(0,N.jsx)(r.A.Link,{style:{padding:".5rem 2rem"},eventKey:e.toLowerCase(),active:t===a,onClick:()=>x(t),children:e})},t)))}),(0,N.jsx)(s.A.Content,{className:"pt-4",children:D?(0,N.jsx)(z.A,{height:500}):f.map(((e,t)=>{const n=v[t];return(0,N.jsx)(s.A.Pane,{eventKey:e.toLowerCase(),active:t===a,children:(0,N.jsx)(n,{data:f,control:E,setValue:$,register:C,getValues:M,errors:w,handleSubmit:O,onSubmit:W,isFormSubmitting:R||Y,watch:V})},t)}))})]})})})})})]})}},75636:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(65043),l=a(77154);const s=()=>{const[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),[c,o]=(0,n.useState)(null),[u,d]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{(async()=>{try{d(!0);const e="bdc_031d6a642ab94e0b8f5376a97ded1793";if(!e)throw new Error("API key is missing.");const a=await l.A.get("https://api.bigdatacloud.net/data/ip-geolocation?key=".concat(e));t(a.data.location.latitude),s(a.data.location.longitude);const n=a.data;o(n),i(null)}catch(r){i("Error getting location data: "+r.message)}finally{d(!1)}})()}),[]),{location:c,lat:e,lng:a,isLoading:u,error:r}}},60446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,a=36e5,n="millisecond",l="second",s="minute",r="hour",i="day",c="week",o="month",u="quarter",d="year",m="date",h="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},b=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},p={s:b,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),l=a%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(l,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),l=t.clone().add(n,o),s=a-l<0,r=t.clone().add(n+(s?-1:1),o);return+(-(n+(a-l)/(s?l-r:r-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:d,w:c,d:i,D:m,h:r,m:s,s:l,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",g={};g[j]=v;var y="$isDayjsObject",N=function(e){return e instanceof S||!(!e||!e[y])},D=function e(t,a,n){var l;if(!t)return j;if("string"==typeof t){var s=t.toLowerCase();g[s]&&(l=s),a&&(g[s]=a,l=s);var r=t.split("-");if(!l&&r.length>1)return e(r[0])}else{var i=t.name;g[i]=t,l=i}return!n&&l&&(j=l),l||!n&&j},A=function(e,t){if(N(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new S(a)},I=p;I.l=D,I.i=N,I.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function v(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}var b=v.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(x);if(n){var l=n[2]-1||0,s=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],l,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],l,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return I},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var a=A(e);return this.startOf(t)<=a&&a<=this.endOf(t)},b.isAfter=function(e,t){return A(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<A(e)},b.$g=function(e,t,a){return I.u(e)?this[t]:this.set(a,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var a=this,n=!!I.u(t)||t,u=I.p(e),h=function(e,t){var l=I.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return n?l:l.endOf(i)},x=function(e,t){return I.w(a.toDate()[e].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},f=this.$W,v=this.$M,b=this.$D,p="set"+(this.$u?"UTC":"");switch(u){case d:return n?h(1,0):h(31,11);case o:return n?h(1,v):h(0,v+1);case c:var j=this.$locale().weekStart||0,g=(f<j?f+7:f)-j;return h(n?b-g:b+(6-g),v);case i:case m:return x(p+"Hours",0);case r:return x(p+"Minutes",1);case s:return x(p+"Seconds",2);case l:return x(p+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var a,c=I.p(e),u="set"+(this.$u?"UTC":""),h=(a={},a[i]=u+"Date",a[m]=u+"Date",a[o]=u+"Month",a[d]=u+"FullYear",a[r]=u+"Hours",a[s]=u+"Minutes",a[l]=u+"Seconds",a[n]=u+"Milliseconds",a)[c],x=c===i?this.$D+(t-this.$W):t;if(c===o||c===d){var f=this.clone().set(m,1);f.$d[h](x),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](x);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[I.p(e)]()},b.add=function(n,u){var m,h=this;n=Number(n);var x=I.p(u),f=function(e){var t=A(h);return I.w(t.date(t.date()+Math.round(e*n)),h)};if(x===o)return this.set(o,this.$M+n);if(x===d)return this.set(d,this.$y+n);if(x===i)return f(1);if(x===c)return f(7);var v=(m={},m[s]=t,m[r]=a,m[l]=e,m)[x]||1,b=this.$d.getTime()+n*v;return I.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",l=I.z(this),s=this.$H,r=this.$m,i=this.$M,c=a.weekdays,o=a.months,u=a.meridiem,d=function(e,a,l,s){return e&&(e[a]||e(t,n))||l[a].slice(0,s)},m=function(e){return I.s(s%12||12,e,"0")},x=u||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n};return n.replace(f,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return i+1;case"MM":return I.s(i+1,2,"0");case"MMM":return d(a.monthsShort,i,o,3);case"MMMM":return d(o,i);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(a.weekdaysMin,t.$W,c,2);case"ddd":return d(a.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return I.s(s,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return x(s,r,!0);case"A":return x(s,r,!1);case"m":return String(r);case"mm":return I.s(r,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return l}return null}(e)||l.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,m,h){var x,f=this,v=I.p(m),b=A(n),p=(b.utcOffset()-this.utcOffset())*t,j=this-b,g=function(){return I.m(f,b)};switch(v){case d:x=g()/12;break;case o:x=g();break;case u:x=g()/3;break;case c:x=(j-p)/6048e5;break;case i:x=(j-p)/864e5;break;case r:x=j/a;break;case s:x=j/t;break;case l:x=j/e;break;default:x=j}return h?x:I.a(x)},b.daysInMonth=function(){return this.endOf(o).$D},b.$locale=function(){return g[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=D(e,t,!0);return n&&(a.$L=n),a},b.clone=function(){return I.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},v}(),C=S.prototype;return A.prototype=C,[["$ms",n],["$s",l],["$m",s],["$H",r],["$W",i],["$M",o],["$y",d],["$D",m]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),A.extend=function(e,t){return e.$i||(e(t,S,A),e.$i=!0),A},A.locale=D,A.isDayjs=N,A.unix=function(e){return A(1e3*e)},A.en=g[j],A.Ls=g,A.p={},A}()}}]);
//# sourceMappingURL=1730.89d7986d.chunk.js.map