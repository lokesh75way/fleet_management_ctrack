{"version":3,"file":"static/js/4939.7d6e57fe.chunk.js","mappings":"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","sources":["jsx/components/Tables/SubUserTable.jsx","jsx/pages/SubUser.jsx"],"sourcesContent":["import React from \"react\";\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from \"../../../components/Modal/DeleteModal\";\nimport { IMAGES } from \"../../constant/theme\";\nimport { usePermissions } from \"../../../context/PermissionContext\";\n\nconst SubUserTable = ({\n  tableData,\n  currentPage,\n  itemsPerPage,\n  onConfirmDelete,\n  editDrawerOpen,\n}) => {\n  const { can } = usePermissions();\n  const editPermission = can(\"subUser\", \"modify\");\n  const deletePermission = can(\"subUser\", \"delete\");\n\n  const startIndex = (currentPage - 1) * itemsPerPage + 1;\n\n  return (\n    <>\n      {tableData.map((item, index) => (\n        <tr key={index}>\n          <td>\n            <span>{startIndex + index}</span>\n          </td>\n          <td>\n            <span className=\"text-primary\">{item.userName}</span>\n          </td>\n\n          <td>\n            <span>{item.mobileNumber}</span>\n          </td>\n          <td>\n            <span>{item.email}</span>\n          </td>\n          <td>\n            <span>{item.country}</span>\n          </td>\n          {(editPermission || deletePermission) && (\n            <td>\n              <span className=\"d-flex justify-content-center\">\n                {editPermission && (\n                  <span\n                    className=\"cursor-pointer\"\n                    onClick={() => editDrawerOpen(item._id)}\n                  >\n                    <FaEdit\n                      style={{\n                        color: \"green\",\n                        fontSize: \"1.2rem\",\n                      }}\n                    />\n                  </span>\n                )}\n                {deletePermission && (\n                  <DeleteModal\n                    className=\"cursor-pointer \"\n                    onConfirmDelete={onConfirmDelete}\n                    id={item._id}\n                  >\n                    <MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} />\n                  </DeleteModal>\n                )}\n              </span>\n            </td>\n          )}\n        </tr>\n      ))}\n    </>\n  );\n};\n\nexport default SubUserTable;\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nimport TableSkeleton from \"@/components/Skeleton/Table\";\nimport MainPagetitle from \"../../components/MainPagetitle\";\nimport Paginate from \"../../components/Paginate\";\nimport SubUserTable from \"../components/Tables/SubUserTable\";\nimport { getUser, deleteUser } from \"../../services/api/UserServices\";\nimport { usePermissions } from \"../../context/PermissionContext\";\nimport usePagination from \"../../hooks/usePagination\";\n\nconst SubUser = () => {\n  const { t } = useTranslation();\n\n  const { can, setUserPermission } = usePermissions();\n  const [isLoading, setIsLoading] = useState(true);\n  const { page, goToPage, setCount, totalCount } = usePagination();\n\n  const fetchUser = async () => {\n    setIsLoading(true);\n    const { data, count } = await getUser(page);\n    const permissions = JSON.parse(localStorage.getItem(\"permission\"));\n    setUserPermission(permissions?.[0]?.permission);\n    setTableData(data);\n    setCount(count);\n    setIsLoading(false);\n  };\n  useEffect(() => {\n    fetchUser(page);\n  }, [page]);\n\n  const navigate = useNavigate();\n\n  const [tableData, setTableData] = useState([]);\n\n  const onConfirmDelete = async (id) => {\n    await deleteUser(id);\n    const data = tableData.filter((item) => item._id === id);\n    setTableData(data);\n  };\n\n  const editDrawerOpen = (_id) => {\n    const data = tableData.filter((item) => item._id === _id);\n    navigate(`/user/edit/${_id}`, { state: { formData: data } });\n  };\n\n  const itemsPerPage = 10;\n\n  const handlePageClick = ({ selected }) => {\n    goToPage(selected + 1);\n  };\n\n  const startIndex = (page - 1) * itemsPerPage;\n  return (\n    <>\n      <MainPagetitle mainTitle=\"User\" pageTitle={\"User\"} parentTitle={\"Home\"} />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body p-0\">\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\n                    <h4 className=\"heading mb-0\">{t(\"users\")}</h4>\n                    <div>\n                      {can(\"subUser\", \"add\") && (\n                        <Link\n                          to={\"/user/create\"}\n                          className=\"btn btn-primary btn-sm ms-1\"\n                          data-bs-toggle=\"offcanvas\"\n                          // onClick={()=>subuser.current.showModal()}\n                        >\n                          + {t(\"addUser\")}\n                        </Link>\n                      )}{\" \"}\n                    </div>\n                  </div>\n                  <div\n                    id=\"employee-tbl_wrapper\"\n                    className=\"dataTables_wrapper no-footer\"\n                  >\n                    {!tableData.length && isLoading ? (\n                      <TableSkeleton />\n                    ) : (\n                      <table\n                        id=\"empoloyees-tblwrapper\"\n                        className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\n                      >\n                        <thead>\n                          <tr>\n                            <th>{t(\"id\")}</th>\n                            <th>{t(\"username\")}</th>\n                            <th>{t(\"mobileNumber\")}</th>\n                            <th>{t(\"email\")}</th>\n                            <th>{t(\"location\")}</th>\n                            {(can(\"subUser\", \"modify\") ||\n                              can(\"subUser\", \"delete\")) && (\n                              <th>{t(\"action\")}</th>\n                            )}\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <SubUserTable\n                            key={tableData}\n                            currentPage={page}\n                            itemsPerPage={itemsPerPage}\n                            tableData={tableData}\n                            onConfirmDelete={onConfirmDelete}\n                            editDrawerOpen={editDrawerOpen}\n                          />\n                        </tbody>\n                      </table>\n                    )}\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\n                      <div className=\"dataTables_info\">\n                        {t(\"showing\")} {(page - 1) * 10 + 1} {t(\"to\")}{\" \"}\n                        {Math.min(page * 10, totalCount)} {t(\"of\")} {totalCount}{\" \"}\n                        {t(\"entries\")}\n                      </div>\n                      <div\n                        className=\"dataTables_paginate paging_simple_numbers\"\n                        id=\"example2_paginate\"\n                      >\n                        <Paginate\n                          totalCount={totalCount}\n                          itemsPerPage={itemsPerPage}\n                          handlePageClick={handlePageClick}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SubUser;\n"],"names":["_ref","tableData","currentPage","itemsPerPage","onConfirmDelete","editDrawerOpen","can","usePermissions","editPermission","deletePermission","startIndex","_jsx","_Fragment","children","map","item","index","_jsxs","className","userName","mobileNumber","email","country","onClick","_id","FaEdit","style","color","fontSize","DeleteModal","id","MdDelete","SubUser","t","useTranslation","setUserPermission","isLoading","setIsLoading","useState","page","goToPage","setCount","totalCount","usePagination","useEffect","async","_permissions$","data","count","getUser","permissions","JSON","parse","localStorage","getItem","permission","setTableData","fetchUser","navigate","useNavigate","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","length","TableSkeleton","SubUserTable","deleteUser","filter","state","formData","Math","min","Paginate","handlePageClick","selected"],"sourceRoot":""}