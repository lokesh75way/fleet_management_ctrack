"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3904],{20042:(e,s,i)=>{i.d(s,{A:()=>d});i(65043);var a=i(6720),t=i(60184),l=i(35475),n=i(95977),r=i(45350),c=i(70579);const d=e=>{let{tableData:s,onConfirmDelete:i}=e;const{can:d}=(0,r.A)(),o=d("vehicle","modify"),h=d("vehicle","delete");return null===s||void 0===s?void 0:s.map((e=>{var s;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"products",children:(0,c.jsx)("div",{children:(0,c.jsx)("h6",{children:e.vehicleName})})})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{children:e.registrationNumber})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{className:"text-primary",children:null===e||void 0===e||null===(s=e.branchId)||void 0===s?void 0:s.branchName})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{children:e.simNumber})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{children:e.imeiNumber})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{className:"text-primary",children:e.registrationNumber})}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{children:e.weightCapacity})}),(h||o)&&(0,c.jsx)("td",{children:(0,c.jsxs)("span",{className:"d-flex justify-content-center",children:[o&&(0,c.jsx)(l.N_,{to:"/vehicle/edit/".concat(null===e||void 0===e?void 0:e._id),children:(0,c.jsx)("span",{className:"cursor-pointer",children:(0,c.jsx)(t.uO9,{style:{color:"green",fontSize:"1.2rem"}})})}),h&&(0,c.jsx)(n.A,{className:"cursor-pointer ",onConfirmDelete:i,id:e._id,children:(0,c.jsx)(a.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},e.id)}))}},23904:(e,s,i)=>{i.r(s),i.d(s,{default:()=>g});var a=i(65043),t=i(35475),l=i(74117),n=i(63248),r=i(28261),c=i(99723),d=i(47097),o=i(18733),h=i(20042),m=i(40399),x=i(19172),j=i(34713),p=i(94692),v=i(272),u=i(45350),b=i(42457),N=i(70579);const g=()=>{var e;const{t:s}=(0,l.Bd)(),{can:i}=(0,u.A)(),{page:g,goToPage:f,setCount:y,totalCount:C}=(0,p.A)(),w=(0,n.jE)(),{data:T,isLoading:_,isFetching:A}=(0,r.I)({queryKey:["vehicles",g],queryFn:()=>(0,j.lp)(g),placeholderData:c.rX,staleTime:1/0}),{mutate:E}=(0,d.n)({onError:e=>{(0,b.U)((0,v.SU)(e))},onSuccess:()=>{w.invalidateQueries("vehicles")},mutationFn:j.ih});(0,a.useEffect)((()=>{T&&y(T.totalCount)}),[T]);const k=["vehicleName","plateNumber","branch","simNumber","IMEINumber","registrationNumber","weightCapacity"];return(i("vehicle","modify")||i("vehicle","delete"))&&k.push("action"),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.A,{mainTitle:s("vehicle"),pageTitle:s("vehicle"),parentTitle:s("home")}),(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-xl-12",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsx)("div",{className:"card-body p-0",children:(0,N.jsxs)("div",{className:"active-projects style-1 ItemsCheckboxSec shorting",children:[(0,N.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,N.jsx)("h4",{className:"heading mb-0",children:s("vehicle")}),(0,N.jsxs)("div",{children:[i("vehicle","add")&&(0,N.jsxs)(t.N_,{to:"/vehicle/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",children:["+ ",s("addVehicleInfo")]})," "]})]}),(0,N.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,N.jsx)("div",{className:"table-responsive",children:_||A?(0,N.jsx)(o.A,{}):(0,N.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,N.jsx)("thead",{children:(0,N.jsx)("tr",{children:k.map((e=>(0,N.jsx)("th",{children:s(e)},e)))})}),(0,N.jsx)("tbody",{children:null!==T&&void 0!==T&&null!==(e=T.data)&&void 0!==e&&e.length?(0,N.jsx)(h.A,{tableData:null===T||void 0===T?void 0:T.data,onConfirmDelete:E,currentPage:g,itemsPerPage:10}):(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colspan:"10",rowSpan:2,height:150,children:(0,N.jsx)("h1",{className:"text-center",children:"No Data found!"})})})})]})}),(0,N.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,N.jsxs)("div",{className:"dataTables_info",children:[s("showing")," ",10*(g-1)+1," ",s("to")," ",Math.min(10*g,C)," ",s("of")," ",C," ",s("entries")]}),(0,N.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,N.jsx)(x.A,{totalCount:C,itemsPerPage:10,handlePageClick:e=>{let{selected:s}=e;f(s+1)}})})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=3904.e01a8355.chunk.js.map