"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[8679],{8679:(e,s,t)=>{t.r(s),t.d(s,{default:()=>D});var a=t(78109),n=t(67236),i=t(78292),r=t(32343),l=(t(44634),t(16236),t(27515)),c=t(25255),d=t(32449),o=t(38686),x=t.n(o),h=t(47337);const p=e=>{let{tableData:s,currentPage:t,itemsPerPage:a,onConfirmDelete:n,editDrawerOpen:i}=e;const r=(t-1)*a+1;return(0,h.jsx)(h.Fragment,{children:s.map(((e,s)=>{return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsx)("span",{children:r+s})}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{className:"products",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h6",{children:e.vehicle}),(0,h.jsx)("span",{children:"Web Designer"})]})})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{children:(t=e.expenseDate,x()(t).format("YYYY-MM-DD HH:MM"))})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{children:e.amount})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{children:e.description})}),(0,h.jsx)("td",{children:(0,h.jsxs)("span",{className:"d-flex justify-content-center",children:[(0,h.jsx)("span",{onClick:()=>i(e._id),className:"cursor-pointer",children:(0,h.jsx)(c.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),(0,h.jsx)(d.A,{className:"cursor-pointer ",onConfirmDelete:n,id:e._id,children:(0,h.jsx)(l.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},s);var t}))})};var j=t(86554),m=t(53252),g=t(44988),u=t(34571),b=t(45178),f=t(97804),v=t(35651),N=t(70529),y=(t(43157),t(71980)),w=t(72555);const D=e=>{const{t:s}=(0,u.Bd)(),t=(0,n.Zp)(),[l,c]=(0,a.useState)([]),[d,o]=(0,a.useState)(!1),{isRtl:x}=(0,a.useContext)(v.D),{register:D,setValue:C,getValues:P,handleSubmit:E,clearErrors:_,formState:{errors:k},control:A}=(0,j.mN)({resolver:(0,m.t)(g.gZ)}),[T,S]=(0,a.useState)({id:0,status:"",title:"",contact:0,age:0,drivingExperience:0,gender:"",location:""}),{page:M,nextPage:Y,prevPage:z,goToPage:F,setCount:L,totalCount:$,setPage:O}=(0,f.A)(),V=10*(M-1),W=(l.slice(V,V+10),async()=>{try{o(!0);const{data:e,success:s,totalLength:t}=await(0,b.ck)(M);c(e),L(t)}catch(e){console.log("Error",e)}finally{o(!1)}});(0,a.useEffect)((()=>{W()}),[]);(0,a.useRef)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A,{mainTitle:s("expense"),pageTitle:s("expense"),parentTitle:s("settings")}),(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-xl-12",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body p-0",children:(0,h.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,h.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,h.jsx)("h4",{className:"heading mb-0",children:s("expense")}),(0,h.jsxs)("div",{children:[(0,h.jsxs)(i.N_,{to:"/settings/expense/create",className:"btn btn-primary btn-sm ms-1",children:["+ ",s("addExpense")]})," "]})]}),(0,h.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[!l.length&&d?(0,h.jsx)(w.A,{}):(0,h.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:s("id")}),(0,h.jsx)("th",{children:s("vehicleName")}),(0,h.jsx)("th",{children:s("expenseDate")}),(0,h.jsx)("th",{children:s("amount")}),(0,h.jsx)("th",{children:s("description")}),(0,h.jsx)("th",{children:s("action")})]})}),(0,h.jsx)("tbody",{children:(0,h.jsx)(p,{editData:T,tableData:l,onConfirmDelete:async e=>{await(0,b.Wz)(e),(0,N.V)("Expense Deleted"),await W()},editDrawerOpen:e=>{const s=l.filter((s=>s._id===e));t(`edit/${e}`,{state:s})},setEditData:S,currentPage:M,itemsPerPage:10})})]}),(0,h.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,h.jsxs)("div",{className:"dataTables_info",children:[s("showing")," ",10*(M-1)+1," ",s("to")," ",Math.min(10*M,$)," ",s("of")," ",$," ",s("entries")]}),(0,h.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:(0,h.jsx)(y.A,{totalCount:$,itemsPerPage:10,handlePageClick:e=>{let{selected:s}=e;F(s+1)}})})]})]})]})})})})})})]})}},45178:(e,s,t)=>{t.d(s,{Wz:()=>l,ZN:()=>i,ck:()=>n,eY:()=>r});var a=t(74763);(0,t(95441).A)();const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const{data:s}=await a.A.get(`/expenses?page=${e}&limit=10`);return{data:s.data.data,totalLength:s.data.totalCount}},i=async e=>a.A.post("/expenses",e),r=async(e,s)=>a.A.patch(`/expenses/${e}`,s),l=async e=>a.A.delete(`/expenses/${e}`)}}]);
//# sourceMappingURL=8679.ded04e3a.chunk.js.map