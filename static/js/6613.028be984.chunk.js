"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[6613],{24490:(e,l,a)=>{a.d(l,{A:()=>c});var s=a(65043),t=a(89698),n=a(44978),i=a(74805),o=a(28334),r=a(70579);const c=e=>{let{heading:l,register:a,errors:c,id:d,getValues:u}=e;const[m,v]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"mt-4 mb-4",children:l}),(0,r.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("username")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)(i.A,{type:"text",register:a,label:"userName",name:"userName",placeholder:"",defaultValue:u("userName"),disabled:!!d}),(0,r.jsx)(o.A,{errorName:c.userName})]}),!d&&(0,r.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,r.jsxs)("label",{className:"form-label",children:[(0,n.t)("password")," ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsx)(i.A,{type:m?"text":"password",register:a,label:"Password",name:"password",placeholder:""}),(0,r.jsx)("span",{className:"showPasswordIcon",onClick:()=>{v(!m)},children:m?(0,r.jsx)(t.mI_,{}):(0,r.jsx)(t.ZT8,{})})]}),!d&&(0,r.jsx)(o.A,{errorName:c.password})]})]})}},79055:(e,l,a)=>{a.d(l,{A:()=>v});var s=a(65043),t=a(13052),n=a(28334),i=a(74805),o=a(42297),r=a(85756),c=a(74117),d=a(70579);const u=e=>{let{countryCode:l,customStyle:a,setValue:t,id:n,dValues:i,Comptype:u}=e;const{t:m}=(0,c.Bd)(),[v,x]=(0,s.useState)([]),[b,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=r.Ay.getCountry(l);if(e){const l=e.timezones;l&&l.length>0&&(x(l.map((e=>({label:"(GMT ".concat(j(e),") ").concat(e," "),value:e})))),h({label:"(GMT ".concat(j(l[0]),") ").concat(l[0]," "),value:l[0]}),t("timezone",l[0]))}}),[l]),(0,s.useEffect)((()=>{if(i&&n){var e,l;const a="companyId"===u?null===(e=i.companyId)||void 0===e?void 0:e.timezone:"businessGroupId"===u?null===(l=i.businessGroupId)||void 0===l?void 0:l.timezone:i.timezone;t("timezone",a),a&&(h({label:"(GMT ".concat(j(a),") ").concat(a),value:a}),console.log(b,"hi"))}}),[i,n]);const j=e=>{const l=r.Ay.getTimezone(e).utcOffset,a=Math.abs(Math.floor(l/60)),s=Math.abs(l%60);return"".concat(l>=0?"+":"-").concat(a,":").concat(s.toString().padStart(2,"0"))};return(0,d.jsxs)("div",{className:"col-xl-3",children:[(0,d.jsxs)("label",{htmlFor:"timezone",children:[m("timezone"),":"]}),(0,d.jsx)(o.Ay,{id:"timezone",value:b,styles:a,onChange:e=>{t("timezone",e.value),h(e)},options:v})]})},m={control:e=>({...e,padding:".25rem 0 "})},v=e=>{let{register:l,setValue:a,errors:r,getValues:v,locationData:x,dValues:b,id:h,showCity:j,Comptype:p,showtimeZone:f=!0}=e;const{t:y}=(0,c.Bd)(),[g,N]=(0,s.useState)(null),[A,w]=(0,s.useState)(null),[S,V]=(0,s.useState)(null),[C,I]=(0,s.useState)([]),[E,z]=(0,s.useState)([]),[D,F]=(0,s.useState)([]),[k,L]=(0,s.useState)("IND"),[G,M]=(0,s.useState)(null);(0,s.useEffect)((()=>{(0,t.xb)().then((e=>{I(e)}))}),[]),(0,s.useEffect)((()=>{if(h){if(null!==b&&void 0!==b&&b.city&&(a("city",b.city),V({value:b.city,label:b.city})),null!==b&&void 0!==b&&b.country){a("country",b.country);const e=P.find((e=>e.value===(null===b||void 0===b?void 0:b.country)));e&&J(e)}if(null!==b&&void 0!==b&&b.state&&(a("state",b.state||""),w({value:b.state,label:b.state||""}),null!==b&&void 0!==b&&b.country&&null!==b&&void 0!==b&&b.state&&G)){const e=E.find((e=>W(e)===b.state));e&&B(G,e.id)}}else{var e;if(null!==x&&void 0!==x&&null!==(e=x.country)&&void 0!==e&&e.isoAlpha3){var l,s,n,i,o,r,c;N({value:null===x||void 0===x||null===(l=x.country)||void 0===l?void 0:l.isoAlpha3,label:null===x||void 0===x||null===(s=x.country)||void 0===s?void 0:s.isoName}),a("country",null===x||void 0===x||null===(n=x.country)||void 0===n?void 0:n.isoAlpha3),L(null===x||void 0===x||null===(i=x.country)||void 0===i?void 0:i.isoAlpha2);const e=T(null===x||void 0===x||null===(o=x.country)||void 0===o?void 0:o.isoAlpha3);var d,u,m,v,j,p;if(M(e),null!==x&&void 0!==x&&null!==(r=x.location)&&void 0!==r&&r.principalSubdivision)w({value:null===x||void 0===x||null===(d=x.location)||void 0===d?void 0:d.principalSubdivision,label:(null===x||void 0===x||null===(u=x.location)||void 0===u?void 0:u.principalSubdivision)||""}),a("state",(null===x||void 0===x||null===(m=x.location)||void 0===m?void 0:m.principalSubdivision)||""),(0,t.Wm)(e).then((l=>{z(l);const a=l.find((e=>{var l;return W(e)===(null===x||void 0===x||null===(l=x.location)||void 0===l?void 0:l.principalSubdivision)}));a&&B(e,a.id)}));else(0,t.Wm)(e).then((e=>{z(e)}));if(null!==x&&void 0!==x&&null!==(c=x.location)&&void 0!==c&&c.city)a("city",null===x||void 0===x||null===(v=x.location)||void 0===v?void 0:v.city),V({value:null===x||void 0===x||null===(j=x.location)||void 0===j?void 0:j.city,label:null===x||void 0===x||null===(p=x.location)||void 0===p?void 0:p.city})}}}),[x,h,b,C]);const T=e=>{const l=C.find((l=>l.iso3===e));return l?l.id:null},B=async(e,l)=>{if(e&&l)try{const a=await(0,t.mA)(e,l);F(a)}catch(a){console.error("Error loading cities:",a),F([])}else F([])},J=async e=>{const l=e.value,s=T(l);M(s);const n=C.find((e=>e.iso3===l));L(n.iso2),a("country",l),N({value:l,label:n.name}),z([]),F([]),w(null),V(null),a("state",""),a("city","");const i=await(0,t.Wm)(s);z(i)},W=e=>"United Arab Emirates"===(null===g||void 0===g?void 0:g.label)&&e.name.endsWith(" Emirate")?e.name.replace(" Emirate",""):e.name,P=C.map((e=>({value:e.iso3,label:e.name}))),O=E.map((e=>({value:e.name,label:W(e)}))),U=D.map((e=>({value:e.name,label:e.name})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("country")}),(0,d.jsx)(o.Ay,{options:P,value:g,styles:m,onChange:J},"country-".concat(null===g||void 0===g?void 0:g.value)),!g&&(0,d.jsx)(n.A,{errorName:r.country})]}),(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("state")}),(0,d.jsx)(o.Ay,{options:O,value:A,styles:m,onChange:async e=>{const l=e.value,s=E.find((e=>e.name===l)),t=W(s);a("state",t),w({value:t,label:t}),F([]),V(null),a("city",""),await B(G,s.id)},isDisabled:!g},"state-".concat(null===A||void 0===A?void 0:A.value)),!A&&(0,d.jsx)(n.A,{errorName:r.state})]}),j&&(0,d.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:y("city")}),D.length>0?(0,d.jsx)(o.Ay,{options:U,value:S,styles:m,onChange:e=>{const l=e.value;a("city",l),V({value:l,label:l})},isDisabled:!A},"city-".concat(null===S||void 0===S?void 0:S.value)):(0,d.jsx)(i.A,{type:"text",register:l,label:"City",name:"city",placeholder:"",defaultValue:v("city")}),(0,d.jsx)(n.A,{errorName:r.city})]}),j&&f&&(0,d.jsx)(u,{setValue:a,id:h,countryCode:k,customStyle:m,Comptype:p})]})}},99793:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var s=a(74805),t=a(28334),n=a(27940),i=a(44978),o=a(70579);const r=e=>{var l,a,r,c,d,u,m,v;let{field:x,fields:b,index:h,register:j,getValues:p,errors:f,remove:y,id:g}=e;return(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[b.length>1&&(0,o.jsx)("div",{className:"flex-grow-1 mb-3",children:(0,o.jsxs)("h5",{children:["User ",h+1]})}),b.length>1&&(0,o.jsx)("div",{className:"mr-5",onClick:()=>(e=>{y(e)})(h),children:n.Os.Delete})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("name")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"name",name:"userInfo.".concat(h,".name"),placeholder:"",defaultValue:p("userInfo.".concat(h,".name"))}),(0,o.jsx)(t.A,{errorName:null===(l=f.userInfo)||void 0===l||null===(a=l[h])||void 0===a?void 0:a.name})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("designation")," ",(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"text",register:j,label:"designation",name:"userInfo.".concat(h,".designation"),placeholder:"",defaultValue:p("userInfo.".concat(h,".designation"))}),(0,o.jsx)(t.A,{errorName:null===(r=f.userInfo)||void 0===r||null===(c=r[h])||void 0===c?void 0:c.designation})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("mobileNumber"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"number",register:j,name:"userInfo.".concat(h,".mobileNumber"),label:"Mobile Number",placeholder:"",min:"0",onInput:e=>{const l=Math.max(0,e.target.value);e.target.value=l<1?"":l},defaultValue:p("userInfo.".concat(h,".mobileNumber"))}),(0,o.jsx)(t.A,{errorName:null===(d=f.userInfo)||void 0===d||null===(u=d[h])||void 0===u?void 0:u.mobileNumber})]}),(0,o.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,o.jsxs)("label",{className:"form-label",children:[(0,i.t)("email"),(0,o.jsx)("span",{className:"text-danger",children:"*"})]}),(0,o.jsx)(s.A,{type:"email",register:j,name:"userInfo.".concat(h,".email"),label:"email",placeholder:"",defaultValue:p("userInfo.".concat(h,".email"))}),(0,o.jsx)(t.A,{errorName:null===(m=f.userInfo)||void 0===m||null===(v=m[h])||void 0===v?void 0:v.email})]})]},x.id)}},16613:(e,l,a)=>{a.d(l,{A:()=>p});var s=a(65043),t=a(14282),n=a(24858),i=a(42297),o=a(73216),r=a(74117),c=a(28334),d=a(74805),u=(a(43),a(87460)),m=a(87407),v=a(24490),x=a(99793),b=a(79055),h=a(75636),j=a(70579);const p=e=>{let{setValue:l,getValues:a,register:p,onSubmit:f,handleSubmit:y,errors:g,control:N,isFormSubmitting:A}=e;const{fields:w,append:S,remove:V}=(0,n.jz)({control:N,name:"userInfo"}),[C,I]=(0,s.useState)(!1),{t:E}=(0,r.Bd)(),{id:z}=(0,o.g)(),{location:D,error:F}=(0,h.A)();return(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsxs)("div",{className:"row",style:{width:"85%"},children:[(0,j.jsx)("div",{children:F&&(0,j.jsx)("p",{children:F})}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3",children:[(0,j.jsxs)("label",{className:"form-label",children:[E("businessGroupName")," ",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"text",register:p,label:"groupName",name:"groupName",placeholder:"",defaultValue:a("groupName")}),(0,j.jsx)(c.A,{errorName:g.groupName})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsx)("label",{className:"form-label",children:E("tradeLicenseNumber")}),(0,j.jsx)(d.A,{type:"text",register:p,label:"tradeLicenseNumber",name:"tradeLicenseNumber",placeholder:"",defaultValue:a("tradeLicenseNumber")}),(0,j.jsx)(c.A,{errorName:g.tradeLicenseNumber})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 z-1",children:[(0,j.jsx)("label",{className:"form-label",children:E("officeNo")}),(0,j.jsx)(d.A,{type:"text",register:p,label:"officeNumber",name:"officeNumber",defaultValue:a("officeNumber")}),(0,j.jsx)(c.A,{errorName:g.officeNumber})]}),(0,j.jsxs)("span",{className:"absolute",style:{position:"absolute",top:"23%",right:"-42%",overflow:"hidden"},children:[(0,j.jsx)(m.A,{setValue:l,register:p,label:"Business Group Logo",name:"logo",getValue:a,setLoading:I,loading:C,link:a("logo")}),(0,j.jsx)(c.A,{errorName:g.logo})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsxs)("label",{className:"form-label",children:[E("email"),(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)(d.A,{type:"email",register:p,label:"Email",name:"email",placeholder:"",defaultValue:a("email"),disabled:!!z}),(0,j.jsx)(c.A,{errorName:g.email})]}),(0,j.jsx)(b.A,{register:p,setValue:l,errors:g,dValues:{country:a("country"),state:a("state"),city:a("city")},getValues:a,locationData:D,id:z,showCity:!0,Comptype:"businessGroupId"}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:E("dateFormat")}),(0,j.jsx)(n.xI,{name:"dateFormat",control:N,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("dateFormat",null===e||void 0===e?void 0:e.value),options:u.wJ,ref:n,name:t,styles:{control:e=>({...e,padding:".25rem 0 "})},value:u.wJ.find((e=>e.value===s))||u.wJ[0],defaultValue:u.wJ[0]})}}),(0,j.jsx)(c.A,{errorName:g.dateFormat})]}),(0,j.jsxs)("div",{className:"col-xl-3 mb-3 ",children:[(0,j.jsx)("label",{className:"form-label",children:E("timeFormat")}),(0,j.jsx)(n.xI,{name:"timeFormat",control:N,render:e=>{let{field:{onChange:a,value:s,name:t,ref:n}}=e;return(0,j.jsx)(i.Ay,{onChange:e=>l("timeFormat",e.value),options:u.lD,ref:n,name:t,styles:{control:e=>({...e,padding:".25rem 0 "})},value:u.lD.find((e=>e.value===s))||u.lD[1],defaultValue:u.lD[1]})}})]}),(0,j.jsx)(v.A,{heading:E("businessLoginDetails"),register:p,errors:g,id:z,getValues:a}),(0,j.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",margin:"2rem 0"},children:[(0,j.jsx)("h3",{children:E("contactDetails")}),(0,j.jsxs)(t.A,{type:"button",onClick:()=>{S({name:"",designation:"",mobileNumber:null,email:""})},style:{width:"10%"},children:[" ","ADD"]})]}),w.map(((e,l)=>(0,j.jsx)(x.A,{field:e,index:l,register:p,getValues:a,errors:g,fields:w,remove:V,id:z},e.id)))]}),(0,j.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,j.jsxs)(t.A,{type:"submit",disabled:C||A,onClick:y(f),style:{width:"10%"},children:[" ",E("submit")]})})]})}},75636:(e,l,a)=>{a.d(l,{A:()=>n});var s=a(65043),t=a(77154);const n=()=>{const[e,l]=(0,s.useState)(null),[a,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{u(!0);const e="bdc_031d6a642ab94e0b8f5376a97ded1793";if(!e)throw new Error("API key is missing.");const a=await t.A.get("https://api.bigdatacloud.net/data/ip-geolocation?key=".concat(e));l(a.data.location.latitude),n(a.data.location.longitude);const s=a.data;c(s),o(null)}catch(i){o("Error getting location data: "+i.message)}finally{u(!1)}})()}),[]),{location:r,lat:e,lng:a,isLoading:d,error:i}}}}]);
//# sourceMappingURL=6613.028be984.chunk.js.map