{"version":3,"file":"static/js/4015.41029a8e.chunk.js","mappings":"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","sources":["features/featureTemplate/api.js","features/featureTemplate/components/DropdownList.jsx","components/Tabs/TabCard.jsx","components/Tabs/index.jsx","features/featureTemplate/components/PermissionForm.jsx","features/featureTemplate/pages/Create.jsx"],"sourcesContent":["import { axiosInstance as axios } from \"@/services/api\";\n\nexport const getAllModules = async () => {\n  const { data } = await axios.get(\"/modules\");\n  return data?.data;\n};\n\nexport const getAllTemplates = async (page) => {\n  let url = \"/feature-template\";\n  if (page !== undefined) {\n    url += `?page=${page}&limit=${10}`;\n  }\n  const { data } = await axios.get(url);\n  return {\n    data: data.data.data,\n    totalPage: data.data.totalPage,\n    totalCount: data.data.totalCount,\n  };\n};\n\nexport const deleteTemplate = async (id) => {\n  return await axios.delete(`/feature-template/${id}`);\n};\n\nexport const createTemplate = async (body) => {\n  return await axios.post(\"/feature-template\", body);\n};\n\nexport const updateTemplate = async (body) => {\n  return await axios.patch(\"/feature-template\", body);\n};\n\nexport const getTemplateById = async (id) => {\n  const { data } = await axios.get(`/feature-template/${id}`);\n  return data?.data?.data;\n};","import React, { useEffect, useMemo, useState } from \"react\";\nimport Select from \"react-select\";\nimport { useInfiniteQuery, useQuery } from \"@tanstack/react-query\";\n\nimport usePagination from \"@/hooks/usePagination\";\nimport { getAllTemplates, getTemplateById } from \"../api\";\nimport usePermissions from \"@/hooks/usePermissions\";\nimport Spinner from \"@/components/Loader/Spinner\";\n\nconst TemplateDropdownList = ({\n  onChange,\n  value,\n  customStyles,\n  isDisabled,\n  name,\n  placeholder,\n  defaultValue,\n}) => {\n  const [selectedOption, setSelectedOption] = useState(value);\n  const { page, setPage } = usePagination();\n  const { can } = usePermissions();\n\n  const { data, fetchNextPage, hasNextPage, isFetching, isFetchingNextPage } =\n    useInfiniteQuery({\n      queryKey: [\"templates\"],\n      queryFn: ({ pageParam }) => {\n        setPage(pageParam);\n        return getAllTemplates(pageParam);\n      },\n      initialPageParam: 1,\n      getNextPageParam: (lastPage, pages) =>\n        lastPage.data?.length ? page + 1 : null,\n      enabled: can(\"groups\", \"view\"),\n      staleTime: Infinity,\n    });\n\n  const { refetch } = useQuery({\n    queryKey: [\"template\", defaultValue],\n    queryFn: () => getTemplateById(defaultValue),\n    enabled: false,\n    staleTime: Infinity,\n  });\n\n  const options = useMemo(() => {\n    let flatData = [];\n    data?.pages.forEach((pageData) => {\n      pageData.data.forEach((template) => {\n        flatData.push({\n          value: template._id,\n          label: template.name,\n        });\n      });\n    });\n    return flatData;\n  }, [data]);\n\n  useEffect(() => {\n    if (value?.value != selectedOption?.value) {\n      setSelectedOption(value);\n    }\n\n    return () => {};\n  }, [value, options]);\n\n  useEffect(() => {\n    const initializeValue = async () => {\n      if (defaultValue && !value) {\n        const selected = options.find(\n          (option) => option.value === defaultValue\n        );\n        if (selected) {\n          setSelectedOption(selected);\n          onChange(selected);\n          return;\n        }\n        try {\n          const { data: template } = await refetch();\n          console.log({ template });\n\n          if (template) {\n            const newOption = {\n              label: template.name,\n              value: template._id,\n            };\n            setSelectedOption(newOption);\n            onChange(newOption);\n            return;\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    };\n    initializeValue();\n    return () => {};\n  }, [defaultValue, value]);\n\n  const handleMenuScroll = async (event) => {\n    const bottom =\n      event.target.scrollHeight - event.target.scrollTop ===\n      event.target.clientHeight;\n    if (bottom && !isFetching && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage();\n    }\n  };\n\n  return (\n    <Select\n      options={options}\n      value={selectedOption}\n      onChange={onChange}\n      styles={customStyles}\n      name={name}\n      placeholder={placeholder}\n      isDisabled={isDisabled || !can(\"groups\", \"view\")}\n      onMenuScrollToBottom={handleMenuScroll}\n      menuShouldScrollIntoView={false}\n      isLoading={isFetching}\n      components={{\n        LoadingIndicator: Spinner,\n      }}\n    />\n  );\n};\n\nexport default TemplateDropdownList;\n","import React from \"react\";\n\nfunction TabCard(props) {\n  const { onClick, data, isActive } = props;\n  const { title, icon } = data;\n\n  return (\n    <div\n      onClick={onClick}\n      className={`card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ${\n        isActive ? \"active-tab\" : \"\"\n      }`}\n      style={{\n        height: \"160px\",\n        width: \"160px\",\n        border: isActive ? \"1px solid #4C9AFF\" : \"1px solid #E6E6E6\",\n      }}\n    >\n      <div className=\"card-body d-flex align-items-center\">\n        <div className=\"d-flex flex-column align-items-center w-100 pb-2\">\n          {icon && (\n            <span className=\"card-text text-primary fs-1 mb-2\">{icon}</span>\n          )}\n          <h6 className=\"card-text text-primary text-center fs-4\">{title}</h6>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TabCard;\n","import React, { useState } from \"react\";\n\nimport TabCard from \"./TabCard\";\n\nfunction Tabs(props) {\n  const { tabs = [] } = props;\n  const [activeTab, setActiveTab] = useState(tabs[0]);\n\n  const handleTabClick = (clickedTab) => {\n    setActiveTab(clickedTab);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"tabs row w-100\">\n        {tabs.map((tab, index) => (\n          <TabCard\n            key={index}\n            data={tab}\n            isActive={activeTab === tab}\n            onClick={() => handleTabClick(tab)}\n          />\n        ))}\n      </div>\n      {activeTab && <div>{activeTab.component}</div>}\n    </div>\n  );\n}\n\nexport default Tabs;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Table } from \"react-bootstrap\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { notifyError, notifySuccess } from \"@/utils/toast\";\nimport {\n  createTemplate,\n  getAllModules,\n  getAllTemplates,\n  updateTemplate,\n} from \"../api\";\nimport TemplateDropdownList from \"./DropdownList\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nconst PermissionForm = () => {\n  const { t } = useTranslation();\n  const [groupsDataState, setGroupsDataState] = useState([]);\n  const [subModuleIndexArray, setSubModuleIndexArray] = useState([]);\n  const [data, setData] = useState([]);\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const queryClient = useQueryClient();\n  const [newGroupData, setNewGroupData] = useState({\n    name: \"\",\n    permission: {},\n  });\n  const [selectOptions, setSelectOptions] = useState([]);\n\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const handleCopy = () => {\n    if (!selectedTemplate) return;\n\n    // Update permissions for modules directly\n    const updatedData = data.map((module) => {\n      const permission = selectedTemplate.permission.find(\n        (perm) => perm.moduleId === module._id\n      );\n      if (permission) {\n        module.permission = {\n          add: permission?.add,\n          view: permission?.view,\n          modify: permission?.modify,\n          delete: permission?.delete,\n        };\n      }\n\n      module.subModules =\n        module.subModules?.map((subModule) => {\n          const subModulePermission = selectedTemplate.permission.find(\n            (perm) => perm.moduleId === subModule.id\n          );\n          if (subModulePermission) {\n            subModule.permission = {\n              add: subModulePermission?.add,\n              view: subModulePermission?.view,\n              modify: subModulePermission?.modify,\n              delete: subModulePermission?.delete,\n            };\n          }\n          return subModule;\n        }) || [];\n\n      return module;\n    });\n\n    setData(updatedData);\n\n    // Clear subModuleIndexArray\n    setSubModuleIndexArray(\n      selectedTemplate.permission\n        .filter((d) => {\n          return d.delete || d.view || d.modify || d.add;\n        })\n        .map((d) => d.moduleId)\n    );\n  };\n\n  const handleCheckboxChange = (isChecked, id) => {\n    if (isChecked) {\n      setSubModuleIndexArray((prevArray) => [...prevArray, id]);\n    } else {\n      setSubModuleIndexArray((prevArray) =>\n        prevArray.filter((item) => item !== id)\n      );\n\n      setData((prevData) =>\n        prevData.map((module) => {\n          if (module._id === id) {\n            return {\n              ...module,\n              subModules: module.subModules.map((subModule) => {\n                return {\n                  ...subModule,\n                  permission: {\n                    add: false,\n                    view: false,\n                    modify: false,\n                    delete: false,\n                  },\n                };\n              }),\n              permission: {\n                add: false,\n                view: false,\n                modify: false,\n                delete: false,\n              },\n            };\n          }\n          return module;\n        })\n      );\n    }\n  };\n  const handleModulePermisssionChange = (isChecked, name, id) => {\n    let updatedData = [...data];\n    const module = updatedData.find((element) => element._id === id);\n    const modulePermissions = {\n      ...module.permission,\n    };\n\n    if (isChecked) {\n      modulePermissions[name] = true;\n      modulePermissions[\"view\"] = true;\n    } else {\n      if (\n        (name === \"view\" &&\n          Object.entries(modulePermissions).find(\n            ([key, val]) => key !== \"view\" && val\n          )) ||\n        module.subModules.some((subModule) =>\n          Object.entries(subModule.permission).some(([key, val]) => val)\n        )\n      )\n        return;\n      modulePermissions[name] = false;\n    }\n\n    const moduleIndex = updatedData.findIndex((element) => element._id === id);\n    updatedData[moduleIndex].permission = modulePermissions;\n    setData(updatedData);\n  };\n  const handleSubModulePermisssionChange = (\n    isChecked,\n    name,\n    moduleId,\n    subModuleId\n  ) => {\n    const updatedData = data.map((module) => {\n      if (isChecked) {\n        handleModulePermisssionChange(isChecked, \"view\", moduleId);\n      }\n      if (module._id === moduleId) {\n        const subModules = module.subModules.map((subModule) => {\n          if (subModule.id === subModuleId) {\n            const updatedSubModulePermissions = { ...subModule.permission };\n            if (\n              !isChecked &&\n              name === \"view\" &&\n              Object.entries(updatedSubModulePermissions).find(\n                ([key, val]) => key !== \"view\" && val\n              )\n            ) {\n              return subModule;\n            }\n            if (isChecked) updatedSubModulePermissions[\"view\"] = true;\n            updatedSubModulePermissions[name] = isChecked;\n            return {\n              ...subModule,\n              permission: updatedSubModulePermissions,\n            };\n          }\n          return subModule;\n        });\n        return { ...module, subModules };\n      }\n      return module;\n    });\n    setData(updatedData);\n  };\n\n  const handleInputChange = (e) => {\n    setIsErrror(false);\n    const { value } = e.target;\n    setNewGroupData((prev) => ({\n      ...prev,\n      name: value,\n    }));\n  };\n\n  const [isError, setIsErrror] = useState(false);\n\n  useEffect(() => {\n    if (id) {\n      const editData = groupsDataState.filter((item, index) => item._id === id);\n      setNewGroupData({\n        name: editData.name,\n        permission: editData.permission,\n      });\n    }\n  }, [id]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const moduleData = await getAllModules();\n        const permission = {\n          add: false,\n          view: false,\n          modify: false,\n          delete: false,\n        };\n        const newData = [...moduleData].map((obj) => {\n          const subModules = [...obj.subModules].map((submodule) => {\n            return { ...submodule, permission };\n          });\n          return {\n            ...obj,\n            permission,\n            subModules,\n          };\n        });\n\n        setData(newData);\n      } catch (error) {\n        console.error(\"Error fetching template data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const [editGroupName, setEditGroupName] = useState();\n\n  const fetchTemplates = async () => {\n    try {\n      const templateData = await getAllTemplates();\n      if (id) {\n        const moduleData = await getAllModules();\n        // setCurrentTemplate();\n        const filteredData = templateData.data.find((d) => d._id === id);\n        setNewGroupData(filteredData);\n        setEditGroupName(filteredData.name);\n\n        const updatedData = moduleData.map((module) => {\n          // Find the permission for the current module or submodule\n          const permission = filteredData.permission.find(\n            (perm) => perm.moduleId === (module.id || module._id)\n          );\n          if (permission) {\n            // Assign permissions\n            module.permission = {\n              add: permission?.add,\n              view: permission?.view,\n              modify: permission?.modify,\n              delete: permission?.delete,\n            };\n\n            if (module.subModules && module.subModules.length > 0) {\n              module.subModules.forEach((submodule) => {\n                const subModulePermissions = filteredData.permission.find(\n                  (perm) => perm.moduleId === (submodule.id || submodule._id)\n                );\n                if (subModulePermissions) {\n                  submodule.permission = {\n                    add: subModulePermissions.add,\n                    view: subModulePermissions.view,\n                    modify: subModulePermissions.modify,\n                    delete: subModulePermissions.delete,\n                  };\n                }\n              });\n            }\n          }\n          return module;\n        });\n        setData(updatedData);\n        setSubModuleIndexArray(\n          filteredData.permission\n            .filter((d) => {\n              return d.delete || d.view || d.modify || d.add;\n            })\n            .map((d) => d.moduleId)\n        );\n      }\n      setGroupsDataState(templateData.data);\n\n      setSelectOptions(\n        templateData.data.map((template) => ({\n          value: template._id,\n          label: template.name,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error fetching template data:\", error);\n    }\n  };\n\n  const groupNames = groupsDataState.map((e) => e.name);\n\n  const handleSave = async () => {\n    if (!newGroupData.name) {\n      setIsErrror(true);\n      return;\n    }\n\n    if (id) {\n      if (\n        groupNames.includes(newGroupData.name) &&\n        newGroupData.name !== editGroupName\n      ) {\n        notifyError(\"Feature Template name already exists\");\n        return;\n      }\n    } else {\n      if (groupNames.includes(newGroupData.name)) {\n        notifyError(\"Feature Template name already exists\");\n        return;\n      }\n    }\n\n    try {\n      setIsErrror(false);\n      const flattenedPermissions = data.reduce((acc, module) => {\n        const mainModulePermissions = {\n          moduleId: module._id,\n          add: module.permission?.add,\n          view: module.permission?.view,\n          modify: module.permission?.modify,\n          delete: module.permission?.delete,\n        };\n\n        acc.push(mainModulePermissions);\n\n        if (module.subModules && module.subModules.length > 0) {\n          module.subModules.forEach((subModule) => {\n            const subModulePermissions = {\n              moduleId: subModule.id,\n              add: subModule.permission?.add,\n              view: subModule.permission?.view,\n              modify: subModule.permission?.modify,\n              delete: subModule.permission?.delete,\n            };\n            acc.push(subModulePermissions);\n          });\n        }\n\n        return acc;\n      }, []);\n\n      const tempGroupData = {\n        ...newGroupData,\n        permission: flattenedPermissions,\n      };\n\n      setNewGroupData((prev) => ({\n        ...prev,\n        permission: flattenedPermissions,\n      }));\n\n      const method = id ? updateTemplate : createTemplate;\n      await method(tempGroupData);\n      queryClient.invalidateQueries([\"groups\"]);\n\n      setSubModuleIndexArray([]);\n\n      notifySuccess(\"saved\");\n      navigate(\"/groups\");\n    } catch (error) {\n      console.error(\"Error saving data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [id]);\n\n  return (\n    <div>\n      <Card>\n        <Card.Header>\n          <Card.Title>{t(\"permission\")}</Card.Title>\n        </Card.Header>\n\n        <div className=\"d-flex justify-content-between m-2 mt-4 p-3 mb-0 pb-0\">\n          <div>\n            <input\n              value={newGroupData.name}\n              name=\"groupname\"\n              type=\"text\"\n              className=\"p-2\"\n              onChange={(e) => handleInputChange(e)}\n              style={{\n                marginRight: \"1rem\",\n                border: \"#D3D3D3 1px solid\",\n                borderRadius: \"0.3rem\",\n                width: \"15rem\",\n              }}\n              placeholder={t(\"featureTemplateName\")}\n            />\n          </div>\n\n          <div\n            className=\"d-flex justify-content-center\"\n            style={{ width: \"25rem\" }}\n          >\n            <TemplateDropdownList\n              placeholder={t(\"selectFeatureTemplate\")}\n              customStyles={{\n                control: (base) => ({ ...base, width: \"18rem\" }),\n              }}\n              value={selectedTemplate}\n              onChange={(selectedOption) => {\n                const selectedTemplateData = groupsDataState.find(\n                  (template) => template._id === selectedOption.value\n                );\n                setSelectedTemplate(selectedTemplateData);\n              }}\n            />\n            <button\n              className=\"btn btn-primary\"\n              style={{\n                marginLeft: \"1rem\",\n                padding: \"7px 16px\",\n                marginRight: \"1rem\",\n              }}\n              onClick={handleCopy}\n            >\n              {t(\"copy\")}\n            </button>\n          </div>\n        </div>\n        <div className=\"ms-4 pt-0 mt-0\">\n          {isError && (\n            <span\n              className=\"text-danger text-sm pt-0 mt-0\"\n              style={{ marginBottom: \"1rem\" }}\n            >\n              feature template name is required\n            </span>\n          )}\n        </div>\n\n        <Card.Body className=\"d-flex\">\n          <div\n            style={{\n              flex: 0.4,\n              maxHeight: \"50vh\",\n              overflow: \"auto\",\n              border: \"1px solid #D3D3D3  \",\n              borderRadius: \"0.5rem\",\n            }}\n          >\n            <Table>\n              <thead\n                style={{ position: \"sticky\", top: 0, background: \"white\" }}\n              >\n                <tr>\n                  <th scope=\"col\">{t(\"module\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((element, i) => {\n                  if (!element || !element.title) return null;\n                  return (\n                    <React.Fragment key={element._id}>\n                      <tr>\n                        <td>\n                          <input\n                            type=\"checkbox\"\n                            className=\"form-check-input\"\n                            style={{ marginRight: \"0.2rem\" }}\n                            name=\"create\"\n                            checked={\n                              subModuleIndexArray.includes(element._id) ||\n                              element.subModules.some((submodule) =>\n                                subModuleIndexArray.includes(submodule.id)\n                              )\n                            }\n                            onChange={(e) =>\n                              handleCheckboxChange(\n                                e.target.checked,\n                                element._id\n                              )\n                            }\n                          />\n                          <span style={{ marginRight: \"1.7rem\" }}>\n                            {t(element.title)}\n                          </span>\n                        </td>\n                      </tr>\n                    </React.Fragment>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </div>\n\n          <div\n            style={{\n              flex: 1,\n              maxHeight: \"50vh\",\n              overflow: \"auto\",\n              border: \"1px solid #D3D3D3\",\n              borderRadius: \"0.5rem\",\n              marginLeft: \"0.2rem\",\n            }}\n          >\n            <Table>\n              <thead\n                id=\"feature_template\"\n                style={{ position: \"sticky\", top: 0, background: \"white\" }}\n              >\n                <tr>\n                  <th scope=\"col\" className=\"col-4\" style={{ width: \"150px\" }}>\n                    {t(\"subModules\")}\n                  </th>\n                  <th scope=\"col\">{t(\"add\")}</th>\n                  <th scope=\"col\">{t(\"view\")}</th>\n                  <th scope=\"col\">{t(\"modify\")}</th>\n                  <th scope=\"col\">{t(\"delete\")}</th>\n                </tr>\n              </thead>\n              <TBody\n                subModuleIndexArray={subModuleIndexArray}\n                data={data}\n                handleModulePermisssionChange={handleModulePermisssionChange}\n                handleSubModulePermisssionChange={\n                  handleSubModulePermisssionChange\n                }\n              />\n            </Table>\n          </div>\n        </Card.Body>\n        <div className=\"d-flex justify-content-end  p-3\">\n          <button\n            className=\"btn btn-primary\"\n            style={{ marginLeft: \"1rem\", padding: \"7px 16px\" }}\n            onClick={handleSave}\n          >\n            {\" \"}\n            {id ? \"Update\" : \"Save\"}{\" \"}\n          </button>\n        </div>\n      </Card>\n    </div>\n  );\n};\nexport default PermissionForm;\n\nexport const TBody = ({\n  subModuleIndexArray,\n  data,\n  handleSubModulePermisssionChange,\n  handleModulePermisssionChange,\n}) => {\n  const picked = new Set();\n\n  return (\n    <tbody className=\"feature_template_table\">\n      {subModuleIndexArray.length > 0 &&\n        subModuleIndexArray.map((mindex, index) => {\n          const moduleData = data.find(\n            (module) =>\n              module._id === mindex ||\n              module.subModules.some((el) => el.id === mindex)\n          );\n          if (!moduleData || picked.has(moduleData._id)) return null;\n          picked.add(moduleData._id);\n\n          let isDisabled = false;\n          if (moduleData.title === \"Dashboard\") isDisabled = true;\n\n          return (\n            <React.Fragment key={mindex}>\n              <tr>\n                <td className=\"col-2\" style={{ width: \"130px\" }}>\n                  {\" \"}\n                  {moduleData.title}\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.add} // Use optional chaining to avoid errors if permission is undefined\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    className=\"form-check-input\"\n                    name=\"add\"\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.view}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    name=\"view\"\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.modify}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                    name=\"modify\"\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={moduleData.permission?.delete}\n                    className=\"form-check-input\"\n                    onChange={(e) =>\n                      handleModulePermisssionChange(\n                        e.target.checked,\n                        e.target.name,\n                        moduleData._id\n                      )\n                    }\n                    disabled={isDisabled || moduleData.subModules.length > 0}\n                    name=\"delete\"\n                  />\n                </td>\n              </tr>\n              {moduleData.subModules.map((element, i) => (\n                <tr key={i}>\n                  <td className=\"col-2\"> {element.title}</td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.add}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"add\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.view}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"view\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.modify}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"modify\"\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      checked={element.permission?.delete}\n                      onChange={(e) =>\n                        handleSubModulePermisssionChange(\n                          e.target.checked,\n                          e.target.name,\n                          moduleData._id,\n                          element.id\n                        )\n                      }\n                      className=\"form-check-input\"\n                      name=\"delete\"\n                    />\n                  </td>\n                </tr>\n              ))}\n            </React.Fragment>\n          );\n        })}\n    </tbody>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FaUser } from \"react-icons/fa\";\nimport MainPagetitle from \"@/components/MainPagetitle\";\nimport Tabs from \"@/components/Tabs\";\nimport PermissionForm from \"../components/PermissionForm\";\n\nconst CreateTemplate = () => {\n  const { t } = useTranslation();\n\n  const data = [\n    {\n      title: \"Permission\",\n      component: <PermissionForm />,\n      icon: <FaUser />,\n    },\n  ];\n  return (\n    <>\n      <MainPagetitle\n        mainTitle={t(\"permission\")}\n        pageTitle={t(\"permission\")}\n        parentTitle={t(\"Feature Templates\")}\n      />\n      <Tabs tabs={data} />\n    </>\n  );\n};\n\nexport default CreateTemplate;\n"],"names":["getAllModules","async","data","axios","get","getAllTemplates","url","undefined","page","concat","totalPage","totalCount","deleteTemplate","delete","id","createTemplate","post","body","updateTemplate","patch","getTemplateById","_data$data","_ref","onChange","value","customStyles","isDisabled","name","placeholder","defaultValue","selectedOption","setSelectedOption","useState","setPage","usePagination","can","usePermissions","fetchNextPage","hasNextPage","isFetching","isFetchingNextPage","useInfiniteQuery","queryKey","queryFn","_ref2","pageParam","initialPageParam","getNextPageParam","lastPage","pages","_lastPage$data","length","enabled","staleTime","Infinity","refetch","useQuery","options","useMemo","flatData","forEach","pageData","template","push","_id","label","useEffect","selected","find","option","console","log","newOption","error","initializeValue","_jsx","Select","styles","onMenuScrollToBottom","event","target","scrollHeight","scrollTop","clientHeight","menuShouldScrollIntoView","isLoading","components","LoadingIndicator","Spinner","props","onClick","isActive","title","icon","className","style","height","width","border","children","_jsxs","tabs","activeTab","setActiveTab","map","tab","index","TabCard","component","PermissionForm","t","useTranslation","groupsDataState","setGroupsDataState","subModuleIndexArray","setSubModuleIndexArray","setData","navigate","useNavigate","useParams","queryClient","useQueryClient","newGroupData","setNewGroupData","permission","selectOptions","setSelectOptions","selectedTemplate","setSelectedTemplate","handleModulePermisssionChange","isChecked","updatedData","module","element","modulePermissions","Object","entries","key","val","subModules","some","subModule","moduleIndex","findIndex","isError","setIsErrror","editData","filter","item","moduleData","add","view","modify","newData","obj","submodule","fetchData","editGroupName","setEditGroupName","groupNames","e","templateData","filteredData","d","perm","moduleId","subModulePermissions","fetchTemplates","Card","Header","Title","type","prev","handleInputChange","marginRight","borderRadius","TemplateDropdownList","control","base","selectedTemplateData","marginLeft","padding","handleCopy","_module$subModules","subModulePermission","marginBottom","Body","flex","maxHeight","overflow","Table","position","top","background","scope","i","React","checked","includes","handleCheckboxChange","prevArray","prevData","TBody","handleSubModulePermisssionChange","subModuleId","updatedSubModulePermissions","_ref3","notifyError","flattenedPermissions","reduce","acc","_module$permission","_module$permission2","_module$permission3","_module$permission4","mainModulePermissions","_subModule$permission","_subModule$permission2","_subModule$permission3","_subModule$permission4","tempGroupData","method","invalidateQueries","notifySuccess","_ref4","picked","Set","mindex","_moduleData$permissio","_moduleData$permissio2","_moduleData$permissio3","_moduleData$permissio4","el","has","disabled","_element$permission","_element$permission2","_element$permission3","_element$permission4","CreateTemplate","FaUser","_Fragment","MainPagetitle","mainTitle","pageTitle","parentTitle","Tabs"],"sourceRoot":""}