"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3196],{50014:(e,s,t)=>{t.d(s,{A:()=>a});var i=t(65043),n=t(70579);const r=function(e){const{onClick:s,data:t,isActive:i}=e,{title:r,icon:a}=t;return(0,n.jsx)("div",{onClick:s,className:"card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ".concat(i?"active-tab":""),style:{height:"160px",width:"160px",border:i?"1px solid #4C9AFF":"1px solid #E6E6E6"},children:(0,n.jsx)("div",{className:"card-body d-flex align-items-center",children:(0,n.jsxs)("div",{className:"d-flex flex-column align-items-center w-100 pb-2",children:[a&&(0,n.jsx)("span",{className:"card-text text-primary fs-1 mb-2",children:a}),(0,n.jsx)("h6",{className:"card-text text-primary text-center fs-4",children:r})]})})})};const a=function(e){const{tabs:s=[]}=e,[t,a]=(0,i.useState)(s[0]);return(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"tabs row w-100",children:s.map(((e,s)=>(0,n.jsx)(r,{data:e,isActive:t===e,onClick:()=>{a(e)}},s)))}),t&&(0,n.jsx)("div",{children:t.component})]})}},3196:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var i=t(65043),n=t(9866),r=t(50014),a=t(60184),d=t(38628),o=t(64196),c=t(42297);const m=[{name:"Dashboard",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Business Groups",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Companies",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Branches",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Driver",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Driver Tracking",submodules:[{name:"drivers",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]},{name:"Reports",submodules:[{name:"activity",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"geofence address",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"alert",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"expense",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"fuel",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"temperature",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"driver behaviour",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"trip classification",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]},{name:"Charts",submodules:[{name:"Activity",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Alert",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Fuel",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Expense",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Temperature Chart",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]},{name:"Technician",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}],l=JSON.parse(JSON.stringify(m));var p=t(33723),h=t(53536),x=t.n(h),u=t(70579);const j=()=>{const{groupsDataState:e,setGroupsDataState:s}=(0,i.useContext)(p.D),[t,n]=(0,i.useState)([]),[r,a]=(0,i.useState)(m),[h,j]=(0,i.useState)({groupName:"",groupPermissions:{}}),[g,f]=(0,i.useState)([]),y=(e,s,t,i)=>{let n=[...r];e?(n[t].submodules[i].permissions[s]=!0,a(n)):(n[t].submodules[i].permissions[s]=!1,a(n))},v=(e,s,t)=>{let i=[...r];e?(i[t].permissions[s]=!0,a(i)):(i[t].permissions[s]=!1,a(i))};return console.log(h),console.log("data saved",e),console.log("reset data",l),(0,i.useEffect)((()=>{f(e.map((e=>({value:e.index,label:e.groupName}))))}),[e]),(0,u.jsx)("div",{children:(0,u.jsxs)(d.A,{children:[(0,u.jsx)(d.A.Header,{children:(0,u.jsx)(d.A.Title,{children:"Permissions"})}),(0,u.jsxs)("div",{className:"d-flex justify-content-between m-2 mt-4 p-3",children:[(0,u.jsx)("input",{value:h.groupName,name:"groupname",type:"text",className:"p-2",onChange:e=>(e=>{const{value:s}=e.target;j((e=>({...e,groupName:s})))})(e),style:{marginRight:"1rem",border:"#D3D3D3 1px solid",borderRadius:"0.3rem",width:"15rem"},placeholder:"Feature Template Name"}),(0,u.jsxs)("div",{className:"d-flex justify-content-center",style:{width:"25rem"},children:[(0,u.jsx)(c.Ay,{options:g,placeholder:"Select a Feature Template",styles:{control:e=>({...e,width:"18rem"})},children:"   "}),"            ",(0,u.jsx)("button",{className:"btn btn-primary p-2",style:{marginLeft:"1rem"},children:"Copy"})]})]}),(0,u.jsxs)(d.A.Body,{className:"d-flex",children:[(0,u.jsx)("div",{style:{flex:.4,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3  ",borderRadius:"0.5rem"},children:(0,u.jsxs)(o.A,{children:[(0,u.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,u.jsx)("tr",{children:(0,u.jsx)("th",{scope:"col",children:"Module"})})}),(0,u.jsx)("tbody",{children:r.map(((e,s)=>(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{children:[" ",(0,u.jsx)("input",{type:"checkbox",className:"form-check-input ",style:{marginRight:"0.2rem"},name:"create",checked:t.includes(s),onChange:e=>{return i=e.target.checked,r=s,void n(i?[...t,r]:t.filter((e=>e!==r)));var i,r}})," ",e.name]})},s)))})]})}),(0,u.jsx)("div",{style:{flex:1,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3",borderRadius:"0.5rem",marginLeft:"0.2rem"},children:(0,u.jsxs)(o.A,{children:[(0,u.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"col-4",children:"SubModules"}),(0,u.jsx)("th",{scope:"col",children:"Add"}),(0,u.jsx)("th",{scope:"col",children:"View"}),(0,u.jsx)("th",{scope:"col",children:"Modify"}),(0,u.jsx)("th",{scope:"col",children:"Delete"}),(0,u.jsx)("th",{scope:"col",children:"Export"})]})}),(0,u.jsx)("tbody",{children:t.map(((e,s)=>0==r[e].submodules.length?(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",children:[" ",r[e].name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:r[e].permissions.add,onChange:s=>v(s.target.checked,s.target.name,e),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:r[e].permissions.view,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:r[e].permissions.modify,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:r[e].permissions.delete,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:r[e].permissions.export,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"export"})})]},s):r[e].submodules.map(((s,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",children:["  ",s.name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.add,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.view,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.modify,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.delete,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.export,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"export"})})]},t)))))})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-end  p-3",children:(0,u.jsx)("button",{className:"btn btn-primary ",onClick:()=>{x().isEqual(r,JSON.parse(JSON.stringify(l)))||h.groupName&&(j((e=>({...e,groupPermissions:r}))),s([...e,h]),j({groupName:"",groupPermissions:{}}),a(JSON.parse(JSON.stringify(l))))},children:" Save "})})]})})},g=()=>{const e=[{title:"Permission",component:(0,u.jsx)(j,{}),icon:(0,u.jsx)(a.x$1,{})}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{mainTitle:"Permission",pageTitle:"Permission",parentTitle:"Home"}),(0,u.jsx)(r.A,{tabs:e})]})}}}]);
//# sourceMappingURL=3196.11ecf771.chunk.js.map