"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3196],{50014:(e,s,t)=>{t.d(s,{A:()=>c});var i=t(65043),n=t(70579);const a=function(e){const{onClick:s,data:t,isActive:i}=e,{title:a,icon:c}=t;return(0,n.jsx)("div",{onClick:s,className:"card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ".concat(i?"active-tab":""),style:{height:"160px",width:"160px",border:i?"1px solid #4C9AFF":"1px solid #E6E6E6"},children:(0,n.jsx)("div",{className:"card-body d-flex align-items-center",children:(0,n.jsxs)("div",{className:"d-flex flex-column align-items-center w-100 pb-2",children:[c&&(0,n.jsx)("span",{className:"card-text text-primary fs-1 mb-2",children:c}),(0,n.jsx)("h6",{className:"card-text text-primary text-center fs-4",children:a})]})})})};const c=function(e){const{tabs:s=[]}=e,[t,c]=(0,i.useState)(s[0]);return(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"tabs row w-100",children:s.map(((e,s)=>(0,n.jsx)(a,{data:e,isActive:t===e,onClick:()=>{c(e)}},s)))}),t&&(0,n.jsx)("div",{children:t.component})]})}},3196:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var i=t(65043),n=t(9866),a=t(50014),c=t(60184),d=t(38628),r=t(64196),o=t(42297);const l=[{name:"Dashboard",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Business Groups",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Companies",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Branches",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Driver",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Vehicle Tracking",submodules:[{name:"Vechicle Tracking",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]},{name:"Reports",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Geofence",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Classify Trips",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Alert",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Expense",submodules:[],permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Technician",submodules:[{name:"Technician Details",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}},{name:"Techinian Tasks",permissions:{add:!0,view:!0,modify:!0,delete:!0,export:!0}}]}],m=JSON.parse(JSON.stringify(l));var p=t(33723),h=t(53536),x=t.n(h),u=t(70579);const g=()=>{const{groupsDataState:e,setGroupsDataState:s}=(0,i.useContext)(p.D),[t,n]=(0,i.useState)([]),[a,c]=(0,i.useState)(l),[h,g]=(0,i.useState)({groupName:"",groupPermissions:{}}),[j,f]=(0,i.useState)([]),y=(e,s,t,i)=>{let n=[...a];e?(n[t].submodules[i].permissions[s]=!0,c(n)):(n[t].submodules[i].permissions[s]=!1,c(n))},b=(e,s,t)=>{let i=[...a];e?(i[t].permissions[s]=!0,c(i)):(i[t].permissions[s]=!1,c(i))};return console.log(h),console.log("data saved",e),console.log("reset data",m),(0,i.useEffect)((()=>{f(e.map((e=>({value:e.index,label:e.groupName}))))}),[e]),(0,u.jsx)("div",{children:(0,u.jsxs)(d.A,{children:[(0,u.jsx)(d.A.Header,{children:(0,u.jsx)(d.A.Title,{children:"Permissions"})}),(0,u.jsxs)("div",{className:"d-flex justify-content-between m-2 mt-4 p-3",children:[(0,u.jsx)("input",{value:h.groupName,name:"groupname",type:"text",className:"p-2",onChange:e=>(e=>{const{value:s}=e.target;g((e=>({...e,groupName:s})))})(e),style:{marginRight:"1rem",border:"#D3D3D3 1px solid",borderRadius:"0.3rem",width:"15rem"},placeholder:"Feature Template Name"}),(0,u.jsxs)("div",{className:"d-flex justify-content-center",style:{width:"25rem"},children:[(0,u.jsx)(o.Ay,{options:j,placeholder:"Select a Feature Template",styles:{control:e=>({...e,width:"18rem"})},children:" "})," ",(0,u.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",padding:"7px 16px"},children:"Copy"})]})]}),(0,u.jsxs)(d.A.Body,{className:"d-flex",children:[(0,u.jsx)("div",{style:{flex:.4,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3  ",borderRadius:"0.5rem"},children:(0,u.jsxs)(r.A,{children:[(0,u.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,u.jsx)("tr",{children:(0,u.jsx)("th",{scope:"col",children:"Module"})})}),(0,u.jsx)("tbody",{children:a.map(((e,s)=>(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{children:[" ",(0,u.jsx)("input",{type:"checkbox",className:"form-check-input ",style:{marginRight:"0.2rem"},name:"create",checked:t.includes(s),onChange:e=>{return i=e.target.checked,a=s,void n(i?[...t,a]:t.filter((e=>e!==a)));var i,a}})," ",e.name]})},s)))})]})}),(0,u.jsx)("div",{style:{flex:1,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3",borderRadius:"0.5rem",marginLeft:"0.2rem"},children:(0,u.jsxs)(r.A,{children:[(0,u.jsx)("thead",{id:"feature_template",style:{position:"sticky",top:0,background:"white"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"col-4",style:{width:"130px"},children:"SubModules"}),(0,u.jsx)("th",{scope:"col",children:"Add"}),(0,u.jsx)("th",{scope:"col",children:"View"}),(0,u.jsx)("th",{scope:"col",children:"Modify"}),(0,u.jsx)("th",{scope:"col",children:"Delete"}),(0,u.jsx)("th",{scope:"col",children:"Export"})]})}),(0,u.jsx)("tbody",{className:"feature_template_table",children:t.map(((e,s)=>0==a[e].submodules.length?(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",style:{width:"130px"},children:[" ",a[e].name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:a[e].permissions.add,onChange:s=>b(s.target.checked,s.target.name,e),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:a[e].permissions.view,className:"form-check-input",onChange:s=>b(s.target.checked,s.target.name,e),name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:a[e].permissions.modify,className:"form-check-input",onChange:s=>b(s.target.checked,s.target.name,e),name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:a[e].permissions.delete,className:"form-check-input",onChange:s=>b(s.target.checked,s.target.name,e),name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:a[e].permissions.export,className:"form-check-input",onChange:s=>b(s.target.checked,s.target.name,e),name:"export"})})]},s):a[e].submodules.map(((s,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",children:[" ",s.name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.add,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.view,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.modify,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.delete,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.export,onChange:s=>y(s.target.checked,s.target.name,e,t),className:"form-check-input",name:"export"})})]},t)))))})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-end  p-3",children:(0,u.jsxs)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",padding:"7px 16px"},onClick:()=>{x().isEqual(a,JSON.parse(JSON.stringify(m)))||h.groupName&&(g((e=>({...e,groupPermissions:a}))),s([...e,h]),g({groupName:"",groupPermissions:{}}),c(JSON.parse(JSON.stringify(m))))},children:[" ","Save"," "]})})]})})},j=()=>{const e=[{title:"Permission",component:(0,u.jsx)(g,{}),icon:(0,u.jsx)(c.x$1,{})}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{mainTitle:"Permission",pageTitle:"Permission",parentTitle:"Home"}),(0,u.jsx)(a.A,{tabs:e})]})}}}]);
//# sourceMappingURL=3196.38f908d2.chunk.js.map