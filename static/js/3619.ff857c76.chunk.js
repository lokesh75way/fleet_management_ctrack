"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3619],{23619:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var l=s(65043),r=(s(16295),s(2364)),n=s(79942),t=s(70579);const c=()=>{const{isLoaded:e}=(0,n.KD)({id:"google-map-script",googleMapsApiKey:"AIzaSyA_nkYS3LnLGLrj4Qmky4NntAE97ivSxP8"}),a={lat:30.7099127700684,lng:76.69003904617821},[s,r]=l.useState(null),c=l.useCallback((function(e){const s=new window.google.maps.LatLngBounds(a);e.fitBounds(s),r(e)}),[a]),o=l.useCallback((function(e){r(null)}),[]);return e?(0,t.jsxs)(n.u6,{mapContainerStyle:{width:"100%",height:"100%"},center:a,zoom:10,onLoad:c,onUnmount:o,children:[(0,t.jsx)(n.pH,{position:a}),(0,t.jsx)(t.Fragment,{})]}):(0,t.jsx)(t.Fragment,{})};var o=s(69367),i=s(24858),d=s(18403),m=s(87742),u=s(15075),x=s(14282),h=s(23764),g=s(42457),f=s(73216);const p=()=>{const[e,a]=(0,l.useState)(null),[s,n]=(0,l.useState)(),p=(0,f.Zp)(),{id:j}=(0,f.g)(),b={control:e=>({...e,padding:".25rem 0 "})},N={lat:-3.745,lng:-38.523},[v,y]=(0,l.useState)(null),{register:S,formState:{errors:k},setValue:C,getValues:A,control:w,handleSubmit:F}=(l.useCallback((function(e){const a=new window.google.maps.LatLngBounds(N);e.fitBounds(a),y(e)}),[N]),l.useCallback((function(e){y(null)}),[]),(0,i.mN)({resolver:(0,d.t)(m._8)})),D=e=>{a(e.target.value),C("geofenceAccess",e.target.value)},L=e=>{try{if(j){const a=JSON.parse(localStorage.getItem("geofenceData")),s=a.findIndex((e=>e.id==j));return void(-1!==s&&(a[s]={...e,id:j},localStorage.setItem("geofenceData",JSON.stringify(a)),(0,g.V)("Geofence Updated!"),p("/vehicle-tracking")))}{e={...e};const a=JSON.parse(localStorage.getItem("geofenceData"));return e.id=a.length+1,a.push(e),localStorage.setItem("geofenceData",JSON.stringify(a)),(0,g.V)("New Geofence Created!"),void p("/vehicle-tracking")}}catch(a){(0,g.U)("Some error occured !!")}},V=JSON.parse(localStorage.getItem("geofenceData")).filter((e=>e.id==j)),[I,O]=(0,l.useState)(V);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"10px",backgroundColor:"#FFFDFD"},children:(0,t.jsx)("h2",{style:{fontSize:"20px"},children:"Geofence Detail"})}),(0,t.jsxs)("div",{className:"",style:{display:"flex",height:"88vh"},children:[(0,t.jsx)("div",{className:"col-md-3",style:{padding:"15px",boxShadow:"9px 0 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff",overflow:"auto"},children:(0,t.jsx)(i.Op,{children:(0,t.jsxs)("form",{onSubmit:F(L),children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("label",{htmlFor:"company",className:"form-label",children:["Company:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)(o.A,{type:"text",name:"company",register:S,label:"Company",defaultValue:I[0]?I[0].company:""}),(0,t.jsx)(h.A,{errorName:k.company})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("label",{htmlFor:"company",className:"form-label",children:["Name:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)(o.A,{type:"text",label:"Name",register:S,name:"name",defaultValue:I[0]?I[0].name:""}),(0,t.jsx)(h.A,{errorName:k.name})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"form-label",children:["Category:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)(i.xI,{name:"category",control:w,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:l,ref:c}}=e;return(0,t.jsx)(r.Ay,{onChange:e=>{n(e.value),C("category",e.value)},options:u.rF,ref:c,name:l,styles:b,defaultValue:I[0]?I[0].name:u.rF[0]})}}),!A("category")&&(0,t.jsx)(h.A,{errorName:k.category})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"form-label",children:["Geofence Access:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5rem"},children:[(0,t.jsxs)("div",{className:"form-check",children:[(0,t.jsx)("input",{type:"radio",className:"form-check-input",value:"public",checked:"public"===e,onChange:D}),(0,t.jsx)("label",{className:"form-check-label",children:"Public"})]}),(0,t.jsxs)("div",{className:"form-check",children:[(0,t.jsx)("input",{type:"radio",className:"form-check-input",value:"private",checked:"private"===e,onChange:D}),(0,t.jsx)("label",{className:"form-check-label",children:"Private"})]})]}),!A("geofenceAccess")&&(0,t.jsx)(h.A,{errorName:k.geofenceAccess})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{htmlFor:"contactNumber",className:"form-label",children:["Contact Number:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)(o.A,{type:"number",register:S,label:"Contact Number",name:"contactNumber",defaultValue:I[0]?I[0].contactNumber:""}),(0,t.jsx)(h.A,{errorName:k.contactNumber})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address:"}),(0,t.jsx)("textarea",{className:"form-control",...S("address"),label:"Address",name:"address",defaultValue:I[0]?I[0].address:""})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"form-label",children:["Tolerance:",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)(i.xI,{name:"tolerance",control:w,rules:{required:!0},render:e=>{let{field:{onChange:a,value:s,name:l,ref:c}}=e;return(0,t.jsx)(r.Ay,{onChange:e=>{n(e.value),C("tolerance",e.value)},options:u.gY,ref:c,name:l,styles:b,defaultValue:I[0]?I[0].name:u.gY[0]})}}),!A("contactNunber")&&(0,t.jsx)(h.A,{errorName:k.contactNumber})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Description:"}),(0,t.jsx)("textarea",{className:"form-control",...S("description"),name:"description",label:"Description",defaultValue:I[0]?I[0].description:""})]}),(0,t.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"},children:(0,t.jsxs)(x.A,{type:"submit",onClick:F(L),children:[" ","Next"]})})]})})}),(0,t.jsx)("div",{className:"col-md-9",style:{paddingLeft:"15px"},children:(0,t.jsx)(c,{})})]})]})}}}]);
//# sourceMappingURL=3619.ff857c76.chunk.js.map