"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[2604],{52604:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(65043),n=a(35475),r=a(9866),l=a(73216),i=a(6720),c=a(60184),d=a(51359),o=(a(71232),a(10966)),m=a(70579);const h=e=>{let{tableData:s,onConfirmDelete:a,editDrawerOpen:t}=e;const{can:n}=(0,o.S)(),r=n("subUser","modify"),l=n("subUser","delete");return(0,m.jsx)(m.Fragment,{children:s.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:s+1})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"text-primary",children:e.userName})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.mobileNumber})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.email})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{children:e.country})}),(r||l)&&(0,m.jsx)("td",{children:(0,m.jsxs)("span",{className:"d-flex justify-content-center",children:[r&&(0,m.jsx)("span",{className:"cursor-pointer",onClick:()=>t(e._id),children:(0,m.jsx)(c.uO9,{style:{color:"green",fontSize:"1.2rem"}})}),l&&(0,m.jsx)(d.A,{className:"cursor-pointer ",onConfirmDelete:a,id:e._id,children:(0,m.jsx)(i.b6i,{style:{color:"red",fontSize:"1.2rem"}})})]})})]},s)))})};var x=a(58387),p=a(74117),j=a(78919),u=a(33723),b=(a(42457),a(59167)),f=a(94692);const N=()=>{const{t:e}=(0,p.Bd)(),{isRtl:s}=(0,t.useContext)(u.D),{can:a,setUserPermission:i}=(0,o.S)(),c=(0,x.$)({"fa-solid fa-angle-right":s,"fa-solid fa-angle-left":!s}),d=(0,x.$)({"fa-solid fa-angle-left":s,"fa-solid fa-angle-right":!s}),[N,g]=(0,t.useState)(!0),{page:y,nextPage:S,prevPage:v,goToPage:U,setCount:_,totalCount:w}=(0,f.A)();(0,t.useEffect)((()=>{(async()=>{var e;g(!0);const{data:s,count:a}=await(0,j.wz)(y),t=JSON.parse(localStorage.getItem("permission"));i(null===t||void 0===t||null===(e=t[0])||void 0===e?void 0:e.permission),F(s),_(a),g(!1)})()}),[y]);const C=(0,l.Zp)(),{checkRole:k,checkUserName:T}=(0,b.A)(),D=(k(),T()),E=JSON.parse(localStorage.getItem("userJsonData")),I=JSON.parse(localStorage.getItem("userDetails"));"COMPANY"===k()?E.filter((e=>"USER"===e.role&&"STAFF"===e.type&&e.companyId===I.user.companyId)):"BUSINESS_GROUP"===k()?E.filter((e=>"user"===e.role&&"businessgroup"===e.type&&e.parent===D)):"SUPER_ADMIN"===k()?E.filter((e=>"USER"===e.role&&"STAFF"===e.type)):"USER"===k()&&E.filter((e=>"USER"===e.role&&"STAFF"===e.type&&e.companyId===I.user.companyId));const[A,F]=(0,t.useState)([]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.A,{mainTitle:"User",pageTitle:"User",parentTitle:"Home"}),(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body p-0",children:(0,m.jsxs)("div",{className:"table-responsive active-projects style-1 ItemsCheckboxSec shorting",children:[(0,m.jsxs)("div",{className:"tbl-caption d-flex justify-content-between text-wrap align-items-center",children:[(0,m.jsx)("h4",{className:"heading mb-0",children:e("users")}),(0,m.jsxs)("div",{children:[a("subUser","add")&&(0,m.jsxs)(n.N_,{to:"/subUser/create",className:"btn btn-primary btn-sm ms-1","data-bs-toggle":"offcanvas",children:["+ ",e("addUser")]})," "]})]}),(0,m.jsxs)("div",{id:"employee-tbl_wrapper",className:"dataTables_wrapper no-footer",children:[(0,m.jsxs)("table",{id:"empoloyees-tblwrapper",className:"table ItemsCheckboxSec dataTable no-footer mb-0",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:e("id")}),(0,m.jsx)("th",{children:e("username")}),(0,m.jsx)("th",{children:e("mobileNumber")}),(0,m.jsx)("th",{children:e("email")}),(0,m.jsx)("th",{children:e("location")}),(a("subUser","modify")||a("subUser","delete"))&&(0,m.jsx)("th",{children:e("action")})]})}),(0,m.jsx)("tbody",{children:(0,m.jsx)(h,{tableData:A,onConfirmDelete:async e=>{await(0,j.hG)(e)},editDrawerOpen:e=>{C("/subUser/edit/".concat(e))}},A)})]}),(0,m.jsxs)("div",{className:"d-sm-flex text-center justify-content-between align-items-center",children:[(0,m.jsxs)("div",{className:"dataTables_info",children:[e("showing")," ",10*(y-1)+1," ",e("to")," ",Math.min(10*y,w)," ",e("of")," ",w," ",e("entries")]}),(0,m.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers",id:"example2_paginate",children:[(0,m.jsx)(n.N_,{className:"paginate_button ".concat(1===y?"previous disabled":"previous"),to:"/business",onClick:()=>v(y-1),children:(0,m.jsx)("i",{className:c})}),(0,m.jsx)("span",{children:[...Array(Math.ceil(w/10)).keys()].map((e=>(0,m.jsx)(n.N_,{className:"paginate_button ".concat(y===e+1?"current":""),onClick:()=>U(e+1),children:e+1},e)))}),(0,m.jsx)(n.N_,{className:"paginate_button ".concat(10*y>=w?"next disabled":"next"),to:"/business",onClick:()=>S(y+1),children:(0,m.jsx)("i",{className:d})})]})]})]})]})})})})})})]})}}}]);
//# sourceMappingURL=2604.929f102e.chunk.js.map