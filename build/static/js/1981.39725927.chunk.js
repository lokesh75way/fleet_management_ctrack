"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[1981],{53358:(e,s,a)=>{a.d(s,{A:()=>p});var i=a(65043),n=a(79942),c=a(33723),t=(a(72213),a(49804)),l=a(6720),r=a(45394),d=a(60184),o=a(31462),m=a(32620),x=a(70579);const h=()=>{const{isTrafficClick:e,setIsTrafficClick:s}=(0,i.useContext)(c.D);return(0,x.jsxs)("div",{className:"panel",children:[(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r.dVm,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(m.U2u,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",onClick:a=>{a.preventDefault(),s(!e)},children:(0,x.jsx)(d.zmV,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(d.$Fg,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r._vB,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(r.o9J,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(o.nnb,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(l.uU7,{className:"modes_icon"})}),(0,x.jsx)("span",{className:"modes",children:(0,x.jsx)(t.yzF,{className:"modes_icon"})})]})},p=e=>{let{data:s}=e;const{isTrafficClick:a,setIsTrafficClick:t}=(0,i.useContext)(c.D),l={NODE_ENV:"production",PUBLIC_URL:"/fleet_management_ctrack",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY,{isLoaded:r}=(0,n.RH)({googleMapsApiKey:"".concat(l)});return(0,x.jsxs)("div",{className:"vehicle_tracking",children:[(0,x.jsx)(h,{}),r?(0,x.jsx)(n.u6,{mapContainerStyle:{width:"100%",height:"80vh"},center:s[0],zoom:13,children:a?(0,x.jsx)(n.vs,{}):null===s||void 0===s?void 0:s.map(((e,s)=>{let{lat:a,lng:i}=e;return(0,x.jsx)(n.X0,{position:{lat:a,lng:i}},s)}))}):(0,x.jsx)("h3",{children:" Loading...."})]})}},36655:(e,s,a)=>{a.r(s),a.d(s,{default:()=>_});var i=a(65043),n=a(9866),c=a(53358),t=a(33723),l=a(44816),r=a(86856),d=a(14282),o=a(84063),m=a(10457),x=(a(72213),a(60184)),h=a(32620),p=a(31462),j=a(6720),v=a(50423),u=a(47522),g=(a(19980),a(79904)),N=a.n(g),f=a(70579);const k=()=>{const[e,s]=(0,i.useState)([]),[a,n]=(0,i.useState)([]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(N(),{nodes:[{value:"company1@example.com",label:"Company 1",children:[{value:"driver1@example.com",label:"driver 1"},{value:"driver2@example.com",label:"driver 2"}]},{value:"company2@example.com",label:"Company 2",children:[{value:"driver3@example.com",label:"driver 1"},{value:"driver4@example.com",label:"driver 2"}]}],checked:e,expanded:a,onCheck:e=>{s(e)},onExpand:e=>{n(e)},showNodeIcon:!1,icons:{check:(0,f.jsx)("span",{className:"rct-icon rct-icon-check"})},customClass:{leaf:"custom-leaf-node"}})})},b=e=>{const{drivers:s}=e.data;let a={running:0,idle:0,stopped:0,inactive:0,nodata:0,total:s.length};s.forEach((e=>{a[e.status]++}));const{running:n,idle:c,stopped:t,inactive:l,nodata:r,total:o}=a,[m,x]=(0,i.useState)(["All"]),h=e=>{m.includes(e)?x(m.filter((s=>s!==e))):x([...m,e])};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"vehicle_tracking-object",children:[(0,f.jsxs)("span",{className:"light fs-9 ".concat(m.includes("Running")&&"vehicle_tracking-active"),onClick:()=>h("Running"),children:[(0,f.jsx)("p",{children:n}),(0,f.jsx)("span",{children:"Running"})]}),(0,f.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("Idle")&&"vehicle_tracking-active"),onClick:()=>h("Idle"),children:[(0,f.jsx)("p",{children:c}),(0,f.jsx)("span",{children:"Idle"})]}),(0,f.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("Stopped")&&"vehicle_tracking-active"),onClick:()=>h("Stopped"),children:[(0,f.jsx)("p",{children:t}),(0,f.jsx)("span",{children:"Stopped"})]}),(0,f.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("InActive")&&"vehicle_tracking-active"),onClick:()=>h("InActive"),children:[(0,f.jsx)("p",{children:l}),(0,f.jsx)("span",{children:"InActive"})]}),(0,f.jsxs)("span",{pill:!0,className:"light fs-9 ".concat(m.includes("NoData")&&"vehicle_tracking-active"),onClick:()=>h("NoData"),children:[(0,f.jsx)("p",{children:r}),(0,f.jsx)("span",{children:"NoData"})]}),(0,f.jsxs)("span",{className:"light fs-9 ".concat(m.includes("All")&&"vehicle_tracking-active"),onClick:()=>h("All"),children:[(0,f.jsx)("p",{children:o}),(0,f.jsx)("span",{children:"Total"})]})]}),(0,f.jsx)("div",{className:"d-flex mt-4 mb-4",children:(0,f.jsx)(u.ReactSearchAutocomplete,{className:"w-100",onSearch:()=>{},onSelect:()=>{}})}),(0,f.jsx)(k,{}),(0,f.jsx)("div",{className:"text-center  pt-4 mt-4 border-top border-dark",children:(0,f.jsx)(d.A,{className:"me-2",variant:"primary btn-sm",children:"Save Selection"})})]})},S=e=>{const[s,a]=(0,i.useState)("All"),[n,c]=(0,i.useState)([]),t=JSON.parse(localStorage.getItem("userJsonData")),[l,r]=(0,i.useState)(t.filter((e=>"Driver"===e.designation))),m=l.filter((e=>"Allocated"===e.activityStatus)).length,x=l.filter((e=>"Not Allocated"===e.activityStatus)).length,[p,j]=(0,i.useState)({}),v=l.length;(0,i.useEffect)((()=>{null!==p&&void 0!==p&&p.id?r(t.filter((e=>e.id===p.id))):"Allocated"===s?r(t.filter((e=>"Driver"===e.designation&&"Allocated"===e.activityStatus))):"Not Allocated"===s?r(t.filter((e=>"Driver"===e.designation&&"Not Allocated"===e.activityStatus))):"Total"!==s&&null!==p&&void 0!==p&&p.id||r(t.filter((e=>"Driver"===e.designation)))}),[p,s]);const g=t.filter((e=>"Driver"===e.designation)).map((e=>({id:e.id,name:e.firstName+" "+e.lastName})));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"px-2 driver_tracking-object",children:[(0,f.jsx)(o.A,{bg:"",pill:!0,className:"light border fs-9 ".concat("Allocated"===s&&"vehicle_tracking-active"),onClick:()=>a("Allocated"),children:(0,f.jsxs)("span",{children:[(0,f.jsx)("p",{children:m}),(0,f.jsx)("span",{children:"Allocated"})]})}),(0,f.jsx)(o.A,{bg:"",pill:!0,className:"light border fs-9 ".concat("Not Allocated"===s&&"vehicle_tracking-active"),onClick:()=>a("Not Allocated"),children:(0,f.jsxs)("span",{children:[(0,f.jsx)("p",{children:x}),(0,f.jsx)("span",{children:"Not Allocated"})]})}),(0,f.jsx)(o.A,{bg:"",pill:!0,className:"light border fs-9 ".concat("Total"===s&&"vehicle_tracking-active"),onClick:()=>a("Total"),children:(0,f.jsxs)("span",{children:[(0,f.jsx)("p",{children:v}),(0,f.jsx)("span",{children:"Total"})]})})]}),(0,f.jsx)("div",{className:"d-flex mt-4 mb-4",children:(0,f.jsx)(u.ReactSearchAutocomplete,{items:g,className:"w-100",onSearch:(e,s)=>{""===e&&r(t.filter((e=>"Driver"===e.designation)))},onSelect:e=>{j({id:e.id,name:e.name})}})}),(0,f.jsx)("div",{className:"d-flex flex-column bg-white p-2",style:{border:" 1px solid white",marginTop:".5rem",height:"65vh",overflowY:"scroll"},children:0===l.length?(0,f.jsx)("span",{className:"p-2 text-center fs-4 ",children:"No Record Found"}):l.map(((e,s)=>(0,f.jsxs)("div",{onClick:()=>{c(n.concat(e.id)),console.log(n)},className:"d-flex align-items-center border-bottom heading driver-select-object p-2",children:[(0,f.jsx)("div",{className:"form-check custom-checkbox ms-3 me-3",children:(0,f.jsx)("input",{type:"checkbox",className:"form-check-input",required:!0})}),(0,f.jsx)(h.vpJ,{className:"m-2 driver-select-object"}),(0,f.jsxs)("span",{className:"fs-4 ms-2",children:[e.firstName," ",e.lastName]})]},s)))}),(0,f.jsx)("div",{className:"mt-3 text-center",style:{width:"100%"},children:(0,f.jsx)(d.A,{className:"w-50",variant:"primary btn-lg",children:"XLS"})})]})},A=e=>{const{drivers:s}=e.data;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"d-flex mt-2",children:[(0,f.jsxs)("div",{className:"search-driver-tab",children:[(0,f.jsx)("input",{type:"text",className:"form-control-driver-tab"}),(0,f.jsx)(x.KSO,{style:{fontSize:"1.5rem",padding:"2px"}})]}),(0,f.jsx)(j.vVi,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem"}}),(0,f.jsx)(x.YsJ,{style:{fontSize:"1.5rem",padding:"3px",margin:"0 .3rem"}})]}),(0,f.jsxs)("div",{className:"d-flex mt-2 fs-6 align-items-center",children:[(0,f.jsx)("div",{className:"form-check custom-checkbox",style:{marginRight:"5px"},children:(0,f.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",required:!0})}),(0,f.jsx)("div",{className:" bg-white p-2 d-flex justify-content-between",style:{width:"80%"},children:(0,f.jsx)("span",{children:"Company 1"})}),(0,f.jsx)(p.OWu,{style:{fontSize:"2.2rem",padding:"2px",margin:"0 .3rem"}})]}),(0,f.jsx)(m.A,{className:"accordian accordion-solid-bg mt-4",defaultActiveKey:"0",flush:!0,children:(0,f.jsxs)(m.A.Item,{eventKey:"0",children:[(0,f.jsx)(m.A.Header,{children:"All"}),s.map(((e,s)=>(0,f.jsx)(m.A.Body,{className:"p-2",children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("div",{className:"form-check custom-checkbox",style:{marginRight:"5px"},children:(0,f.jsx)("input",{type:"checkbox",className:"form-check-input",id:"customCheckBox1",required:!0})}),(0,f.jsxs)("div",{className:" bg-white w-100 p-2 d-flex justify-content-between",children:[(0,f.jsx)("span",{children:e.name}),(0,f.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,f.jsx)(v.LzA,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}}),(0,f.jsx)(x.uO9,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}}),(0,f.jsx)(j.b6i,{style:{fontSize:"1.5rem",padding:"2px",margin:"0 .3rem",background:"white"}})]})]})]})})))]})})]})},C=e=>{let{tabData:s,handleToggleCardPosition:a,isOutside:i}=e;const n={name:"Company1",drivers:[{name:"driver1",timeStamp:"22-02-2024 3:00 PM",status:"running"},{name:"driver2",timeStamp:"22-02-2024 3:00 PM",status:"idle"},{name:"driver3",timeStamp:"22-02-2024 3:00 PM",status:"inactive"},{name:"driver4",timeStamp:"22-02-2024 3:00 PM",status:"running"},{name:"driver5",timeStamp:"22-02-2024 3:00 PM",status:"stopped"},{name:"driver6",timeStamp:"22-02-2024 3:00 PM",status:"stopped"},{name:"driver7",timeStamp:"22-02-2024 3:00 PM"}],allocatedDriver:4,notAllocatedDriver:3,totalDriver:7},c=[b,S,A];return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"default-tab outer-container ".concat(i?"toggleBarInside":"toggleBarOutside"),children:[(0,f.jsx)("button",{onClick:a,className:"driver_tracking_button",children:i?(0,f.jsx)(v.m6W,{}):(0,f.jsx)(v.OQo,{})}),(0,f.jsxs)(l.A.Container,{defaultActiveKey:s[0].name.toLowerCase(),children:[(0,f.jsx)(r.A,{as:"ul",className:"nav-tabs tracking_navTabs",children:s.map(((e,s)=>{const a=e.icon;return(0,f.jsx)(r.A.Item,{as:"li",children:(0,f.jsxs)(r.A.Link,{eventKey:e.name.toLowerCase(),children:[(0,f.jsx)(a,{className:"tab-icon"}),e.name]})},s)}))}),(0,f.jsx)(l.A.Content,{className:"p-2 py-4",style:{background:"#f5f5f5"},children:s.map(((e,s)=>{const a=c[s];return(0,f.jsx)(l.A.Pane,{eventKey:e.name.toLowerCase(),children:(0,f.jsx)(a,{data:n})},s)}))})]})]})})};var y=a(60397);const _=()=>{const{currentPosition:e,setCurrentPosition:s}=(0,i.useContext)(t.D),[a,l]=(0,i.useState)(!1),r=[{name:"Object",icon:y.ETQ},{name:"Driver",icon:x.x$1},{name:"Geofence",icon:j.vVi}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{mainTitle:"Vehicle Tracking",pageTitle:"Vehicle Tracking",parentTitle:"Tracking"}),(0,f.jsx)("div",{className:"backdrop ".concat(a?"d-none":"d-block"),onClick:()=>l(!0)}),(0,f.jsx)("div",{className:"p-2",children:(0,f.jsx)(c.A,{data:[{lat:30.7099475,lng:76.6900474},{lat:30.7333,lng:76.7794}]})}),(0,f.jsx)("div",{style:{zIndex:20},children:(0,f.jsx)(C,{tabData:r,handleToggleCardPosition:()=>{l(!a)},isOutside:a})})]})}}}]);
//# sourceMappingURL=1981.39725927.chunk.js.map