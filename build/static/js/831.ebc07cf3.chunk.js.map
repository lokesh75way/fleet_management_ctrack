{"version":3,"file":"static/js/831.ebc07cf3.chunk.js","mappings":"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","sources":["jsx/components/Tables/DriverTable.jsx","jsx/pages/Driver.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { MdDelete } from \"react-icons/md\";\nimport { FaEdit } from \"react-icons/fa\";\nimport DeleteModal from '../Modal/DeleteModal';\n\nconst DriverTable = ({tableData, onConfirmDelete, editDrawerOpen}) => {\n    return (\n        <>\n            {tableData.map((item, index) => (\n                <tr key={item.id}>\n                    <td><span>{item.id}</span></td>\n                    <td>\n                        <div className=\"products\">\n                            <div>\n                                <h6>{item.firstName} {item.lastName}</h6>\n                                <span>{item.employeeDesignation}</span>\n                            </div>\n                        </div>\n                    </td>\n                    <td><span>{item.age}</span></td>\n                    <td>\n                        <span>{item.contactNumber1}</span>\n                    </td>\n                    <td><span className=\"text-primary \">{item.drivingExperienceSince}</span></td>\n                    <td>\n                        <span>{item.city}</span>\n                    </td>\n                    <td>\n                    <span className={`badge light border-0 ${item.status ? 'badge-success' : 'badge-danger'} d-inline-block text-center`} style={{ width: '5rem' }}>{item.status ? 'Active' : \"InActive\"}</span>                    \n                    </td>\n                    <td>\n                        <span className='d-flex justify-content-center'>\n                            <span className='cursor-pointer' onClick={() => editDrawerOpen(item.id)} ><FaEdit style={{ color: \"green\", fontSize: \"1.2rem\" }} /></span>\n                            <DeleteModal className='cursor-pointer ' onConfirmDelete={onConfirmDelete} id={item.id} ><MdDelete style={{ color: \"red\", fontSize: \"1.2rem\" }} /></DeleteModal>\n                        </span>\n                    </td>\n                </tr>\n            ))}\n        </>\n    )\n}\n\nexport default DriverTable","import React, { useState, useRef, useEffect, useContext, useMemo } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nimport { IMAGES } from \"../constant/theme\";\r\nimport MainPagetitle from \"../layouts/MainPagetitle\";\r\nimport InviteCustomer from \"../constant/ModalList\";\r\nimport EmployeeOffcanvas from \"../constant/EmployeeOffcanvas\";\r\nimport DriverTable from \"../components/Tables/DriverTable\";\r\n\r\nconst Driver = (ref) => {\r\n  const navigate = useNavigate();\r\n  const allData = JSON.parse(localStorage.getItem(\"userJsonData\"));\r\n  const driverDataFromLocalStorage = allData.filter(\r\n    (item) => item.Designation === \"Driver\"\r\n  );\r\n  // const driverData =\r\n  const DriverDataMemoized = useMemo(() => {\r\n    return driverDataFromLocalStorage ? driverDataFromLocalStorage : [];\r\n  }, [driverDataFromLocalStorage]);\r\n\r\n  const [tableData, setTableData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loginCompanyId = localStorage.getItem(\"loginDetails-name\");\r\n    const role = localStorage.getItem(\"role\");\r\n    console.log(DriverDataMemoized, loginCompanyId);\r\n    let data1;\r\n    if (role === \"admin\") {\r\n      data1 = DriverDataMemoized;\r\n    } else if (role === \"businessgroup\") {\r\n      data1 = DriverDataMemoized.filter(\r\n        (driver) => driver.parentBusinessGroup === loginCompanyId\r\n      );\r\n    }\r\n    else if(role === 'branch'){\r\n      data1 = DriverDataMemoized.filter(\r\n        (driver) => driver.parentBranch === loginCompanyId\r\n      );\r\n    }\r\n    else if(role === 'company'){\r\n      data1 = DriverDataMemoized.filter(\r\n        (driver) => driver.parentCompany === loginCompanyId\r\n      );\r\n    }\r\n  \r\n    setTableData(data1);\r\n  }, []);\r\n\r\n  const [editData, setEditData] = useState({\r\n    id: 0,\r\n    status: \"\",\r\n    title: \"\",\r\n    contact: 0,\r\n    age: 0,\r\n    drivingExperience: 0,\r\n    gender: \"\",\r\n    location: \"\",\r\n  });\r\n  const [data, setData] = useState(\r\n    document.querySelectorAll(\"#employee-tbl_wrapper tbody tr\")\r\n  );\r\n  const sort = 10;\r\n  const activePage = useRef(0);\r\n  const [test, settest] = useState(0);\r\n  const chageData = (frist, sec) => {\r\n    for (var i = 0; i < data.length; ++i) {\r\n      if (i >= frist && i < sec) {\r\n        data[i].classList.remove(\"d-none\");\r\n      } else {\r\n        data[i].classList.add(\"d-none\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // const[formData, setFormData] = useState()\r\n\r\n  useEffect(() => {\r\n    setData(document.querySelectorAll(\"#employee-tbl_wrapper tbody tr\"));\r\n  }, [test, tableData]);\r\n\r\n  activePage.current === 0 && chageData(0, sort);\r\n  let paggination = Array(Math.ceil(data.length / sort))\r\n    .fill()\r\n    .map((_, i) => i + 1);\r\n  const onClick = (i) => {\r\n    activePage.current = i;\r\n    chageData(activePage.current * sort, (activePage.current + 1) * sort);\r\n    settest(i);\r\n  };\r\n  const onConfirmDelete = (id) => {\r\n    const updatedData = tableData.filter((item) => item.id !== id);\r\n    setTableData(updatedData);\r\n\r\n    // Remove item from local storage\r\n    const updatedLocalStorageData = DriverDataMemoized.filter(\r\n      (item) => item.id !== id\r\n    );\r\n    localStorage.setItem(\"driverData\", JSON.stringify(updatedLocalStorageData));\r\n  };\r\n  const editDrawerOpen = (item) => {\r\n    tableData.map((table) => table.id === item && setEditData(table));\r\n    navigate(`/driver/edit/${item}`);\r\n    // setEditTableData(item);\r\n  };\r\n  \r\n  const employe = useRef();\r\n  return (\r\n    <>\r\n      <MainPagetitle\r\n        mainTitle=\"Drivers\"\r\n        pageTitle={\"Drivers\"}\r\n        parentTitle={\"Home\"}\r\n      />\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-12\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body p-0\">\r\n                <div className=\"table-responsive active-projects style-1 ItemsCheckboxSec shorting\">\r\n                  <div className=\"tbl-caption d-flex justify-content-between text-wrap align-items-center\">\r\n                    <h4 className=\"heading mb-0\">Drivers</h4>\r\n                    <div>\r\n                      <Link\r\n                        to={\"/driver/create\"}\r\n                        className=\"btn btn-primary btn-sm ms-1\"\r\n                        data-bs-toggle=\"offcanvas\"\r\n                        // onClick={() => employe.current.showModal()}\r\n                      >\r\n                        + Add Driver\r\n                      </Link>{\" \"}\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    id=\"employee-tbl_wrapper\"\r\n                    className=\"dataTables_wrapper no-footer\"\r\n                  >\r\n                    <table\r\n                      id=\"empoloyees-tblwrapper\"\r\n                      className=\"table ItemsCheckboxSec dataTable no-footer mb-0\"\r\n                    >\r\n                      <thead>\r\n                        <tr>\r\n                          <th>ID</th>\r\n                          <th>Employee Name</th>\r\n                          <th>Age</th>\r\n                          <th>Contact Number</th>\r\n                          <th>Driving Experience Since</th>\r\n                          <th>City</th>\r\n                          <th>Status</th>\r\n                          <th>Action</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <DriverTable\r\n                          editData={editData}\r\n                          tableData={tableData}\r\n                          onConfirmDelete={onConfirmDelete}\r\n                          editDrawerOpen={editDrawerOpen}\r\n                          setEditData={setEditData}\r\n                        />\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"d-sm-flex text-center justify-content-between align-items-center\">\r\n                      <div className=\"dataTables_info\">\r\n                        Showing {activePage.current * sort + 1} to{\" \"}\r\n                        {data.length > (activePage.current + 1) * sort\r\n                          ? (activePage.current + 1) * sort\r\n                          : data.length}{\" \"}\r\n                        of {data.length} entries\r\n                      </div>\r\n                      <div\r\n                        className=\"dataTables_paginate paging_simple_numbers\"\r\n                        id=\"example2_paginate\"\r\n                      >\r\n                        <Link\r\n                          className=\"paginate_button previous disabled\"\r\n                          to=\"/driver\"\r\n                          onClick={() =>\r\n                            activePage.current > 0 &&\r\n                            onClick(activePage.current - 1)\r\n                          }\r\n                        >\r\n                          <i className=\"fa-solid fa-angle-left\" />\r\n                        </Link>\r\n                        <span>\r\n                          {paggination.map((number, i) => (\r\n                            <Link\r\n                              key={i}\r\n                              to=\"/driver\"\r\n                              className={`paginate_button  ${\r\n                                activePage.current === i ? \"current\" : \"\"\r\n                              } `}\r\n                              onClick={() => onClick(i)}\r\n                            >\r\n                              {number}\r\n                            </Link>\r\n                          ))}\r\n                        </span>\r\n                        <Link\r\n                          className=\"paginate_button next\"\r\n                          to=\"/driver\"\r\n                          onClick={() =>\r\n                            activePage.current + 1 < paggination.length &&\r\n                            onClick(activePage.current + 1)\r\n                          }\r\n                        >\r\n                          <i className=\"fa-solid fa-angle-right\" />\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Driver;\r\n"],"names":["_ref","tableData","onConfirmDelete","editDrawerOpen","_jsx","_Fragment","children","map","item","index","_jsxs","id","className","firstName","lastName","employeeDesignation","age","contactNumber1","drivingExperienceSince","city","concat","status","style","width","onClick","FaEdit","color","fontSize","DeleteModal","MdDelete","ref","navigate","useNavigate","driverDataFromLocalStorage","JSON","parse","localStorage","getItem","filter","Designation","DriverDataMemoized","useMemo","setTableData","useState","useEffect","loginCompanyId","role","data1","console","log","driver","parentBusinessGroup","parentBranch","parentCompany","editData","setEditData","title","contact","drivingExperience","gender","location","data","setData","document","querySelectorAll","sort","activePage","useRef","test","settest","chageData","frist","sec","i","length","classList","remove","add","current","paggination","Array","Math","ceil","fill","_","MainPagetitle","mainTitle","pageTitle","parentTitle","Link","to","DriverTable","updatedData","updatedLocalStorageData","setItem","stringify","table","number"],"sourceRoot":""}