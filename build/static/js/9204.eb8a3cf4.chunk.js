"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[9204],{86823:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var s=t(65043),a=t(73216),n=t(44816),i=t(86856),o=t(24858),l=(t(9531),t(9866)),d=t(56748),c=t(39296),u=t(42364),m=t(18403),g=t(87742),h=t(42457),v=t(70579);const p=()=>{const[e,r]=(0,s.useState)(0),t=["Profile","Additional Info","Document"],p=[d.A,c.A,u.A],f=t.length,{id:S}=(0,a.g)(),x=(0,a.Zp)(),{register:j,formState:{errors:A},setValue:N,getValues:C,control:D,handleSubmit:b}=(0,o.mN)({resolver:(0,m.t)(0===e?g.no:g.Ez)}),J=t=>{if(e===f-1)try{if(S){const e=JSON.parse(localStorage.getItem("userJsonData"));console.log(S);const r=e.findIndex((e=>e.id==S));return void(-1!==r&&(e[r]={...t,id:S,designation:"driver",role:"user"},localStorage.setItem("userJsonData",JSON.stringify(e)),(0,h.V)("Driver Updated!")))}{t={...t,designation:"driver",role:"user"};const e=JSON.parse(localStorage.getItem("userJsonData"));return t.id=e.length+1,e.push(t),localStorage.setItem("userJsonData",JSON.stringify(e)),(0,h.V)("New Driver Created!"),void x("/driver")}}catch(s){(0,h.U)("Some error occured !!")}console.log("data from drivers",t),r((e=>Math.min(e+1,f-1)))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.A,{mainTitle:"Driver",pageTitle:"Edit",parentTitle:"Driver"}),(0,v.jsx)("div",{className:"m-2 p-2",children:(0,v.jsx)(o.Op,{children:(0,v.jsx)("form",{onSubmit:b(J),children:(0,v.jsx)("div",{className:"default-tab",children:(0,v.jsxs)(n.A.Container,{defaultActiveKey:t[0].toLowerCase(),children:[(0,v.jsx)(i.A,{as:"ul",className:"nav-tabs",children:t.map(((t,s)=>(0,v.jsx)(i.A.Item,{as:"li",children:(0,v.jsx)(i.A.Link,{style:{padding:".5rem 2rem"},eventKey:t.toLowerCase(),active:s===e,onClick:()=>r(s),children:t})},s)))}),(0,v.jsx)(n.A.Content,{className:"pt-4",children:t.map(((r,s)=>{const a=p[s];return(0,v.jsx)(n.A.Pane,{eventKey:r.toLowerCase(),active:s===e,children:(0,v.jsx)(a,{data:t,control:D,setValue:N,register:j,getValues:C,errors:A,handleSubmit:b,onSubmit:J})},s)}))})]})})})})})]})}}}]);
//# sourceMappingURL=9204.eb8a3cf4.chunk.js.map