"use strict";(self.webpackChunkFLEET=self.webpackChunkFLEET||[]).push([[3196],{50014:(e,s,i)=>{i.d(s,{A:()=>o});var t=i(65043),d=i(70579);const n=function(e){const{onClick:s,data:i,isActive:t}=e,{title:n,icon:o}=i;return(0,d.jsx)("div",{onClick:s,className:"card same-card mx-2 bg-white col-xl-2 col-lg-4 cold-md-4 col-sm-6 ".concat(t?"active-tab":""),style:{height:"160px",width:"160px",border:t?"1px solid #4C9AFF":"1px solid #E6E6E6"},children:(0,d.jsx)("div",{className:"card-body d-flex align-items-center",children:(0,d.jsxs)("div",{className:"d-flex flex-column align-items-center w-100 pb-2",children:[o&&(0,d.jsx)("span",{className:"card-text text-primary fs-1 mb-2",children:o}),(0,d.jsx)("h6",{className:"card-text text-primary text-center fs-4",children:n})]})})})};const o=function(e){const{tabs:s=[]}=e,[i,o]=(0,t.useState)(s[0]);return(0,d.jsxs)("div",{className:"container-fluid",children:[(0,d.jsx)("div",{className:"tabs row w-100",children:s.map(((e,s)=>(0,d.jsx)(n,{data:e,isActive:i===e,onClick:()=>{o(e)}},s)))}),i&&(0,d.jsx)("div",{children:i.component})]})}},3196:(e,s,i)=>{i.r(s),i.d(s,{default:()=>y});var t=i(65043),d=i(9866),n=i(50014),o=i(60184),r=i(38628),a=i(64196),m=i(42297);const c=[{name:"Dashboard",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Sub Companies",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Driver",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Core HR",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Finance",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Performance",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Projects",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Tracking",submodules:[{name:"subcompanies",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"drivers",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}}]},{name:"Reports",submodules:[{name:"activity",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"geofence address",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"sensor",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"alert",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"reminder",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"expense",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"fuel",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"RPM",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"temperature",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"driver behaviour",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"obd",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"billing",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"customized",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"logs",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"hardware maintenance",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"elock",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"trip classification",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}}]},{name:"Charts",submodules:[{name:"Activity",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Alert",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Fuel",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Expense",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Temperature Chart",permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}}]},{name:"Technical",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}},{name:"Manage Clients",submodules:[],permissions:{add:!1,view:!1,modify:!1,delete:!1,export:!1}}],l=JSON.parse(JSON.stringify(c));var p=i(33723),x=i(53536),h=i.n(x),u=i(70579);const f=()=>{const{groupsDataState:e,setGroupsDataState:s}=(0,t.useContext)(p.D),[i,d]=(0,t.useState)([]),[n,o]=(0,t.useState)(c),[x,f]=(0,t.useState)({groupName:"",groupPermissions:{}}),[y,g]=(0,t.useState)([]),j=(e,s,i,t)=>{let d=[...n];e?(d[i].submodules[t].permissions[s]=!0,o(d)):(d[i].submodules[t].permissions[s]=!1,o(d))},v=(e,s,i)=>{let t=[...n];e?(t[i].permissions[s]=!0,o(t)):(t[i].permissions[s]=!1,o(t))};return console.log(x),console.log("data saved",e),console.log("reset data",l),(0,t.useEffect)((()=>{g(e.map((e=>({value:e.index,label:e.groupName}))))}),[e]),(0,u.jsx)("div",{children:(0,u.jsxs)(r.A,{children:[(0,u.jsx)(r.A.Header,{children:(0,u.jsx)(r.A.Title,{children:"Permissions"})}),(0,u.jsxs)("div",{className:"d-flex justify-content-between m-2 mt-4 p-3",children:[(0,u.jsx)("input",{value:x.groupName,name:"groupname",type:"text",className:"p-2",onChange:e=>(e=>{const{value:s}=e.target;f((e=>({...e,groupName:s})))})(e),style:{marginRight:"1rem",border:"#D3D3D3 1px solid",borderRadius:"0.3rem",width:"15rem"},placeholder:"Group Name"}),(0,u.jsxs)("div",{className:"d-flex justify-content-center",style:{width:"25rem"},children:[(0,u.jsx)(m.Ay,{options:y,placeholder:"Select group to copy from",styles:{control:e=>({...e,width:"18rem"})},children:"   "}),"            ",(0,u.jsx)("button",{className:"btn btn-primary p-2",style:{marginLeft:"1rem"},children:"Copy"})]})]}),(0,u.jsxs)(r.A.Body,{className:"d-flex",children:[(0,u.jsx)("div",{style:{flex:.4,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3  ",borderRadius:"0.5rem"},children:(0,u.jsxs)(a.A,{children:[(0,u.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,u.jsx)("tr",{children:(0,u.jsx)("th",{scope:"col",children:"Module"})})}),(0,u.jsx)("tbody",{children:n.map(((e,s)=>(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{children:[" ",(0,u.jsx)("input",{type:"checkbox",className:"form-check-input ",style:{marginRight:"0.2rem"},name:"create",checked:i.includes(s),onChange:e=>{return t=e.target.checked,n=s,void d(t?[...i,n]:i.filter((e=>e!==n)));var t,n}})," ",e.name]})},s)))})]})}),(0,u.jsx)("div",{style:{flex:1,maxHeight:"50vh",overflow:"auto",border:"1px solid #D3D3D3",borderRadius:"0.5rem",marginLeft:"0.2rem"},children:(0,u.jsxs)(a.A,{children:[(0,u.jsx)("thead",{style:{position:"sticky",top:0,background:"white"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"col-4",children:"SubModules"}),(0,u.jsx)("th",{scope:"col",children:"Add"}),(0,u.jsx)("th",{scope:"col",children:"View"}),(0,u.jsx)("th",{scope:"col",children:"Modify"}),(0,u.jsx)("th",{scope:"col",children:"Delete"}),(0,u.jsx)("th",{scope:"col",children:"Export"})]})}),(0,u.jsx)("tbody",{children:i.map(((e,s)=>0==n[e].submodules.length?(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",children:[" ",n[e].name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:n[e].permissions.add,onChange:s=>v(s.target.checked,s.target.name,e),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:n[e].permissions.view,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:n[e].permissions.modify,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:n[e].permissions.delete,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:n[e].permissions.export,className:"form-check-input",onChange:s=>v(s.target.checked,s.target.name,e),name:"export"})})]},s):n[e].submodules.map(((s,i)=>(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"col-2",children:["  ",s.name]}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.add,onChange:s=>j(s.target.checked,s.target.name,e,i),className:"form-check-input",name:"add"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.view,onChange:s=>j(s.target.checked,s.target.name,e,i),className:"form-check-input",name:"view"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.modify,onChange:s=>j(s.target.checked,s.target.name,e,i),className:"form-check-input",name:"modify"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.delete,onChange:s=>j(s.target.checked,s.target.name,e,i),className:"form-check-input",name:"delete"})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:s.permissions.export,onChange:s=>j(s.target.checked,s.target.name,e,i),className:"form-check-input",name:"export"})})]},i)))))})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-end  p-3",children:(0,u.jsx)("button",{className:"btn btn-primary ",onClick:()=>{h().isEqual(n,JSON.parse(JSON.stringify(l)))||x.groupName&&(f((e=>({...e,groupPermissions:n}))),s([...e,x]),f({groupName:"",groupPermissions:{}}),o(JSON.parse(JSON.stringify(l))))},children:" Save "})})]})})},y=()=>{const e=[{title:"Permission",component:(0,u.jsx)(f,{}),icon:(0,u.jsx)(o.x$1,{})}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.A,{mainTitle:"Permission",pageTitle:"Permission",parentTitle:"Home"}),(0,u.jsx)(n.A,{tabs:e})]})}}}]);
//# sourceMappingURL=3196.c3a986c7.chunk.js.map